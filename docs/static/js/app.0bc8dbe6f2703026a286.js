webpackJsonp([0],[function(e,t,n){var a,i,r;a=n(24),r=n(161),i=function(e,t,n){n=n||"",a||"undefined"!=typeof InstallTrigger?console.log("[ D3plus ] "+t):0===e.indexOf("group")?console[e]("%c[ D3plus ]%c "+t,"font-weight: 800;color: #b35c1e;margin-left: 0px;","font-weight:200;"+n):console[e]("%c"+t,n+"font-weight:200;")},i.comment=function(e){this("log",e,"color:#aaa;")},i.error=function(e,t){this("groupCollapsed","ERROR: "+e,"font-weight:800;color:#D74B03;"),this.stack(),this.wiki(t),this.groupEnd()},i.group=function(e){this("group",e,"color:#888;")},i.groupCollapsed=function(e){this("groupCollapsed",e,"color:#888;")},i.groupEnd=function(){a||console.groupEnd()},i.log=function(e){this("log",e,"color:#444444;")},i.stack=function(){var e,t,n,i,r,l,o;a||(e=new Error,e.stack&&(l=e.stack.split("\n"),l=l.filter(function(e){return 0!==e.indexOf("Error")&&e.indexOf("d3plus.js:")<0&&e.indexOf("d3plus.min.js:")<0}),l.length&&l[0].length&&(r=window.chrome?"at ":"@",o=l[0],o.indexOf(r)>=0&&(o=o.split(r)[1]),l=o.split(":"),3===l.length&&l.pop(),t=l.pop(),i=l.join(":").split("/"),i=i[i.length-1],n="line "+t+" of "+i+": "+o,this("log",n,"color:#D74B03;"))))},i.time=function(e){a||console.time(e)},i.timeEnd=function(e){a||console.timeEnd(e)},i.warning=function(e,t){this("groupCollapsed",e,"color:#888;"),this.stack(),this.wiki(t),this.groupEnd()},i.wiki=function(e){e&&(e in r&&(e=d3plus.repo+"wiki/"+r[e]),this("log","documentation: "+e,"color:#aaa;"))},e.exports=i},function(e,t,n){var a,i,r,l,o,s,u,c,d,f;d=n(2),c=n(4),u=function(e,t,n,l){var o,s,u,f;if(s=d(t),"function"==typeof n&&s)return n(t,e);if(s){if(n in t)return t[n];if(o=e.data.cacheID+"_"+l,a(t,o,e),n in t.d3plus.data[o])return t.d3plus.data[o][n];if(l in t)t=t[l];else{if(!(e.id.value in t))return null;if(t=t[e.id.value],l!==n&&(u=r(e,t,l,e.id.value)),null!==u&&void 0!==u||(u=i(e,t,l,e.id.value)),null===u||void 0===u)return null;if(l===n)return u;t=u}}return t instanceof Array&&!d(t[0])&&(t=c(t)),t instanceof Array&&d(t[0])&&(f=c(t,n),f.length)?f:(f=r(e,t,n,l))?f:f=i(e,t,n,l)},r=function(e,t,n,a){var i;return e.data.viz instanceof Array&&n in e.data.keys&&(i=c(s(e.data.viz,t,a),n)),i&&i.length?i:null},i=function(e,t,n,a){var i,r,l,o;if("attrs"in e&&e.attrs.value&&n in e.attrs.keys)if((i=d(e.attrs.value)&&a in e.attrs.value?e.attrs.value[a]:e.attrs.value)instanceof Array){if(l=c(s(i,t,a),n),l.length)return l}else if(t instanceof Array){if(i=[function(){var e,n,a;if(r in i){for(a=[],e=0,n=t.length;e<n;e++)r=t[e],a.push(i[r]);return a}}()],i.length&&(o=c(i,n),o.length))return o}else if(t in i)return i[t][n];return null},s=function(e,t,n){return t instanceof Array?e.filter(function(e){return t.indexOf(e[n])>=0}):e.filter(function(e){return e[n]===t})},a=function(e,t,n){return"d3plus"in e||(e.d3plus={}),"data"in e.d3plus||(e.d3plus.data={}),!(n.data.changed||n.attrs&&n.attrs.changed)&&t in e.d3plus.data||(e.d3plus.data[t]={}),e},f=function(e,t,n,a,i){var r,l,o,s,u,c,f;if(null===i)return i;c="time"in e&&e.time.value===a,i instanceof Array||(i=[i]);for(o=s=0,u=i.length;s<u;o=++s)f=i[o],c&&null!==f&&f.constructor!==Date&&(f+="",4===f.length&&parseInt(f)+""===f&&(f+="/01/01"),"Invalid Date"!==(l=new Date(f))&&(i[o]=l));return 1===i.length&&(i=i[0]),null===i||!d(t)||"string"!=typeof a||a in t||(r=e.data.cacheID+"_"+n,t.d3plus.data[r][a]=i),i},o=function(e,t,n,a){var i,r,l,o,s;for(s=[],r=0,l=t.length;r<l;r++)i=t[r],d(i)?(o=u(e,i,n,a),s.push(f(e,i,a,n,o))):s.push(i);return"number"!=typeof s[0]&&(s=c(s)),1===s.length?s[0]:s},l=function(e,t,n,a){var i,r;return n?"number"==typeof n?n:(i=d(t),a||(a=e.id.value),i&&t.values instanceof Array?r=o(e,t.values,n,a):i&&t[n]instanceof Array?r=o(e,t[n],n,a):t instanceof Array?r=o(e,t,n,a):(r=u(e,t,n,a),r=f(e,t,a,n,r)),r):null},e.exports=l},function(e,t){e.exports=function(e){return e&&e.constructor===Object}},,function(e,t,n){var a,i;a=n(2),i=function(e,t,n,r,l,o){var s,u,c,d,f,p,v,h,g,m,x,y,b,w;if(void 0===e)return[];if(r&&void 0===l&&(l=r.id.value),o=!0===o&&void 0===o,e instanceof Array||(e=[e]),m=[],void 0===t)return e.reduce(function(e,t){var n;return n=JSON.stringify(t),m.indexOf(n)<0&&(e.indexOf(t)<0&&e.push(t),m.push(n)),e},[]);if(w=[],s=function(e){var t;if(void 0!==e&&null!==e&&(t=JSON.stringify(e),m.indexOf(t)<0))return w.push(e),m.push(t)},"function"==typeof n&&r)for(c=0,p=e.length;c<p;c++)for(u=e[c],b=i(n(r,u,t,l)),d=0,v=b.length;d<v;d++)y=b[d],s(y);else if("function"==typeof t)for(f=0,h=e.length;f<h;f++)u=e[f],b=t(u),s(b);else for(x=0,g=e.length;x<g;x++)u=e[x],a(u)&&(b=u[t],s(b));return o?w.sort(function(e,t){return e-t}):w},e.exports=i},function(e,t,n){var a,i;a=n(24),i=n(38),e.exports=i?{click:"click",down:"touchstart",up:"touchend",over:a?"mouseenter":"mouseover",out:a?"mouseleave":"mouseout",move:"mousemove"}:{click:"click",down:"mousedown",up:"mouseup",over:a?"mouseenter":"mouseover",out:a?"mouseleave":"mouseout",move:"mousemove"}},function(e,t,n){var a,i,r;i=n(21),r=n(2),a=function(e){var t;return r(e)?i(e):e instanceof Array?(t=[],e.forEach(function(e){return t.push(a(e))}),t):e},e.exports=a},,function(e,t){e.exports=function(e){return e||(e=!1),{accepted:[!1,Array,Function,Number,Object,String],callback:{accepted:[!1,Function],value:!1},global:e,process:Array,value:[]}}},,function(e,t,n){var a,i;i=n(98),a=["Helvetica Neue","HelveticaNeue","Helvetica","Arial","sans-serif"],e.exports=function(e){return void 0===e&&(e=a),{process:i,value:e}}},function(e,t,n){var a,i,r;a=n(104),i=n(24),r=n(1),e.exports=function(e,t){return e.attr("fill",function(e){return e.d3plus&&e.d3plus.spline?"none":a(e,t)}).style("stroke",function(e){var n;return e.d3plus&&e.d3plus.stroke?e.d3plus.stroke:(n=e.values?a(e.values[0],t):a(e,t,!0),d3.rgb(n).darker(.6))}).style("stroke-width",function(e){var n;if(i&&t.types[t.type.value].zoom)return 0;if("line"===e.d3plus.shape&&t.size.value){if(t.size.value.constructor===Number)return t.size.value;if((n=r(t,e,t.size.value))&&n.length)return d3.max(n)}return t.data.stroke.width}).attr("opacity",t.data.opacity).attr("vector-effect","non-scaling-stroke")}},,function(e,t,n){var a,i;a=n(48),i=n(162),e.exports=function(e,t,n,r,l,o){var s,u,c,d;if(!e||e.length<=1)return e||[];if(l)for(t||(t=l.order.value||l.size.value||l.id.value),n||(n=l.order.sort.value),r||(r=l.color.value||[]),c=0,d=e.length;c<d;c++)s=e[c],s.d3plus||(s.d3plus={}),u="d3plus"in s&&"d3plus"in s.d3plus?s.d3plus:s,s.d3plus.sortKeys=i(l,u,t,r,o);return e.sort(function(e,i){return a(e,i,t,n,r,l,o)})}},function(e,t,n){var a,i,r,l,o,s,u;a=n(1),l=n(59),s=n(90),u=n(2),o=n(4),e.exports=function(e,t,n){var l,s,c,d,f;if(u(t)&&"d3plus"in t&&"color"in t.d3plus)return t.d3plus.color;if(void 0===n&&(n=e.id.value),"number"==typeof n&&(n=e.id.nesting[n]),e.color.value){for(c=[],d=e.id.nesting.indexOf(n);d>=0;){if(s=e.id.nesting[d],f=o(t,e.color.value,a,e,s),1===f.length&&(f=f[0]),!(f instanceof Array)&&void 0!==f&&null!==f){l=i(e,t,f,n),c.indexOf(l)<0&&c.push(l);break}d--}return 1===c.length?c[0]:e.color.missing}return r(e,t,n)},i=function(e,t,n,a){return n?e.color.valueScale?e.color.valueScale(n):s(n)?n:r(e,n,a):e.color.value&&"function"==typeof e.color.valueScale?e.color.valueScale(0):r(e,t,a)},r=function(e,t,n){return u(t)&&(t=a(e,t,n)),t instanceof Array&&(t=t[0]),l(t,e.color.scale.value)}},function(e,t){e.exports=function(e){var t;return t=["capitalize","lowercase","none","uppercase"],!1===e&&t.unshift(!1),t.indexOf(e)<0&&(e="none"),{accepted:t,value:e}}},,function(e,t){e.exports=function(e){var t;return t=["line-through","none","overline","underline"],!1===e&&t.unshift(!1),t.indexOf(e)<0&&(e="none"),{accepted:t,value:e}}},function(e,t){e.exports=function(e){var t,n,a,i,r;return i=d3.rgb(e),a=i.r,n=i.g,t=i.b,r=(299*a+587*n+114*t)/1e3,r>=128?"#444444":"#f7f7f7"}},function(e,t){e.exports=function(e){return e?(d3.selectAll("div#d3plus_tooltip_curtain_"+e).remove(),d3.selectAll("div#d3plus_tooltip_id_"+e).remove()):(d3.selectAll("div.d3plus_tooltip_curtain").remove(),d3.selectAll("div.d3plus_tooltip").remove())}},function(e,t){e.exports=function(e){var t;return t=d3.hsl(e),t.l>.45&&(t.s>.8&&(t.s=.8),t.l=.45),t.toString()}},function(e,t,n){var a,i;a=n(23),i=n(2),e.exports=function(e,t){var n,r;return n=function(e,t,r){var l,o,s;o=[];for(l in e)s=e[l],void 0!==s?!r&&i(s)?("object"!=typeof t[l]&&(t[l]={}),o.push(n(s,t[l],0===l.indexOf("d3plus")))):!a(s)&&s instanceof Array?o.push(t[l]=s.slice(0)):o.push(t[l]=s):o.push(void 0);return o},r={},e&&n(e,r),t&&n(t,r),r}},function(e,t){e.exports=function(e,t){var n;return[],n=1/(t-1)*(e[1]-e[0]),d3.range(e[0],e[1]+n,n)}},function(e,t,n){var a;a=n(24),e.exports=function(e){return a?"object"==typeof e&&e instanceof Array&&"size"in e&&"select"in e:e instanceof d3.selection}},,,function(e,t,n){var a;a=n(62),e.exports=function(e,t,n){var i,r,l,o,s,u,c;return n||(n={}),t=t||{},u=n.parent||a("svg").append("text"),o=[],e instanceof Array||(e=[e]),c=u.selectAll("tspan").data(e),i={left:"0px",position:"absolute",top:"0px",x:0,y:0},s=0,"letter-spacing"in t&&(s=parseFloat(t["letter-spacing"]),delete t["letter-spacing"]),l=function(e){var t;return t=0,s&&(t=(d3.select(e).text().length-1)*s),e.getComputedTextLength()+t},r=function(e){return e.parentNode.getBBox().height||e.getBoundingClientRect().height},c.enter().append("tspan").text(String).style(t).attr(i).each(function(e){if("function"==typeof n.mod)return n.mod(this)}).each(function(e){var t,n,a;return t=d3.select(this).selectAll("tspan"),t.size()?(a=[],t.each(function(){return a.push(l(this))}),a=d3.max(a)):a=l(this),n=r(this),o.push({height:n,text:e,width:a})}),c.remove(),n.parent||u.remove(),o}},function(e,t){var n;n=function(){var e;return e="-webkit-transform"in document.body.style?"-webkit-":"-moz-transform"in document.body.style?"-moz-":"-ms-transform"in document.body.style?"-ms-":"-o-transform"in document.body.style?"-o-":"",n=function(){return e},e},e.exports=n},function(e,t){e.exports="rtl"===d3.select("html").attr("dir")},function(e,t,n){var a,i,r,l,o;a=n(64),r=n(208),i=n(0),l=n(209),o=n(211),e.exports=function(){var e;return e={self:function(t){return t.each(function(){r(e),e.size.value[0]<=e.height.inner?(l(e),o(e)):e.container.value.html(""),e.dev.value&&i.timeEnd("total draw time")}),e.self}},a(e,{align:n(212),config:n(213),container:n(214),dev:n(215),draw:n(216),format:n(217),height:n(218),padding:n(219),resize:n(220),rotate:n(221),text:n(224),shape:n(222),size:n(223),valign:n(225),width:n(226),x:n(227),y:n(228)}),e.self}},,function(e,t){e.exports=function(e,t,n){var a;return t.history&&t.history.reset(),e.constructor===String?e.indexOf("/")>=0?(n.url=e,[]):(a=d3.selectAll(e),a.size()?a:(e.indexOf(".")>=0&&(n.url=e),[])):e}},function(e,t,n){var a,i;a=n(9),i=n(40).ui,e.exports=function(e,t,n,r){var l;return e instanceof Array?(e=e.slice(0),t||(t=i.and),r||(r=i.moreText),2===e.length?e.join(" "+t+" "):(n&&e.length>n&&(l=e.length-n+1,e=e.slice(0,n-1),e[n-1]=a(r,l)),e.length>1&&(e[e.length-1]=t+" "+e[e.length-1]),e.join(", "))):e}},function(e,t){e.exports=function(e,t){var n,a;return t.constructor===String?(a=e.indexOf(t),a>-1?e[a]:e[0]):(n=e[0],e.forEach(function(e){if(Math.abs(t-e)<Math.abs(t-n))return n=e}),n)}},,,,function(e,t){var n;n=function(e){var t,a,i,r;if(r=n.tested,e in r)return r[e];for(a=0,i=!1;a<document.styleSheets.length;){if(t=document.styleSheets[a],t.href&&t.href.indexOf(e)>=0){i=!0;break}a++}return i},n.tested={},e.exports=n},function(e,t){e.exports=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},function(e,t){e.exports=function(e,t){var n;return void 0===t&&(t=.5),n=d3.hsl(e),t=(1-n.l)*t,n.l+=t,n.s-=t,n.toString()}},function(e,t){e.exports={dev:{accepted:"{0} is not an accepted value for {1}, please use one of the following: {2}.",deprecated:"the {0} method has been removed, please update your code to use {1}.",noChange:"{0} was not updated because it did not change.",noContainer:"cannot find a container on the page matching {0}.",of:"of",oldStyle:"style properties for {0} have now been embedded directly into .{1}().",sameEdge:"edges cannot link to themselves. automatically removing self-referencing edge {0}.",set:"{0} has been set.",setLong:"{0} has been set to {1}.",setContainer:"please define a container div using .container()"},error:{accepted:"{0} is not an accepted {1} for {2} visualizations, please use one of the following: {3}.",connections:"no connections available for {0}.",data:"no data available",dataYear:"no data available for {0}.",lib:"{0} visualizations require loading the {1} library.",libs:"{0} visualizations require loading the following libraries: {1}.",method:"{0} visualizations require setting the {1} method.",methods:"{0} visualizations require setting the following methods: {1}."},format:{decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%A, %B %-d, %Y %X",date:"%-m/%-d/%Y",time:"%I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},lowercase:["a","an","and","as","at","but","by","for","from","if","in","into","near","nor","of","on","onto","or","per","that","the","to","with","via","vs","vs."],message:{data:"analyzing data",draw:"drawing visualization",initializing:"initializing {0}",loading:"loading data",tooltipReset:"resetting tooltips",ui:"updating ui"},method:{active:"active segments",color:"color",depth:"depth",dev:"verbose",focus:"focus",icon:"icon",id:"id",height:"height",labels:"labels",legend:"legend",margin:"margin",messages:"status messages",mode:"mode",mute:"hide",order:"order",search:"search",shape:"shape",size:"size",solo:"isolate",style:"style",temp:"temporary segments",text:"text",time:"time",timeline:"timeline",total:"total segments",type:"type",width:"width",x:"x axis",y:"y axis",zoom:"zoom"},time:["date","day","month","time","year"],timeFormat:{FullYear:"%Y",Month:"%B",MonthSmall:"%b",Date:"%A %-d",DateSmall:"%-d",Hours:"%I %p",Minutes:"%I:%M",Seconds:"%Ss",Milliseconds:"%Lms","FullYear-Month":"%b %Y","FullYear-Date":"%-m/%-d/%Y","Month-Date":"%b %-d","Hours-Minutes":"%I:%M %p","Hours-Seconds":"%I:%M:%S %p","Hours-Milliseconds":"%H:%M:%S.%L","Minutes-Seconds":"%I:%M:%S %p","Minutes-Milliseconds":"%H:%M:%S.%L","Seconds-Milliseconds":"%H:%M:%S.%L"},ui:{and:"and",back:"back",collapse:"click to collapse",error:"error",expand:"click to expand",including:"including",iqr:"interquartile range for {0}",loading:"loading...",max:"maximum",median:"median",min:"minimum",more:"{0} more",moreInfo:"click for more info",or:"or",noResults:"no results matching {0}.",percentile:"{0} percentile",primary:"primary connections",quartile_first:"first quartile",quartile_third:"third quartile",share:"share",total:"total",tukey_bottom:"bottom tukey",tukey_top:"top tukey",values:"values"},uppercase:["CEO","CEOs","CFO","CFOs","CNC","COO","COOs","CPU","CPUs","GDP","HVAC","ID","IT","R&D","TV","UI"],visualization:{bar:"Bar Chart",box:"Box Plot",bubbles:"Bubbles",chart:"Chart",geo_map:"Geo Map",line:"Line Plot",network:"Network",paths:"Paths",pie:"Pie Chart",rings:"Rings",scatter:"Scatter Plot",stacked:"Stacked Area",table:"Table",tree_map:"Tree Map"}}},function(e,t,n){var a;a=n(28),e.exports=function(e){var t;return t=["left","center","right"],!1===e&&t.unshift(!1),t.indexOf(e)<0&&(e="left"),{accepted:t,process:function(e){return a?"left"===e?"right":"right"===e?"left":e:e},value:e}}},function(e,t,n){var a,i,r,l,o,s,u,c,d,f,p;f=n(413),e.exports=function(e,t){var n,i,l,s,u,d,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q,V,I,P,R,T,L,H,U,$,W,J,G,K,Y,X,Z,Q,ee,te,ne,ae,ie,re,le,oe,se,ue,ce,de,fe,pe,ve,he,ge,me,xe,ye;if(e.length<3)return null;if(b=[],h=.5,u=5,null==t&&(t={}),null==t.maxAspectRatio&&(t.maxAspectRatio=15),null==t.minWidth&&(t.minWidth=0),null==t.minHeight&&(t.minHeight=0),null==t.tolerance&&(t.tolerance=.02),null==t.nTries&&(t.nTries=20),null!=t.angle&&(t.angle instanceof Array?d=t.angle:"number"==typeof t.angle?d=[t.angle]:"string"!=typeof t.angle||isNaN(t.angle)||(d=[Number(t.angle)])),null==d&&(d=d3.range(-90,90+u,u)),null!=t.aspectRatio&&(t.aspectRatio instanceof Array?g=t.aspectRatio:"number"==typeof t.aspectRatio?g=[t.aspectRatio]:"string"!=typeof t.aspectRatio||isNaN(t.aspectRatio)||(g=[Number(t.aspectRatio)])),null!=t.origin&&t.origin instanceof Array&&(G=t.origin[0]instanceof Array?t.origin:[t.origin]),0===(v=Math.abs(d3.geom.polygon(e).area())))return null;if(te=d3.extent(e,function(e){return e[0]}),H=te[0],I=te[1],ne=d3.extent(e,function(e){return e[1]}),U=ne[0],P=ne[1],he=Math.min(I-H,P-U)*t.tolerance,ve=function(){var t,n,a;for(a=[],t=0,n=e.length;t<n;t++)K=e[t],a.push({x:K[0],y:K[1]});return a}(),he>0&&(ve=f(ve,he),e=function(){var e,t,n;for(n=[],e=0,t=ve.length;e<t;e++)K=ve[e],n.push([K.x,K.y]);return n}()),t.vdebug&&b.push({type:"simplify",poly:e}),ae=d3.extent(e,function(e){return e[0]}),H=ae[0],I=ae[1],ie=d3.extent(e,function(e){return e[1]}),U=ie[0],P=ie[1],[[H,U],[I,U],[I,P],[H,P]],re=[I-H,P-U],x=re[0],m=re[1],me=Math.min(x,m)/50,null==G)for(G=[],y=d3.geom.polygon(e).centroid(),r(y,e)&&G.push(y);G.length<t.nTries;)fe=Math.random()*x+H,pe=Math.random()*m+U,de=[fe,pe],r(de,e)&&G.push(de);for(t.vdebug&&b.push({type:"origins",points:G}),N=0,q=null,_=0,M=d.length;_<M;_++)for(l=d[_],s=-l*Math.PI/180,t.vdebug&&b.push({type:"angle",angle:l}),z=A=0,S=G.length;A<S;z=++A)for(W=G[z],le=a(e,W,s),X=le[0],Q=le[1],oe=a(e,W,s+Math.PI/2),Y=oe[0],Z=oe[1],$=[],null!=X&&null!=Q&&$.push([(X[0]+Q[0])/2,(X[1]+Q[1])/2]),null!=Y&&null!=Z&&$.push([(Y[0]+Z[0])/2,(Y[1]+Z[1])/2]),t.vdebug&&b.push({type:"modifOrigin",idx:z,p1W:X,p2W:Q,p1H:Y,p2H:Z,modifOrigins:$}),F=0,E=$.length;F<E;F++)if(J=$[F],t.vdebug&&b.push({type:"origin",cx:J[0],cy:J[1]}),se=a(e,J,s),X=se[0],Q=se[1],null!==X&&null!==Q&&(L=Math.min(p(J,X),p(J,Q)),V=2*Math.sqrt(L),ue=a(e,J,s+Math.PI/2),Y=ue[0],Z=ue[1],null!==Y&&null!==Z&&(T=Math.min(p(J,Y),p(J,Z)),j=2*Math.sqrt(T),!(V*j<N))))for(null!=g?i=g:(R=Math.max(1,t.minWidth/j,N/(j*j)),D=Math.min(t.maxAspectRatio,V/t.minHeight,V*V/N),i=d3.range(R,D+h,h)),C=0,B=i.length;C<B;C++)if(n=i[C],O=Math.max(t.minWidth,Math.sqrt(N*n)),!((ce=Math.min(V,j*n))*j<N))for(ce-O>=me&&t.vdebug&&b.push({type:"aRatio",aRatio:n});ce-O>=me;)ge=(O+ce)/2,w=ge/n,xe=J[0],ye=J[1],ee=[[xe-ge/2,ye-w/2],[xe+ge/2,ye-w/2],[xe+ge/2,ye+w/2],[xe-ge/2,ye+w/2]],ee=c(ee,s,J),o(ee,e)?(k=!0,N=ge*w,q={cx:xe,cy:ye,width:ge,height:w,angle:l},O=ge):(k=!1,ce=ge),t.vdebug&&b.push({type:"rectangle",cx:xe,cy:ye,width:ge,height:w,areaFraction:ge*w/v,angle:l,insidePoly:k});return[q,N,b]},p=function(e,t){var n,a;return n=t[0]-e[0],a=t[1]-e[1],n*n+a*a},s=function(e,t,n){var a,i,r,l;return l=t[1]<n[1]?[t,n]:[n,t],a=l[0],i=l[1],e[1]!==i[1]&&e[1]!==a[1]||(e[1]+=Number.MIN_VALUE),!(e[1]>i[1]||e[1]<a[1])&&(!(e[0]>a[0]&&e[0]>i[0])&&(e[0]<a[0]&&e[0]<i[0]||(r=(i[1]-a[1])/(i[0]-a[0]),(e[1]-a[1])/(e[0]-a[0])>r)))},r=function(e,t){var n,a,i,r,l;for(r=-1,l=t.length,a=t[l-1],i=0;++r<l;)n=a,a=t[r],s(e,n,a)&&i++;return i%2!=0},l=function(e,t,n){var a,i,r;return a=1e-9,i=e[0],r=e[1],!(i<Math.min(t[0],n[0])-a||i>Math.max(t[0],n[0])+a||r<Math.min(t[1],n[1])-a||r>Math.max(t[1],n[1])+a)},i=function(e,t,n,a){var i,r,l,o,s,u,c,d,f,p;return d=1e-9,o=e[0]-t[0],u=e[1]-t[1],s=n[0]-a[0],c=n[1]-a[1],l=o*c-u*s,Math.abs(l)<d?null:(i=e[0]*t[1]-e[1]*t[0],r=n[0]*a[1]-n[1]*a[0],f=(i*s-r*o)/l,p=(i*c-r*u)/l,[f,p])},d=function(e,t,n,a){var r;return null!=(r=i(e,t,n,a))&&(l(r,e,t)&&l(r,n,a))},o=function(e,t){var n,a,i,l,o,s,u,c;for(o=-1,u=e.length,c=t.length,i=e[u-1];++o<u;)for(n=i,i=e[o],s=-1,l=t[c-1];++s<c;)if(a=l,l=t[s],d(n,i,a,l))return!1;return r(e[0],t)},u=function(e,t,n){var a,i,r,l;return null==n&&(n=[0,0]),r=e[0]-n[0],l=e[1]-n[1],a=Math.cos(t),i=Math.sin(t),[a*r-i*l+n[0],i*r+a*l+n[1]]},c=function(e,t,n){var a,i,r,l;for(l=[],a=0,i=e.length;a<i;a++)r=e[a],l.push(u(r,t,n));return l},a=function(e,t,n){var a,r,o,s,u,c,d,f,v,h,g,m,x,y,b;for(u=1e-9,t=[t[0]+u*Math.cos(n),t[1]+u*Math.sin(n)],y=t[0],b=t[1],m=[y+Math.cos(n),b+Math.sin(n)],d=0,Math.abs(m[0]-y)<u&&(d=1),c=-1,h=e.length,r=e[h-1],f=Number.MAX_VALUE,v=Number.MAX_VALUE,o=null,s=null;++c<h;)a=r,r=e[c],null!=(g=i(t,m,a,r))&&l(g,a,r)&&(x=p(t,g),g[d]<t[d]?x<f&&(f=x,o=g):g[d]>t[d]&&x<v&&(v=x,s=g));return[o,s]}},function(e,t,n){var a;a=n(1),e.exports=function(e,t,n){var i;return i=e[n].value,i?n in t.d3plus?t.d3plus[n]:a(e,t,i):t.d3plus[n]}},function(e,t,n){var a,i,r,l;a=n(295),i=n(298),r=n(296),l=n(297),e.exports=function(e,t){void 0===t&&(t={}),a(e,t),l(e,t),i(e,t),e.mouse.viz=!0===t.mouse&&r}},,,,function(e,t,n){var a;a=n(89),e.exports=function(e,t,n,i,r,l,o){var s,u,c;for(i||(i="asc"),r instanceof Array||(r=[r]),n instanceof Array||(n=[n]),l&&void 0!==o&&"number"!=typeof o&&(o=l.id.nesting.indexOf(o)),c=0,s=0;s<n.length&&(u=n[s],e=l&&e.d3plus&&e.d3plus.sortKeys?e.d3plus.sortKeys[u]:e[u],t=l&&t.d3plus&&t.d3plus.sortKeys?t.d3plus.sortKeys[u]:t[u],0===(c=l&&r.indexOf(u)>=0?a(e,t):e<t?-1:1)&&s!==n.length-1);)s++;return"asc"===i?c:-c}},function(e,t){e.exports=function(e,t,n,a){var i,r,l;return n||(n=1),a||(a=1),e=d3.rgb(e),t=d3.rgb(t),l=(n*e.r+a*t.r-n*a*t.r)/(n+a-n*a),r=(n*e.g+a*t.g-n*a*t.g)/(n+a-n*a),i=(n*e.b+a*t.b-n*a*t.b)/(n+a-n*a),d3.rgb(l,r,i).toString()}},function(e,t){e.exports=function(e,t){var n,a,i,r,l,o,s,u,c,d,f,p,v;if("string"==typeof e){for(e=e.split(" "),n=a=0,l=e.length;a<l;n=++a)v=e[n],e[n]=parseFloat(v,10);e=1===e.length?e[0]:2===e.length?{top:e[0],right:e[1],bottom:e[0],left:e[1]}:3===e.length?{top:e[0],right:e[1],bottom:e[2],left:e[1]}:4===e.length?{top:e[0],right:e[1],bottom:e[2],left:e[3]}:0}if(p=["top","right","bottom","left"],"number"==typeof e)for(i=0,o=p.length;i<o;i++)f=p[i],t[f]=e;else for(r=0,s=p.length;r<s;r++)f=p[r],t[f]=e[f];for(t.css="",d=[],n=c=0,u=p.length;c<u;n=++c)f=p[n],n&&(t.css+=" "),d.push(t.css+=t[f]+"px");return d}},function(e,t){e.exports=function(e,t,n){var a,i,r,l;return i={x:0,y:0},e<0&&(e=2*Math.PI+e),"square"===n?(r=Math.PI/180*45,e<=Math.PI?e<Math.PI/2?e<r?(i.x+=t,l=Math.tan(e)*t,i.y+=l):(i.y+=t,a=t/Math.tan(e),i.x+=a):e<Math.PI-r?(i.y+=t,a=t/Math.tan(Math.PI-e),i.x-=a):(i.x-=t,l=Math.tan(Math.PI-e)*t,i.y+=l):e<3*Math.PI/2?e<r+Math.PI?(i.x-=t,l=Math.tan(e-Math.PI)*t,i.y-=l):(i.y-=t,a=t/Math.tan(e-Math.PI),i.x-=a):e<2*Math.PI-r?(i.y-=t,a=t/Math.tan(2*Math.PI-e),i.x+=a):(i.x+=t,l=Math.tan(2*Math.PI-e)*t,i.y-=l)):(i.x+=t*Math.cos(e),i.y+=t*Math.sin(e)),i}},function(e,t,n){var a;a=n(0),e.exports=function(e,t){var n,i,r,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N;if(E=t.source,C=t.target,l=t.directed,o=t.distance,F=t.nodeid,B=t.startpoint,c=t.endpoint,n=t.K,N=t.vdebug,l||(l=!1),null==n&&(n=1),null==F?F=function(e){return e}:"string"==typeof F&&(F=function(e){return function(t){return t[e]}}(F)),null!=E&&"object"==typeof E&&(E=F(E)),null!=C&&"object"==typeof C&&(C=F(C)),null==B?B=function(e){return e.source}:"string"==typeof B&&(B=function(e){return function(t){return t[e]}}(B)),null==c?c=function(e){return e.target}:"string"==typeof c&&(c=function(e){return function(t){return t[e]}}(c)),null==o)o=function(e){return 1};else if("number"==typeof o)o=function(e){return function(t){return e}}(o);else if("string"==typeof o)o=function(e){return function(t){return t[e]}}(o);else if(o instanceof Array){for(u={},f=m=0,b=e.length;m<b;f=++m)s=e[f],i=F(B(s)),r=F(c(s)),u[i+"_"+r]=o[f];o=function(e){return i=F(B(e)),r=F(c(e)),u[i+"_"+r]}}for(O={},x=0,w=e.length;x<w;x++){for(s=e[x],_=B(s),A=c(s),h=F(_),g=F(A),M=[_,A],y=0,z=M.length;y<z;y++)k=M[y],(p=F(k))in O||(O[p]={node:k,outedges:[]});O[h].outedges.push(s),l||O[g].outedges.push(s)}return d=null,0===e.length?d="The length of edges is 0":n<0?d="K can not have negative value":null==o(e[0])?d="Check the distance function/attribute":null==B(e[0])?d="Check the startpoint function/attribute":null==c(e[0])?d="Check the endpoint function/attribute":(v=F(B(e[0])),null==v||"string"!=(S=typeof v)&&"number"!==S?d="Check the nodeid function/attribute":null==E||E in O?null==C||C in O||(d="The target is not in the graph"):d="The source is not in the graph"),null!=d?(a.error(d),null):[e,{source:E,target:C,directed:l,distance:o,nodeid:F,startpoint:B,endpoint:c,K:n,nodes:O,vdebug:N}]}},function(e,t,n){var a;a=n(40),e.exports=function(e,t){var n,i,r,l;return e?(t||(t={}),t.key,"."===e.charAt(e.length-1)?e.charAt(0).toUpperCase()+e.substr(1):(r="locale"in this?this.locale.value:a,l=r.lowercase.map(function(e){return e.toLowerCase()}),i=r.uppercase,i=i.concat(i.map(function(e){return e+"s"})),n=i.map(function(e){return e.toLowerCase()}),e.replace(/[^\s!-#%&(-\x2A,-:;\x3F@\x5B-\x5D_\x7B}\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]*/g,function(t,a){var r;return t?(r=n.indexOf(t.toLowerCase()),r>=0?i[r]:l.indexOf(t.toLowerCase())>=0&&0!==a&&a!==e.length-1?t.toLowerCase():t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()):""}))):""}},,,,,function(e,t){e.exports=function(e,t){return void 0===t?e:!1===t?[]:t instanceof Array?t:(e instanceof Array||(e=[]),e.indexOf(t)>=0?e.splice(e.indexOf(t),1):e.push(t),e)}},function(e,t,n){var a;a=n(60),e.exports=function(e,t){var n;return n=e||Math.floor(20*Math.random()),(t=t||a)(n)}},function(e,t){e.exports=d3.scale.ordinal().range(["#b22200","#282F6B","#EACE3F","#B35C1E","#224F20","#5F487C","#759143","#419391","#993F88","#e89c89","#ffee8d","#afd5e8","#f7ba77","#a5c697","#c5b5e5","#d1d392","#bbefd0","#e099cf"])},function(e,t,n){var a;a=n(1),e.exports=function(e,t,n){var i,r,l,o,s,u,c,d,f,p;if(r=d3.nest(),e.id.grouping.value)for(void 0===n&&(n=e.id.nesting),l=o=0,u=n.length;o<u;l=++o)d=n[l],l<e.depth.value&&function(t){r.key(function(n){return a(e,n.d3plus,t)})}(d);for(f=[],s=0,c=t.length;s<c;s++)i=t[s],(p=e.size.value?a(e,i,e.size.value):1)&&"number"==typeof p&&p>0&&(delete i.d3plus.r,delete i.d3plus.x,delete i.d3plus.y,f.push({d3plus:i,id:i[e.id.value],value:p}));return r.entries(f)}},function(e,t){e.exports=function(e){var t,n,a;return["div","svg"].indexOf(e)<0&&(e="div"),n={position:"absolute",left:"-9999px",top:"-9999px",visibility:"hidden",display:"block"},t="div"===e?{}:{position:"absolute"},a=d3.select("body").selectAll(e+".d3plus_tester").data([0]),a.enter().append(e).attr("class","d3plus_tester").style(n).attr(t),a}},function(e,t,n){e.exports={de_DE:n(314),en_US:n(40),es_ES:n(315),fr_FR:n(316),ko_KR:n(317),mk_MK:n(318),pt_BR:n(319),pt_PT:n(320),ru_RU:n(321),zh_CN:n(322)}},function(e,t,n){var a,i,r,l,o,s,u,c,d;i=n(6),o=n(0),s=n(94),u=n(164),c=n(9),d=n(2),e.exports=function(e,t){var n,a,o;o=[];for(n in t)a=t[n],e[n]=i(a),e[n].initialized=l(e,e[n],n),o.push(e.self[n]=r(e,n));return o},l=function(e,t,n,a){var i,r,u,f,p;t.previous=!1,t.changed=!1,t.initialized=!1,t.callback=!1,"init"in t&&!("value"in t)&&(t.value=t.init(e),delete t.init),"process"in t&&(t.value=s(e,t,t.value));for(p in t)if("deprecates"===p)for(r=t[p]instanceof Array?t[p]:[t[p]],u=0,f=r.length;u<f;u++)i=r[u],e.self[i]=function(t,n){return function(i){var r,l,s;return s=e.format.locale.value.dev.deprecated,t="."+t+"()",l=a?'"'+n+'" in .'+a+"()":"."+n+"()",r=a||n,o.error(c(s,t,l),r),e.self}}(i,n);else"global"===p?n in e||(e[n]=[]):"value"!==p&&d(t[p])&&l(e,t[p],p,n);return!0},r=function(e,t){return function(n,i){var r,l,s,u,f,p,v,h;if(r="accepted"in e[t]?e[t].accepted:null,"function"==typeof r&&(r=r(e)),r instanceof Array||(r=[r]),n===Object)return e[t];if(!arguments.length&&r.indexOf(void 0)<0)return"value"in e[t]?e[t].value:e[t];if("style"===t&&"object"==typeof n){h=e.format.locale.value.dev.oldStyle;for(p in n)o.warning(c(h,'"'+p+'"',p),p),e.self[p](n[p])}if("font"===t){"string"==typeof n&&(n={family:n}),v=!0,s=function(e,t,n,a){d(e[n])&&t in e[n]&&(d(e[n][t])?e[n][t].process?e[n][t].value=e[n][t].process(a):e[n][t].value=a:e[n][t]=a)},l=function(e,t,n){var a;if(d(e)){if(v)for(a in e)s(e,t,a,n);else"font"in e&&s(e,t,"font",n);v=!1;for(a in e)l(e[a],t,n)}};for(u in n)f=n[u],"secondary"!==u&&(d(f)&&(f=f.value),f&&l(e,u,f))}return a(e,t,e,t,n),"function"==typeof i&&(e[t].callback=i),!1===e[t].chainable?e[t].value:e.self}},a=function(e,t,n,i,r){var l,o,s,c;if(["accepted","changed","initialized","previous","process"].indexOf(i)<0)if(c=d(r),s=d(n[i])&&"objectAccess"in n[i]&&!1===n[i].objectAccess,l=c&&(s||!("value"in r)&&(!d(n[i])||!(d3.keys(r)[0]in n[i]))),null===r||!c||l)u(e,t,n,i,r);else if(c)for(o in r)a(e,t,n[i],o,r[o])}},function(e,t){e.exports=function(e){var t;return t=["auto","optimizeSpeed","crispEdges","geometricPrecision"],t.indexOf(e)>=0||(e="crispEdges"),{accepted:t,value:e}}},function(e,t,n){var a;a=n(51),e.exports=function(e){var t,n,i,r,l,o,s,u,c,d,f,p,v,h,g,m;if(!e)return[];for(e=e.slice(1).slice(0,-1).split(/L|A/),d=[],i=0,l=e.length;i<l;i++)if(c=e[i],c=c.split(" "),1===c.length)d.push(c[0].split(",").map(function(e){return parseFloat(e)}));else{for(f=d[d.length-1],r=c.pop().split(",").map(function(e){return parseFloat(e)}),p=parseFloat(c.shift().split(",")[0]),m=Math.sqrt(Math.pow(r[0]-f[0],2)+Math.pow(r[1]-f[1],2)),t=Math.acos((p*p+p*p-m*m)/(2*p*p)),u="1"===c[1].split(",")[0],u&&(t=2*Math.PI-t),o=t/(2*Math.PI)*(p*Math.PI*2),v=o/5,h=Math.atan2(-f[1],-f[0])-Math.PI,g=t/v,n=g;n<t;)s=a(h+n,p),d.push([s.x,s.y]),n+=g;d.push(r)}return d}},function(e,t){e.exports=function(e,t){var n,a;return e instanceof Array||(e=[e.x,e.y]),t instanceof Array||(t=[t.x,t.y]),n=Math.abs(e[0]-t[0]),a=Math.abs(e[1]-t[1]),Math.sqrt(n*n+a*a)}},function(e,t,n){var a;a=n(67),e.exports=function(e,t){var n,i;return t||(t={}),n=[],i=d3.geom.quadtree().x(function(e){return t.accessor?t.accessor(e)[0]:e[0]}).y(function(e){return t.accessor?t.accessor(e)[1]:e[1]}),i(e).visit(function(e){var i,r,l,o,s,u,c,d;if(!e.leaf)for(c=e.nodes,i=0,l=c.length;i<l;i++)if((s=c[i])&&s.point)if(t.origin)n.push(a(s,t));else for(d=e.nodes,r=0,o=d.length;r<o;r++)(u=d[r])&&u.point&&u.point!==s.point&&n.push(a(s,u));return!1}),t.all?n.sort(function(e,t){return e-t}):d3.min(n)}},function(e,t,n){var a;a=n(40),e.exports=function(e,t){var n,i,r,l,o,s,u,c,d,f,p,v;return void 0===e||null===e||!1===e?"":(t||(t={}),s="locale"in t?t.locale:a,f=s.time.slice(),i=d3.locale(s.format),t||(t={}),p=t.vars||{},r=t.key,l=!("labels"in t)||t.labels,o=e.toString().split(".")[0].length,p.time&&p.time.value&&f.push(p.time.value),"string"==typeof r&&f.indexOf(r.toLowerCase())>=0?u=e:"share"===r?(u=0===e?0:e>=100?i.numberFormat(",f")(e):e>99?i.numberFormat(".3g")(e):i.numberFormat(".2g")(e),u+="%"):e<10&&e>-10?(o=e.toString().split("."),c=1,o.length>1&&(c=d3.min([parseFloat(o[1]).toString().length,2]),-1<e&&e<1||(v=o[1].length-parseFloat(o[1]).toString().length,c+=1+v)),u=i.numberFormat("."+c+"g")(e)):o>3?(d=d3.formatPrefix(e).symbol,d=d.replace("G","B"),e=d3.formatPrefix(e).scale(e),e=i.numberFormat(".3g")(e),e=e.replace(s.format.decimal,"."),e=parseFloat(e)+"",e=e.replace(".",s.format.decimal),u=e+d):u=3===o?i.numberFormat(",f")(e):0===e?0:e===parseInt(e,10)?i.numberFormat(".2")(e):i.numberFormat(".3g")(e),u.length>2&&""+u.indexOf(".0")===u.length-2&&(u=u.slice(0,u.length-2)),l&&r&&"format"in p&&r in p.format.affixes.value?(n=p.format.affixes.value[r],n[0]+u+n[1]):u)}},function(e,t,n){var a;a=n(23),e.exports=function(e,t){var n;if(!e||!t)return!1;for(a(e)&&(e=e.node()),a(e)&&(t=t.node()),n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}},function(e,t,n){var a;a=n(0),e.exports=function(e){var t,n;if(e.dev.value&&a.time("determining label visibility"),n=e.zoom.behavior.scaleExtent(),t=function(t){return t.attr("opacity",function(t){var a;return t||(t={}),a=parseFloat(d3.select(this).attr("font-size"),10),t.visible=a*(e.zoom.scale/n[1])>=2,t.visible?1:0})},e.draw.timing?e.g.viz.selectAll("text.d3plus_label").transition().duration(e.draw.timing).call(t):e.g.viz.selectAll("text.d3plus_label").call(t),e.dev.value)return a.timeEnd("determining label visibility")}},function(e,t,n){var a,i,r;a=n(1),i=n(25),r=n(4),e.exports=function(e,t,n){var l,o,s,u,c,d,f;return void 0===n?n=e.id.nesting.slice(0,e.depth.value+1):n.constructor!==Array&&(n=[n]),void 0===o&&(o=[]),t||(t=e.data.viz),l=e[e.axes.discrete],u=e[e.axes.opposite],f=l.value===e.time.value,f?(d=e.data.time.ticks,s=e.time.solo.value.length?"solo":"mute",e.time[s].value.length&&(c=e.time[s].value.slice().map(function(e){return e.constructor!==Date&&(e+="",4===e.length&&parseInt(e)+""===e&&(e+="/01/01"),e=new Date(e)),+e}),d=d.filter(function(e){return"solo"===s?c.indexOf(+e)>=0:c.indexOf(+e)<0}))):d=l.ticks.values?l.ticks.values:r(t,l.value,a,e),d3.nest().key(function(t){var r,l,o,s,u;for(s="nesting",l=0,o=n.length;l<o;l++)r=n[l],u=a(e,t,r),u instanceof Array&&(u=u.join("_")),s+="_"+i(u);return s}).rollup(function(t){var n,i,o,c,p,v,h,g,m,x,y,b;if(n=r(t,l.value,a,e),b=n.length&&n[0].constructor===Date,b&&(n=n.map(Number)),l.zerofill.value)for(i="log"===l.scale.value?u.scale.viz.domain().every(function(e){return e<0})?-1:1:0,o=c=0,v=d.length;c<v;o=++c)if(y=d[o],x=f?+y:y,n.indexOf(x)<0){for(g={d3plus:{}},m=e.id.nesting,p=0,h=m.length;p<h;p++)(s=m[p])in t[0]&&(g[s]=t[0][s]);g[l.value]=y,g[u.value]=0,g[u.value]=i,t.splice(o,0,g)}return"string"==typeof t[0][l.value]?t:t.sort(function(t,n){var i,r,o,s,c;return i=a(e,t,l.value),o=a(e,n,l.value),(c=i-o)?c:(r=a(e,t,u.value),s=a(e,n,u.value),r-s)})}).entries(t)}},function(e,t,n){var a;a=n(1),e.exports=function(e,t){var n,i,r,l,o,s,u,c,d,f,p,v,h,g,m,x;for(m=e.axes.stacked||e.axes.opposite,i=e[m].scale.viz(0),h=e[m].scale.value,p="x"===m?"y":"x",u="y"===m?e.axes.margin.viz.top:e.axes.margin.viz.left,f="share"===h?"expand":"zero",g=d3.layout.stack().values(function(e){return e.values||[e]}).offset(f).x(function(e){return e.d3plus[p]}).y(function(t){return i-e[m].scale.viz(a(e,t,e[m].value))}).out(function(t,n,r){var l;return l=a(e,t,e[m].value),l<0,"share"===h?(t.d3plus[m+"0"]=(1-n)*i,t.d3plus[m]=t.d3plus[m+"0"]-r*i):(t.d3plus[m+"0"]=i,e.axes.stacked&&(t.d3plus[m+"0"]-=n),t.d3plus[m]=t.d3plus[m+"0"]-r),t.d3plus[m]+=u,t.d3plus[m+"0"]+=u}),v=[],d=[],r=0,o=t.length;r<o;r++)if(n=t[r],(x=a(e,n,e[m].value))instanceof Array){for(c=!0,l=0,s=x.length;l<s;l++)if(x[l]>=0){c=!1;break}c?d.push(n):v.push(n)}else x>=0&&v.push(n),x<0&&d.push(n);return 0===v.length||0===d.length?g(t):(v.length&&(v=g(v)),d.length&&(d=g(d)),v.concat(d))}},,,,,,,,,,,,,,function(e,t){e.exports=function(e,t){var n;return e instanceof Array&&(n=void 0===t||null===t?t:t.constructor,e.indexOf(t)>=0||e.indexOf(n)>=0)}},function(e,t){var n;n=function(){var e,t,a,i,r;return e=document.createElement("p"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t),i=e.offsetWidth,t.style.overflow="scroll",r=e.offsetWidth,i===r&&(r=t.clientWidth),document.body.removeChild(t),a=i-r,n=function(){return a},a},e.exports=n},function(e,t){e.exports=function(e,t){var n,a;return n=d3.hsl(e),a=d3.hsl(t),e=0===n.s?361:n.h,t=0===a.s?361:a.h,e===t?n.l-a.l:e-t}},function(e,t){e.exports=function(e){var t,n,a;return e+="",e=e.replace(RegExp(" ","g"),""),0===e.indexOf("rgb")&&(e=e.split("(")[1].split(")")[0].split(",").slice(0,3).join(",")),0===e.indexOf("hsl")&&(e=e.split(",")[2].split(")")[0]),n=d3.rgb(e).toString(),t=["black","#000","#000000","0%","0,0,0"],a=t.indexOf(e)>=0,"#000000"!==n||a}},function(e,t,n){var a,i,r=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};a=n(0),i=n(2),e.exports=function(e,t){var n,l,o,s,u,c,d,f,p;if(d=t+" key analysis",e.dev.value&&a.time(d),e[t].keys={},n=function(a){var l,o,s,u,c,d,f;if(a instanceof Array){for(c=[],o=0,u=a.length;o<u;o++)l=a[o],c.push(n(l));return c}if(i(a)){d=[];for(s in a)f=a[s],0===s.indexOf("d3plus")||r.call(e[t].keys,s)>=0||null===f?d.push(void 0):d.push(e[t].keys[s]=typeof f);return d}},i(e[t].value)){s=d3.keys(e[t].value).length===e.id.nesting.length,u=e[t].value;for(l in u)if(f=u[l],s&&e.id.nesting.indexOf(l)>=0&&i(f))for(o in f)p=f[o],n(p);else n(f)}else{c=e[t].value;for(l in c)f=c[l],n(f)}if(e.dev.value)return a.time(d)}},function(e,t,n){var a,i;a=n(0),i=n(2),e.exports=function(e,t,n){var r,l,o;return r=e.dev.value,r&&a.time("loading "+t),o=e[t].url,e[t].filetype.value?l=e[t].filetype.value:(l=o.slice(o.length-5).split("."),l=l.length>1&&l[1],l?("txt"===l&&(l="text"),e[t].filetype.accepted.indexOf(l)<0&&(l="json")):l="json"),("dsv"===l?d3.dsv(e[t].delimiter.value,"text/plain"):d3[l])(o,function(s,u){var c,d;if(!s&&u){if("function"==typeof e[t].callback){if(d=e[t].callback(u))if(i(d)&&t in d)for(c in d)c in e&&(e[c].value=d[c]);else e[t].value=d}else e[t].value=u;["json"].indexOf(l)<0&&e[t].value.forEach(function(e){var t;t=[];for(c in e)isNaN(e[c])?"false"===e[c].toLowerCase()?t.push(e[c]=!1):"true"===e[c].toLowerCase()?t.push(e[c]=!0):"null"===e[c].toLowerCase()?t.push(e[c]=null):"undefined"===e[c].toLowerCase()?t.push(e[c]=void 0):t.push(void 0):t.push(e[c]=parseFloat(e[c]));return t}),e[t].changed=!0,e[t].loaded=!0}else e.error.internal='Could not load data from: "'+o+'"';return r&&a.timeEnd("loading "+t),n()})}},function(e,t,n){var a;a=n(26),e.exports=function(e,t){var n,i,r,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b;if(b=t.values||e.data.time.ticks,g=t.style||{},o=t.limit||e.width.value,m={},c=e.data.time.periods,h=e.data.time.stepType,x=e.data.time.totalType,r=e.data.time.functions,l=e.data.time.getFormat,s=e.format.locale.value.format,e.time.format.value)m.format=e.data.time.format,m.values=b,m.sizes=a(b.map(function(e){return m.format(e)}),g);else for(u=c.indexOf(h);u<=c.indexOf(x);){if(y=b.filter(function(e){var t,n;if(u===c.indexOf(h))return!0;if(t=!0,n=u-1,u<0)return!0;for(;n>=c.indexOf(h)&&t;)t=!r[n](e),n--;return t}),c[u]===x)i=d3.locale(s).timeFormat(l(c[u],x));else{for(d=u,i=[];d<=c.indexOf(x);)f=d-1<c.indexOf(h)?d:d-1,f=c[f],v=c[d]===f&&h!==x,n=l(f,c[d],v),i.push([n,r[d]]),d++;i[i.length-1][1]=function(){return!0},i=d3.locale(s).timeFormat.multi(i)}if(p=a(y.map(function(e){return i(e)}),g),d3.sum(p,function(e){return e.width})<o||u===c.indexOf(x)){m.format=i,m.values=y,m.sizes=p;break}u++}return m}},function(e,t,n){var a,i;a=n(6),i=n(58),e.exports=function(e,t,n){return t.process===Array?i(a(t.value),n):"object"==typeof t.process&&"string"==typeof n?t.process[n]:"function"==typeof t.process?t.process(n,e,t):n}},function(e,t,n){var a;a=n(37),e.exports=function(e,t,n){return!1===e||e.indexOf("fa-")<0||0===e.indexOf("fa-")&&a("font-awesome")?e:n.fallback}},function(e,t,n){var a,i,r,l;a=n(87),i=n(9),r=n(32),l=n(0),e.exports=function(e,t,n,o,s){var u,c,d,f,p,v,h,g;if("function"==typeof t&&(t=t(e)),t instanceof Array||(t=[t]),!1===(c=a(t,n))&&void 0!==n){for(v=[],g=JSON.stringify(n),"string"!=typeof n&&(g='"'+g+'"'),f=0,p=t.length;f<p;f++)u=t[f],"string"==typeof u?v.push('"'+u+'"'):"function"==typeof u?v.push(u.toString().split("()")[0].substring(9)):void 0===u?v.push("undefined"):v.push(JSON.stringify(u));v=r(v,e.format.locale.value.ui.or),e.type&&["mode","shape"].indexOf(o)>=0?(h=e.format.locale.value.error.accepted,d=e.format.locale.value.visualization[e.type.value]||e.type.value,l.warning(i(h,g,o,d,v),o)):(h=e.format.locale.value.dev.accepted,l.warning(i(h,g,s,v),o))}return!c}},function(e,t,n){var a,i;i=n(2),a=function(e,t){var n;e.changed&&(e.changed=!1),"draw"===t&&(e.frozen=!1,e.update=!0,e.first=!1);for(n in e)n.indexOf("d3plus")<0&&i(e[n])&&a(e[n],n)},e.exports=a},function(e,t,n){var a,i;a=n(62),i=function(e){var t,n,r,l,o,s,u,c,d,f,p,v,h,g;for(e instanceof Array||(e=e.split(",")),o=0,u=e.length;o<u;o++)r=e[o],r.trim();if(l=e.join(", "),t=i.complete,l in t)return t[l];for(p=function(e){return h.append("span").style("font-family",e).style("font-size","32px").style("padding","0px").style("margin","0px").text("abcdefghiABCDEFGHI_!@#$%^&*()_+1234567890")},v=function(e,t){var n,a,i;return n=p(e),a=n.node().offsetWidth,i=t.node().offsetWidth,n.remove(),a!==i},h=a("div"),d=p("monospace"),f=p("sans-serif"),s=0,c=e.length;s<c;s++)if(n=e[s],g=v(n+",monospace",d),g||(g=v(n+",sans-serif",f)),g){g=n;break}return g||(g="sans-serif"),d.remove(),f.remove(),t[l]=g,g},i.complete={},e.exports=i},function(e,t,n){e.exports=function(e,t){var a,i;return a=n(20),n(39),i=n(18),e.style("background-color",function(e){var n;return n=t.focus.value===e[t.id.value]?t.ui.color.secondary.value:t.ui.color.primary.value,t.hover.value===e[t.id.value]&&(n=d3.rgb(n).darker(.15).toString()),n}).style("color",function(e){var n,r,l,o;return o=t.focus.value===e[t.id.value]?.75:1,l=e[t.icon.value]&&t.data.viz.length<t.data.large,!l&&e[t.color.value]?r=a(e[t.color.value]):(n=t.focus.value===e[t.id.value]?t.ui.color.secondary.value:t.ui.color.primary.value,t.hover.value===e[t.id.value]&&(n=d3.rgb(n).darker(.15).toString()),r=i(n)),r=d3.rgb(r),"rgba("+r.r+","+r.g+","+r.b+","+o+")"}).style("border-color",t.ui.color.secondary.value)}},function(e,t,n){var a,i,r,l;a=n(331),i=n(6),r=n(34),l=n(0),e.exports=function(e){var t,n,o;e.open.value&&(e.dev.value&&l.time("updating list items"),"items"in e.container||(e.container.items=r().container(e.container.list).type("button").ui({border:0,display:"block",margin:0}).width(!1)),n=e.draw.timing?e.data.large:1,o=i(e.order),o.value=e.search.term.length?"d3plus_order":e.order.value,t=e.depth.value===e.id.nesting.length-1,(e.focus.changed||!1===e.container.items.focus())&&e.container.items.focus(e.focus.value,function(t){var n,i,r,l;i=e.data.filtered.filter(function(n){return n[e.id.value]===t})[0],e.depth.value<e.id.nesting.length-1&&e.id.nesting[e.depth.value+1]in i?(r=e.depth.value,l=e.id.solo.value,e.history.states.push(function(){return e.self.depth(r).id({solo:l}).draw()}),e.self.depth(e.depth.value+1).id({solo:[t]}).draw()):(e.depth.changed||e.self.open(!1),n=t!==e.focus.value,n&&e.active.value&&(n=a(e,t)),n&&e.self.focus(t).draw())}),e.container.items.active(e.active.value).data({large:n,sort:e.data.sort.value,value:e.data.filtered}).draw({update:e.draw.update}).font(e.font.secondary).format(e.format).hover(e.hover.value).id(e.id.value).icon({button:!t&&e.icon.next,select:!!t&&e.icon.select,value:e.icon.value}).order(o).text(e.text.secondary.value||e.text.value).timing({ui:e.draw.timing}).ui({color:{primary:1===e.id.nesting.length?e.ui.color.primary.value:e.ui.color.secondary.value,secondary:e.ui.color.secondary.value},padding:e.ui.padding.css}).draw(),e.dev.value&&l.timeEnd("updating list items"))}},function(e,t,n){var a,i;a=n(398),i=n(52),e.exports=function(e,t,n){var r,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N;if(null==n&&(n={}),n.source=t,(null==n.nodes||"object"!=typeof n.nodes)&&(A=i(e,n),e=A[0],n=A[1],null===n))return null;t=n.source,B=n.target,u=n.directed,c=n.distance,z=n.nodeid,E=n.startpoint,f=n.endpoint,r=n.K,k=n.nodes;for(g in k)w=k[g],w.count=0;for(v=new a(function(e,t){return e.distance-t.distance}),N={},null==B&&(N[t]=!0),v.push({edge:null,target:t,distance:0}),b=0,S=[];!v.empty()&&(b=Math.max(b,v.size()),_=v.pop(),C=_.target,k[C].count++,null==B?S.push(_):C===B&&S.push(_),S.length!==r);)if(k[C].count<=r)for(F=k[C].outedges,h=0,x=F.length;h<x;h++){if(d=F[h],l=z(E(d)),s=z(f(d)),u||s!==C||(O=[s,l],l=O[0],s=O[1]),null==B){if(N[s])continue;N[s]=!0}o=_.distance+c(d),v.push({edge:d,previous:_,target:s,distance:o})}for(p=function(t){for(e=[];null!=t.edge;)e.push(t.edge),t=t.previous;return e.reverse()},m=0,y=S.length;m<y;m++)M=S[m],null!=B&&(delete M.target,M.edges=p(M)),delete M.edge,delete M.previous;return S}},function(e,t,n){var a,i;i=n(45),e.exports=function(e,t,n){var r,l,o;return n||(n="default"),o=d3.select("div#d3plus_tooltip_id_"+n),o.node()&&(r=o.datum(),r.cx=e,r.cy=t,r.fixed||(l="body"===r.parent.node().tagName.toLowerCase()?[i.x(),i.y()]:[0,0],"center"!==r.anchor.y?("right"===r.anchor.x?r.x=r.cx-r.arrow_offset-4:"center"===r.anchor.x?r.x=r.cx-r.width/2:"left"===r.anchor.x&&(r.x=r.cx-r.width+r.arrow_offset+2),"bottom"===r.anchor.y?r.flip=r.cy+r.height+r.offset<=r.limit[1]:"top"===r.anchor.y&&(r.flip=r.cy-r.height-r.offset<l[1]),r.flip?r.y=r.cy+r.offset+r.arrow_offset:r.y=r.cy-r.height-r.offset-r.arrow_offset):(r.y=r.cy-r.height/2,"right"===r.anchor.x?r.flip=r.cx+r.width+r.offset<=r.limit[0]:"left"===r.anchor.x&&(r.flip=r.cx-r.width-r.offset<l[0]),"center"===r.anchor.x?(r.flip=!1,r.x=r.cx-r.width/2):r.flip?r.x=r.cx+r.offset+r.arrow_offset:r.x=r.cx-r.width-r.offset),r.x<l[0]?r.x=l[0]:r.x+r.width>r.limit[0]&&(r.x=r.limit[0]-r.width),r.y<l[1]?r.y=l[1]:r.y+r.height>r.limit[1]&&(r.y=r.limit[1]-r.height)),o.style("top",r.y+"px").style("left",r.x+"px"),r.arrow&&o.selectAll(".d3plus_tooltip_arrow").call(a)),o},a=function(e){return e.style("bottom",function(e){return"center"===e.anchor.y||e.flip?"auto":"-5px"}).style("right",function(e){return"center"!==e.anchor.y||e.flip?"auto":"-5px"}).style("top",function(e){return"center"!==e.anchor.y&&e.flip?"-5px":"center"===e.anchor.y?"50%":"auto"}).style("left",function(e){return"center"===e.anchor.y&&e.flip?"-5px":"center"!==e.anchor.y?"50%":"auto"}).style("margin-left",function(e){var t;return"center"===e.anchor.y?"auto":(t="right"===e.anchor.x?-e.width/2+e.arrow_offset/2:"left"===e.anchor.x?e.width/2-2*e.arrow_offset-5:-5,e.cx-e.width/2-5<t?(t=e.cx-e.width/2-5)<2-e.width/2&&(t=2-e.width/2):-(e.limit[0]-e.cx-e.width/2+5)>t&&(t=-(e.limit[0]-e.cx-e.width/2+5))>e.width/2-11&&(t=e.width/2-11),t+"px")}).style("margin-top",function(e){var t;return"center"!==e.anchor.y?"auto":(t="bottom"===e.anchor.y?-e.height/2+e.arrow_offset/2-1:"top"===e.anchor.y?e.height/2-2*e.arrow_offset-2:-9,e.cy-e.height/2-e.arrow_offset<t?(t=e.cy-e.height/2-e.arrow_offset)<4-e.height/2&&(t=4-e.height/2):-(e.limit[1]-e.cy-e.height/2+e.arrow_offset)>t&&(t=-(e.limit[1]-e.cy-e.height/2+e.arrow_offset))>e.height/2-22&&(t=e.height/2-22),t+"px")})}},function(e,t){e.exports=function(e,t){var n;n=new Image,n.src=e,n.crossOrigin="Anonymous",n.onload=function(){var e,n;e=document.createElement("canvas"),e.width=this.width,e.height=this.height,n=e.getContext("2d"),n.drawImage(this,0,0),t.call(this,e.toDataURL("image/png")),e=null}}},function(e,t,n){var a,i,r;n(1),a=n(14),i=n(39),r=n(43),e.exports=function(e,t,n){var l,o,s,u;return o=e.d3plus.shape||t.shape.value,"line"===t.shape.value&&"circle"!==o?"none":"area"===t.shape.value||"active"===o||"line"===t.shape.value?a(t,e):"temp"===o?n?a(t,e):"url(#d3plus_hatch_"+e.d3plus.id+")":e.d3plus.static?i(a(t,e),.75):(l=r(t,e,"active"),s=r(t,e,"temp"),u=r(t,e,"total"),!t.active.value&&!t.temp.value||!0===l||l&&u&&l>=u&&!s||l&&!u?a(t,e):t.active.spotlight.value?t.color.missing:i(a(t,e),.75))}},function(e,t){e.exports=function(e,t){var n,a,i;return a=t.id.nesting.length-1,n=t.depth.value,i=t.id.nesting[n+1],!1===t.types[t.type.value].nesting?0:(e.d3plus.merged||i in e&&n<a)&&(!e||i in e)?1:!(n===a&&n>0||e&&i&&!(i in e))||!t.small&&t.tooltip.html.value?0:-1}},function(e,t){e.exports=function(e,t){var n,a,i,r;a=e.zoom,t||(t=d3.event),r=a.scale>a.behavior.scaleExtent()[0],n=e.types[e.type.value].zoom&&a.value&&a.scroll.value,(i=t.touches&&t.touches.length>1&&n)||r||t.stopPropagation()}},function(e,t){e.exports=function(e,t){var n;return"number"!=typeof t&&(t=e.timing.transitions),n="translate("+e.zoom.translate+")",n+="scale("+e.zoom.scale+")",t?e.g.viz.transition().duration(t).attr("transform",n):e.g.viz.attr("transform",n)}},function(e,t,n){var a,i,r,l,o,s,u;n(33),i=n(1),r=n(44),l=n(72),o=n(13),s=n(73),u=n(54),a=function(e){var t,n,a,l,u,c,d,f,p,v,h;if(r(e,{buffer:e.axes.opposite,zero:!0}),l=e.x.domain.viz.concat(e.y.domain.viz),l.indexOf(void 0)>=0)return[];for(n=o(e.data.viz,null,null,null,e),a=e[e.axes.discrete],p=e[e.axes.opposite],u=0,d=n.length;u<d;u++)for(v=n[u],v.d3plus||(v.d3plus={}),h=v.values,c=0,f=h.length;c<f;c++)t=h[c],t.d3plus||(t.d3plus={}),t.d3plus.x=a.scale.viz(i(e,t,a.value)),t.d3plus.x+=e.axes.margin.viz.left,t.d3plus.y=p.scale.viz(i(e,t,p.value)),t.d3plus.y+=e.axes.margin.viz.top,t.d3plus.merged instanceof Array&&(v.d3plus.merged||(v.d3plus.merged=[]),v.d3plus.merged=v.d3plus.merged.concat(t.d3plus.merged)),t.d3plus.text&&!v.d3plus.text&&(v.d3plus.text=t.d3plus.text);return s(e,n)},a.filter=function(e,t){return l(e,u(e,t,e[e.axes.discrete].value))},a.requirements=["data","x","y"],a.setup=function(e){var t,n,a;return e.axes.discrete||(t=e.time.value===e.y.value?"y":"x",e.self[t]({scale:"discrete"})),e[e.axes.discrete].zerofill.value||e.self[e.axes.discrete]({zerofill:!0}),e[e.axes.opposite].stacked.value||"stacked"!==e.type.value||e.self[e.axes.opposite]({stacked:!0}),a=e[e.axes.opposite],n=e.size,!a.value&&n.value||n.changed&&n.previous===a.value?e.self[e.axes.opposite](n.value):!n.value&&a.value||a.changed&&a.previous===n.value?e.self.size(a.value):void 0},a.shapes=["area"],a.threshold=function(e){return 20/e.height.viz},a.tooltip="static",e.exports=a},function(e,t,n){var a,i;a=n(22),i=n(33),e.exports=function(e,t,n){var r,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q;if("share"!==e[t].scale.value&&!e[t].range.value&&e[t].reset){if(E=e[t].scale.viz.copy(),"clamp"in E&&E.clamp(!1),t===e.axes.discrete){if(v=E.domain(),"string"==typeof v[0]){for(x=v.length;x>=0;)v.splice(x,0,"d3plus_buffer_"+x),x--;return F=E.range(),F=a(d3.extent(F),v.length),e[t].scale.viz.domain(v).range(F)}if(0===t.indexOf("y")&&(v=v.slice().reverse()),1===e[t].ticks.values.length)v=[v[0],v[0]],e[t].value===e.time.value&&1!==e.data.time.ticks.length?(u=i(e.data.time.ticks,v[0]),B=e.data.time.ticks.indexOf(u),B>0?v[0]=e.data.time.ticks[B-1]:(f=e.data.time.ticks[B+1]-u,v[0]=new Date(u.getTime()-f)),B<e.data.time.ticks.length-1?v[1]=e.data.time.ticks[B+1]:(f=u-e.data.time.ticks[B-1],v[1]=new Date(u.getTime()+f))):(v[0]-=1,v[1]+=1);else if(e.axes.scale)p=Math.abs(v[1]-v[0]),l=p/(e[t].ticks.values.length-1),l/=2,O=E.range()[1],k=1.5*e.axes.scale.range()[1],m=E.invert(-k),g=E.invert(O+k),v[0]-l<m?(v[0]=v[0]-l,v[v.length-1]=v[v.length-1]+l):(v=[m,g],0===t.indexOf("y")&&(v=v.reverse()),h=E.domain(),(h=h[1]-h[0])||(v[0]-=1,v[1]+=1));else if(e[t].value===e.time.value)p=Math.abs(v[1]-v[0]),l=p/(e[t].ticks.values.length-1),l/=2,v[0]=v[0]-l,v[1]=v[1]+l;else{for(p=Math.abs(v[1]-v[0]),r=p/2,x=v.length,A=v.slice();x>=0;)d=x?A[x-1]+r:A[x]-r,v.splice(x,0,d),x--;F=E.range(),F=a(d3.extent(F),v.length),e[t].scale.viz.domain(v).range(F)}return 0===t.indexOf("y")&&(v=v.reverse()),e[t].scale.viz.domain(v)}if("x"===n&&0===t.indexOf("x")||"y"===n&&0===t.indexOf("y")||!0===n)return v=E.domain(),s=v[0]>=0&&v[1]>=0,o=v[0]<=0&&v[1]<=0,"log"===e[t].scale.value?(q=s?1:-1,s&&0===t.indexOf("y")&&(v=v.slice().reverse()),w=Math.pow(10,parseInt(Math.abs(v[0])).toString().length-1)*q,b=v[0]%w,y=b,b&&y/w<=.1&&(y+=w*q),z=0===b?w:y,v[0]-=z,0===v[0]&&(v[0]=q),D=Math.pow(10,parseInt(Math.abs(v[1])).toString().length-1)*q,N=v[1]%D,C=Math.abs(D-N),N&&C/D<=.1&&(C+=D*q),j=0===N?D:C,v[1]+=j,0===v[1]&&(v[1]=q),s&&0===t.indexOf("y")&&(v=v.reverse())):(q=0,0===t.indexOf("y")&&(v=v.slice().reverse()),S=v.filter(function(e){return e.constructor===String}),l=.05*Math.abs(v[1]-v[0])||1,S.length||(v[0]=v[0]-l,v[1]=v[1]+l,(s&&v[0]<q||o&&v[0]>q)&&(v[0]=q),(s&&v[1]<q||o&&v[1]>q)&&(v[1]=q)),0===t.indexOf("y")&&(v=v.reverse())),e[t].scale.viz.domain(v);if(e.axes.scale)return c=!1,e.axes.mirror.value&&(_=0===t.indexOf("y")?"x":"y",c=e[_].scale.viz,M=e.width.viz>e.height.viz?"x":"y"),t===M&&c?v=c.domain().slice().reverse():(O=E.range()[1],k=e.axes.scale.range()[1],m=E.invert(1.5*-k),g=E.invert(O+1.5*k),v=[m,g],0===t.indexOf("y")&&(v=v.reverse()),h=E.domain(),h=h[1]-h[0],h||(v[0]-=1,v[1]+=1),0===t.indexOf("y")&&(v=v.reverse())),e[t].scale.viz.domain(v)}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(16),i=n(428),r=n(419),l=n.n(r);a.default.use(i.a),t.a=new i.a({routes:[{path:"/",name:"Main",component:l.a}]})},,function(e,t){},,function(e,t,n){function a(e){n(394)}var i=n(47)(n(153),n(424),a,null,null);e.exports=i.exports},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),i=n(128),r=n.n(i),l=n(84),o=(n.n(l),n(129)),s=n.n(o),u=n(125),c=n(126),d=n.n(c),f=n(127);n.n(f);a.default.config.productionTip=!1,a.default.use(d.a),window.Promise||(window.Promise=r.a),new a.default({el:"#app",router:u.a,template:"<App/>",components:{App:s.a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(422),i=n.n(a),r=n(420),l=n.n(r);t.default={name:"main",data:function(){return{msg:"GRN visualization v0.1.0",apiURL:"/cors/gene_factor_site/",focus:"T00015",query:"T00015",data:null}},components:{searchpanel:i.a,rings:l.a},methods:{fatchTaskHandler:function(e){console.log("[Main] fatchTaskHandler(): ",e.AC),this.query=e.AC},vizTaskHandler:function(e){console.log("[Main] vizTaskHandler: ",e.AC),this.focus=e.AC}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(309),i=(n.n(a),n(310)),r=n.n(i);t.default={name:"rings",data:function(){return{msg:"Rings.vue",viz:r.a.viz()}},mounted:function(){this.init_draw()},props:["focus"],watch:{focus:function(e,t){this.viz.focus(e).draw(function(){return console.log("[Rings] Fetched, redrawing!"+e)})},viz:function(e,t){this.$message.error(t),this.$message.error(e)}},methods:{init_draw:function(){var e=this;a.tsv("GRN-network/static/GRNv1.0.0.tsv",function(t){e.viz.id("id").container("#canvas").type("rings").text("id").edges({value:t,label:"strength",arrow:!0}).focus(e.focus).mouse({click:e.nodeClickedHandler}).draw(function(){return console.log("[Rings] Started Drawing!")})})},nodeClickedHandler:function(e,t){this.viz.focus(e.id).draw(function(){return console.log("[Rings] Clicked, redrawing!"+e.id)}),this.$emit("newFatchTask:focus",{AC:e.id})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{ACs:[],inputValue:"",timeout:null}},methods:{handleIconClick:function(e){this.fetch()},fetch:function(){console.log("fetch()")},loadAll:function(){return[{value:"三全鲜食（北新泾店）",address:"长宁区新渔路144号"},{value:"Hot honey 首尔炸鸡（仙霞路）",address:"上海市长宁区淞虹路661号"},{value:"新旺角茶餐厅",address:"上海市普陀区真北路988号创邑金沙谷6号楼113"},{value:"泷千家(天山西路店)",address:"天山西路438号"},{value:"胖仙女纸杯蛋糕（上海凌空店）",address:"上海市长宁区金钟路968号1幢18号楼一层商铺18-101"},{value:"贡茶",address:"上海市长宁区金钟路633号"},{value:"豪大大香鸡排超级奶爸",address:"上海市嘉定区曹安公路曹安路1685号"},{value:"茶芝兰（奶茶，手抓饼）",address:"上海市普陀区同普路1435号"},{value:"十二泷町",address:"上海市北翟路1444弄81号B幢-107"},{value:"星移浓缩咖啡",address:"上海市嘉定区新郁路817号"},{value:"阿姨奶茶/豪大大",address:"嘉定区曹安路1611号"},{value:"新麦甜四季甜品炸鸡",address:"嘉定区曹安公路2383弄55号"},{value:"Monica摩托主题咖啡店",address:"嘉定区江桥镇曹安公路2409号1F，2383弄62号1F"},{value:"浮生若茶（凌空soho店）",address:"上海长宁区金钟路968号9号楼地下一层"},{value:"NONO JUICE  鲜榨果汁",address:"上海市长宁区天山西路119号"},{value:"CoCo都可(北新泾店）",address:"上海市长宁区仙霞西路"},{value:"快乐柠檬（神州智慧店）",address:"上海市长宁区天山西路567号1层R117号店铺"},{value:"Merci Paul cafe",address:"上海市普陀区光复西路丹巴路28弄6号楼819"},{value:"猫山王（西郊百联店）",address:"上海市长宁区仙霞西路88号第一层G05-F01-1-306"},{value:"枪会山",address:"上海市普陀区棕榈路"},{value:"纵食",address:"元丰天山花园(东门) 双流路267号"},{value:"钱记",address:"上海市长宁区天山西路"},{value:"壹杯加",address:"上海市长宁区通协路"},{value:"唦哇嘀咖",address:"上海市长宁区新泾镇金钟路999号2幢（B幢）第01层第1-02A单元"},{value:"爱茜茜里(西郊百联)",address:"长宁区仙霞西路88号1305室"},{value:"爱茜茜里(近铁广场)",address:"上海市普陀区真北路818号近铁城市广场北区地下二楼N-B2-O2-C商铺"},{value:"鲜果榨汁（金沙江路和美广店）",address:"普陀区金沙江路2239号金沙和美广场B1-10-6"},{value:"开心丽果（缤谷店）",address:"上海市长宁区威宁路天山路341号"},{value:"超级鸡车（丰庄路店）",address:"上海市嘉定区丰庄路240号"},{value:"妙生活果园（北新泾店）",address:"长宁区新渔路144号"},{value:"香宜度麻辣香锅",address:"长宁区淞虹路148号"},{value:"凡仔汉堡（老真北路店）",address:"上海市普陀区老真北路160号"},{value:"港式小铺",address:"上海市长宁区金钟路968号15楼15-105室"},{value:"蜀香源麻辣香锅（剑河路店）",address:"剑河路443-1"},{value:"北京饺子馆",address:"长宁区北新泾街道天山西路490-1号"},{value:"饭典*新简餐（凌空SOHO店）",address:"上海市长宁区金钟路968号9号楼地下一层9-83室"},{value:"焦耳·川式快餐（金钟路店）",address:"上海市金钟路633号地下一层甲部"},{value:"动力鸡车",address:"长宁区仙霞西路299弄3号101B"},{value:"浏阳蒸菜",address:"天山西路430号"},{value:"四海游龙（天山西路店）",address:"上海市长宁区天山西路"},{value:"樱花食堂（凌空店）",address:"上海市长宁区金钟路968号15楼15-105室"},{value:"壹分米客家传统调制米粉(天山店)",address:"天山西路428号"},{value:"福荣祥烧腊（平溪路店）",address:"上海市长宁区协和路福泉路255弄57-73号"},{value:"速记黄焖鸡米饭",address:"上海市长宁区北新泾街道金钟路180号1层01号摊位"},{value:"红辣椒麻辣烫",address:"上海市长宁区天山西路492号"},{value:"(小杨生煎)西郊百联餐厅",address:"长宁区仙霞西路88号百联2楼"},{value:"阳阳麻辣烫",address:"天山西路389号"},{value:"南拳妈妈龙虾盖浇饭",address:"普陀区金沙江路1699号鑫乐惠美食广场A13"}]},querySearchAsync:function(e,t){var n=this.ACs,a=e?n.filter(this.createStateFilter(e)):n;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t(a)},3e3*Math.random())},createStateFilter:function(e){return function(t){return 0===t.value.indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e)}},mounted:function(){this.ACs=this.loadAll()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(84),i=(n.n(a),n(405)),r=n.n(i),l=n(421),o=n.n(l);t.default={name:"searchpanel",data:function(){return{msg:"GRN visualization v0.1.0",apiURL:"https://c4lab-grn-viz.herokuapp.com/gene_factor_site/",data:null,isLoading:!1,inputValue:""}},props:["query"],watch:{query:function(e,t){this.inputValue=e,this.fetchGeneInfo(this.inputValue)}},created:function(){this.inputValue=this.query,this.fetchGeneInfo(this.inputValue)},computed:{record:function(){return r.a.filter(r.a.mapValues(this.data,function(e,t){return{key:t,val:String(e).split("##")}}),function(e){return"_id"!==e.key})},vh:function(){return window.innerHeight}},methods:{handleIconClick:function(e){this.data&&this.data.AC===this.inputValue||(this.fetchGeneInfo(this.inputValue),this.$emit("newVizTask:query",{AC:this.inputValue}))},fetchGeneInfo:function(e){var t=this;this.isLoading=!0,this.inputValue=e,fetch(this.apiURL+e).then(function(n){t.isLoading=!1,n.ok?n.json().then(function(e){e?(t.data=e,console.log("[SearchPanel] Fetched: ",e),console.log("[SearchPanel] newVizTask: ",e.AC)):t.$message({message:"Empty body!",type:"warning"})}):404===n.status?(t.data=null,console.log("[SearchPanel] 404 Not Found:",e)):(t.data=null,t.$message({message:"Fetch failed!"+n.status,type:"warning"}))}).catch(function(e){t.data=null,t.$message({message:"Error! "+e.message,type:"warning"}),console.log("[SearchPanel] Fetch failed!",e.message),t.isLoading=!1})}},components:{searchbox:o.a}}},,,,function(e,t){e.exports={active:"Visualizations#active",aggs:"Visualizations#aggs",alt:"Forms#alt",attrs:"Visualizations#attrs",axes:"Visualizations#axes",background:"Visualizations#background",color:"Visualizations#color",cols:"Visualizations#cols",config:"Visualizations#config",container:"Visualizations#container",coords:"Visualizations#coords",csv:"Visualizations#csv",data:"Visualizations#data",depth:"Visualizations#depth",descs:"Visualizations#descs",dev:"Visualizations#dev",draw:"Visualizations#draw",edges:"Visualizations#edges",error:"Visualizations#error",focus:"Visualizations#focus",font:"Visualizations#font",footer:"Visualizations#footer",format:"Visualizations#format",height:"Visualizations#height",history:"Visualizations#history",hover:"Forms#hover",icon:"Visualizations#icon",id:"Visualizations#id",keywords:"Forms#keywords",labels:"Visualizations#labels",legend:"Visualizations#legend",links:"Visualizations#links",margin:"Visualizations#margin",messages:"Visualizations#messages",method:"Methods",mouse:"Visualizations#mouse",nodes:"Visualizations#nodes",open:"Forms#open",order:"Visualizations#order",remove:"Forms#remove",search:"Forms#search",select:"Forms#select",selectAll:"Forms#selectAll",shape:"Visualizations#shape",size:"Visualizations#size",temp:"Visualizations#temp",text:"Visualizations#text",time:"Visualizations#time",timeline:"Visualizations#timeline",timing:"Visualizations#timing",title:"Visualizations#title",tooltip:"Visualizations#tooltip",total:"Visualizations#total",type:"Visualizations#type",ui:"Visualizations#ui",width:"Visualizations#width",x:"Visualizations#x",y:"Visualizations#y",zoom:"Visualizations#zoom"}},function(e,t,n){var a,i,r;r=n(1),a=n(14),i=n(12),e.exports=function(e,t,n,l,o){var s,u,c,d,f,p;for(n instanceof Array||(n=[n]),l instanceof Array||(l=[l]),e&&(void 0===o?o=e.id.value:"number"!=typeof o&&(o=e.id.nesting.indexOf(o))),f={},u=0,d=n.length;u<d;u++)c=n[u],p=e?l.indexOf(c)>=0?a(e,t,o):c===e.text.value?i(e,t,o):3===d3.keys(t).length&&t.d3plus&&t.key&&t.values?r(e,t.values.map(function(e){return e.d3plus}),c,o):r(e,t,c,o):t[c],[e.data.keys[c],e.attrs.keys[c]].indexOf("number")>=0?(s=e.order.agg.value||e.aggs.value[c]||"sum",s.constructor===String&&(s=d3[s]),p instanceof Array||(p=[p]),p=s(p)):(p instanceof Array&&(p=p[0]),p="string"==typeof p?p.toLowerCase():p),f[c]=p;return f}},function(e,t){e.exports=function(e){var t;return t=["top","middle","bottom"],!1===e&&t.unshift(!1),t.indexOf(e)<0&&(e="bottom"),{accepted:t,mapping:{top:"0ex",middle:"0.5ex",bottom:"1ex"},process:function(e){return this.text=e,this.mapping[e]},value:e}}},function(e,t,n){var a,i,r,l,o,s,u,c,d;a=n(6),i=n(23),d=n(2),r=n(21),l=n(0),o=n(94),s=n(96),u=n(9),c=n(58),e.exports=function(e,t,n,f,p){var v,h,g,m,x,y,b,w,z,k,_,A,F,O;if(A="value"!==f&&f&&f!==t?'"'+f+'" '+e.format.locale.value.dev.of+" ."+t+"()":"."+t+"()",v="value"===f&&"accepted"in n?n.accepted:d(n[f])&&"accepted"in n[f]?n[f].accepted:[p],!s(e,v,p,t,A)){if(d(n[f])&&"value"in n[f]&&(k=f,n=n[f],f="value"),"value"===f&&"process"in n&&(p=o(e,n,p)),n[f]instanceof Array||n[f]!==p||void 0===p){if(n.changed=!0,n.loaded&&(n.loaded=!1),"history"in e&&"draw"!==t&&(h=a(n),h.method=t,e.history.chain.push(h)),n.previous=n[f],"id"in e&&"value"===f&&"nesting"in n)if("id"!==t){if("object"!=typeof n.nesting&&(n.nesting={}),d(p)){for(y in p)"string"==typeof p[y]&&(p[y]=[p[y]]);n.nesting=r(n.nesting,p),e.id.value in n.nesting||(n.nesting[e.id.value]=p[d3.keys(p)[0]])}else p instanceof Array?n.nesting[e.id.value]=p:n.nesting[e.id.value]=[p];n[f]=n.nesting[e.id.value][0]}else p instanceof Array?(n.nesting=p,"depth"in e&&e.depth.value<p.length?n[f]=p[e.depth.value]:(n[f]=p[0],"depth"in e&&(e.depth.value=0))):(n[f]=p,n.nesting=[p],"depth"in e&&(e.depth.value=0));else"depth"===t?(p>=e.id.nesting.length?e.depth.value=e.id.nesting.length-1:e.depth.value=p<0?0:p,e.id.value=e.id.nesting[e.depth.value],"object"==typeof e.text.nesting&&(z=e.text.nesting[e.id.value])&&(e.text.nesting[e.id.value]="string"==typeof z?[z]:z,e.text.value=z instanceof Array?z[0]:z)):d(n[f])&&d(p)?n[f]=r(n[f],p):n[f]=p;"value"===f&&n.global&&(x=n[f].length>0,(b=k||f)in e&&(x&&e.data[b].indexOf(t)<0||!x&&e.data[b].indexOf(t)>=0)&&(e.data[b]=c(e.data[b],t))),"value"===f&&n.dataFilter&&e.data&&e.data.filters.indexOf(t)<0&&e.data.filters.push(t),e.dev.value&&n.changed&&void 0!==n[f]&&(w=n[f]instanceof Array&&n[f].length>10,m=i(n[f]),F="function"==typeof n[f],O=w||m||F?null:"string"==typeof n[f]?n[f]:JSON.stringify(n[f]),null!==O&&O.length<260?(_=e.format.locale.value.dev.setLong,l.log(u(_,A,'"'+O+'"'))):(_=e.format.locale.value.dev.set,l.log(u(_,A))))}else _=e.format.locale.value.dev.noChange,e.dev.value&&l.comment(u(_,A));"value"===f&&n.callback&&!n.url&&(g="function"==typeof n.callback?n.callback:n.callback.value)&&g(p,e.self)}}},function(e,t,n){var a;a=n(410),e.exports=function(e,t){var n,i,r,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O;for(null==t&&(t={}),null==t.maxDegree&&(t.maxDegree=5),n=e.length,y=Number.MAX_VALUE,o=null,r=function(){var n,a,i;for(i=[],c=n=1,a=t.maxDegree+1;1<=a?n<a:n>a;c=1<=a?++n:--n)i.push(function(){var t,n,a;for(a=[],n=0,t=e.length;n<t;n++)x=e[n],a.push(Math.pow(x[0],c));return a}());return i}(),F=function(){var t,n,a;for(a=[],t=0,n=e.length;t<n;t++)x=e[t],a.push(x[1]);return a}(),f=h=0,w=1<<t.maxDegree;0<=w?h<w:h>w;f=0<=w?++h:--h){for(l=[function(){var e,t,a;for(a=[],b=e=0,t=n;0<=t?e<t:e>t;b=0<=t?++e:--e)a.push(1);return a}()],d=[0],p=m=0,z=t.maxDegree;0<=z?m<z:m>z;p=0<=z?++m:--m)(f&1<<p)>0&&(l.push(r[p]),d.push(p+1));i=a.transpose(l),v=d.length,s=a.dot(a.dot(a.inv(a.dot(l,i)),l),F),O=a.dot(i,s),k=a.sub(F,O),A=a.dot(k,k),_=A/(n-v),g=-.5*n*Math.log(2*Math.PI)-.5*n*Math.log(_)-A/(2*_),u=-2*g+v*(Math.log(n)-Math.log(2*Math.PI)),u<y&&(y=u,o=[d,s,O])}return o}},function(e,t,n){var a;a=n(414),e.exports=function(e,t){var n,i,r,l,o,s,u,c,d,f,p,v;return null==t&&(t=10),v=a(e),u=function(){var n,a,i;for(i=[],n=0,a=e.length;n<a;n++)c=e[n],i.push(v.knn(c,t+1).slice(1));return i}(),p=function(t,n){var a,i,r,l,o,s;for(a=e[t],i=e[n],l=0,t=o=0,s=a.length;0<=s?o<s:o>s;t=0<=s?++o:--o)r=a[t]-i[t],l+=r*r;return l},l=function(){var n,a,r;for(r=[],i=n=0,a=e.length;0<=a?n<a:n>a;i=0<=a?++n:--n)r.push(p(i,u[i][t-1]));return r}(),d=function(e,t){return Math.max(p(e,t),l[t])},o=function(e){var n,a,i,r,l;for(r=0,l=u[e],a=0,i=l.length;a<i;a++)n=l[a],r+=d(e,n);return t/r},s=function(){var t,n,a;for(a=[],i=t=0,n=e.length;0<=n?t<n:t>n;i=0<=n?++t:--t)a.push(o(i));return a}(),f=function(){var a,l,o,c,d,f;for(f=[],i=a=0,c=e.length;0<=c?a<c:a>c;i=0<=c?++a:--a){for(n=0,d=u[i],l=0,o=d.length;l<o;l++)r=d[l],n+=s[r];n/=t,f.push([i,n/s[i]])}return f}(),f.sort(function(e,t){return t[1]-e[1]})}},function(e,t){e.exports=function(e){var t,n,a;return n=d3.median(e),t=d3.median(e.map(function(e){return Math.abs(e-n)})),a=e.map(function(e,a){return[a,Math.abs(e-n)/t]}),a.sort(function(e,t){return t[1]-e[1]})}},function(e,t,n){n(8),e.exports={accepted:[!1,Array,Function,Number,String],value:!1}},function(e,t,n){var a;a=n(8),e.exports={accepted:[!1,Array,Function,Object,String],mute:a(!0),solo:a(!0),value:"alt"}},function(e,t){e.exports={accepted:[String],value:"color"}},function(e,t){e.exports={accepted:[Object],objectAccess:!1,process:function(e,t){var n,a;for(n in e)a=e[n],n in t.self&&t.self[n](a);return e},value:{}}},function(e,t,n){var a;a=n(23),e.exports={accepted:[!1,Array,Object,String],element:!1,id:"default",process:function(e){return!1===e?d3.select("body"):a(e)?e:e instanceof Array?d3.select(e[0][0]):(this.selector=e,d3.select(e))},value:d3.select("body")}},function(e,t){e.exports={accepted:[Number],value:0}},function(e,t){e.exports={accepted:[Boolean],value:!1}},function(e,t){e.exports={accepted:[!1,Number,String],deprecates:"highlight",process:function(e,t){var n,a,i,r,l,o,s,u,c,d;if((a=t.data.element.value)&&["string","number"].indexOf(typeof e)>=0)if(i=a.node().tagName.toLowerCase(),r=a.attr("type"),"select"===i)for(d=a.selectAll("option"),l=o=0,u=d.length;o<u;l=++o)(n=d[l])&&n[t.id.value]===e&&(a.node().selectedIndex=l);else if("input"===i&&"radio"===r)for(s=0,c=a.length;s<c;s++)n=a[s],this.checked=n&&n[t.id.value]===e;return e},value:!1}},function(e,t,n){var a,i,r,l;r=n(10),a=n(41),i=n(17),l=n(15),e.exports={align:a(),color:"#444444",decoration:i(),family:r(),secondary:{align:a(),color:"#444444",decoration:i(),family:r(),size:12,spacing:0,transform:l(),weight:200},size:12,spacing:0,transform:l(),weight:200}},function(e,t,n){var a,i,r,l;a=n(69),i=n(63),r=n(21),l=n(53),e.exports={accepted:[Function,String],affixes:{accepted:[Object],objectAccess:!1,value:{}},deprecates:["number_format","text_format"],locale:{accepted:function(){return d3.keys(i)},process:function(e){var t,n;return t="en_US",n=i[t],e!==t&&(n=r(n,i[e])),this.language=e,n},value:"en_US"},number:{accepted:[!1,Function],value:!1},process:function(e,t){if("string"==typeof e)t.self.format({locale:e});else if("function"==typeof e)return e;return this.value},text:{accepted:[!1,Function],value:!1},value:function(e,t){var n,i;return t||(t={}),i=t.vars||{},i.time&&i.time.value&&t.key===i.time.value?(n=e.constructor===Date?e:new Date(e),i.data.time.format(n)):"number"==typeof e?(this.number.value||a)(e,t):"string"==typeof e?(this.text.value||l)(e,t):JSON.stringify(e)}}},function(e,t){e.exports={accepted:[!1,Number],max:600,secondary:!1,value:!1}},function(e,t){e.exports={back:function(){if(this.states.length)return this.states.pop()()},chain:[],reset:function(){var e;for(e=[];this.states.length;)e.push(this.states.pop()());return e},states:[]}},function(e,t){e.exports={accepted:[Boolean,Number,String],value:!1}},function(e,t,n){var a;a=n(95),e.exports={accepted:[!1,Array,Function,Object,String],back:{accepted:[!1,String],fallback:"&#x276e;",opacity:1,process:a,rotate:0,value:"fa-angle-left"},button:{accepted:[!1,String],fallback:!1,opacity:1,process:a,rotate:0,value:!1},drop:{accepted:[!1,String],fallback:"&#x276f;",opacity:1,process:a,rotate:0,value:"fa-angle-down"},next:{accepted:[!1,String],fallback:"&#x276f;",opacity:1,process:a,rotate:0,value:"fa-angle-right"},select:{accepted:[!1,String],fallback:"&#x2713;",opacity:1,process:a,rotate:0,value:"fa-check"},style:{accepted:[Object,String],value:"default"},value:"icon"}},function(e,t,n){var a;a=n(8),e.exports={accepted:[Array,String],dataFilter:!0,mute:a(!0),nesting:["value"],solo:a(!0),value:"value"}},function(e,t,n){var a;a=n(8),e.exports={accepted:[!1,Array,Function,Object,String],mute:a(!0),solo:a(!0),value:"keywords"}},function(e,t,n){var a;a=n(50),e.exports={accepted:[Number,Object,String],process:function(e){var t;return void 0===e&&(e=this.value),t=e,a(e,this),t},value:0}},function(e,t){e.exports={accepted:[Boolean],flipped:{accepted:[Boolean],value:!1},value:!1}},function(e,t){e.exports={accepted:[!1,Function,String],sort:{accepted:["asc","desc"],deprecates:["sort"],value:"asc"},value:!1}},function(e,t){e.exports={accepted:[void 0,Function],process:function(e,t){this.initialized&&t.container.ui.remove(),delete t.container.ui},value:void 0}},function(e,t){e.exports={accepted:["auto",Boolean],process:function(e){return"Boolean"==typeof e&&(this.enabled=e),e},term:"",value:"auto"}},function(e,t){e.exports={accepted:[String],chainable:!1,process:function(e,t){var n;return n=t.container.value,n&&e?n.select(e):e},value:void 0}},function(e,t){e.exports={accepted:[String],chainable:!1,process:function(e,t){var n;return n=t.container.value,n&&e?n.selectAll(e):e},value:void 0}},function(e,t,n){var a;a=n(8),e.exports={accepted:[!1,String],nesting:!0,mute:a(!0),solo:a(!0),secondary:{accepted:[!1,String],nesting:!0,value:!1},value:!1}},function(e,t){e.exports={mouseevents:60,ui:200}},function(e,t,n){var a,i,r,l;a=n(17),i=n(10),l=n(15),r=n(25),e.exports={accepted:[!1,Function,String],font:{align:"center",color:"#444444",decoration:a(),family:i(),size:16,transform:l(),weight:400},link:!1,process:function(e,t){var n;return 0===t.container.id.indexOf("default")&&e&&(n=r(e).toLowerCase(),t.self.container({id:n})),e},value:!1}},function(e,t){e.exports={accepted:function(e){return d3.keys(e.types)},value:"auto"}},function(e,t,n){var a,i,r,l,o;r=n(10),a=n(41),i=n(17),l=n(50),o=n(15),e.exports={align:a("center"),border:1,color:{primary:{process:function(e,t){var n;return n=this.value,t.ui.color.secondary.value||(t.ui.color.secondary.value=d3.rgb(n).darker(.75).toString()),e},value:"#ffffff"},secondary:{value:!1}},display:{acceped:["block","inline-block"],value:"inline-block"},font:{align:a("center"),color:"#444",decoration:i(),family:r(),size:11,transform:o(),weight:200},margin:{process:function(e){var t;return void 0===e&&(e=this.value),t=e,l(e,this),t},value:5},padding:{process:function(e){var t;return void 0===e&&(e=this.value),t=e,l(e,this),t},value:5}}},function(e,t){e.exports={accepted:[!1,Number],secondary:!1,value:!1}},function(e,t,n){e.exports=function(e){var t,a,i,r,l,o,s,u;return o=n(0),i=n(99),r=n(329),l=n(198),s=n(330),t=e.container.ui.selectAll("div.d3plus_node").data(e.data.viz,function(t){return t[e.id.value]}),e.dev.value&&o.time("enter"),t.enter().append("div").attr("class","d3plus_node").call(i,e).call(s,e).call(r,e).call(l,e),e.dev.value&&o.timeEnd("enter"),e.draw.update||e.draw.timing?(e.dev.value&&o.time("ordering"),t.order(),e.dev.value&&o.timeEnd("ordering"),u=t):(a=[e.focus.previous,e.focus.value,e.hover.previous,e.hover.value].filter(function(e){return e}),u=t.filter(function(t){return a.indexOf(t[e.id.value])>=0})),e.dev.value&&o.time("update"),u.classed("d3plus_button_active",function(t){return e.focus.value===t[e.id.value]}),e.draw.timing?u.transition().duration(e.draw.timing).call(i,e).call(s,e):u.call(i,e).call(s,e),u.call(r,e).call(l,e),e.dev.value&&o.timeEnd("update"),t.exit().remove()}},function(e,t,n){e.exports=function(e,t,a){var i,r;return a=n(99),i=n(5),r=n(24),e.on(i.over,function(e,n){return t.self.hover(e[t.id.value]),r||!t.draw.timing?d3.select(this).style("cursor","pointer").call(a,t):d3.select(this).style("cursor","pointer").transition().duration(t.timing.mouseevents).call(a,t)}).on(i.out,function(e){return t.self.hover(!1),r||!t.draw.timing?d3.select(this).style("cursor","auto").call(a,t):d3.select(this).style("cursor","auto").transition().duration(t.timing.mouseevents).call(a,t)}).on(i.click,function(e){return!1!==t.focus.value?t.self.focus(e[t.id.value]).draw():t.focus.callback?t.focus.callback(e,t.self):void 0})}},function(e,t,n){e.exports=function(e){var t,a,i,r,l,o,s,u,c,d,f;return i=n(200),r=n(201),f=n(341),d=n(340),t=n(333),s=n(338),u=n(339),o=n(337),l=n(335),a=n(113),c=n(114),e.margin.top=0,e.margin.title=0,i(e),r(e),f(e),d(e),t(e),s(e),u(e),o(e),l(e),a(e),c(e)}},function(e,t){e.exports=function(e){if(e.data.element.value)return e.data.element.value.on("focus."+e.container.id,function(){return e.self.hover(!0).draw()}),e.data.element.value.on("blur."+e.container.id,function(){if(!e.search.enabled||d3.event.relatedTarget!==e.container.value.select("input").node())return e.self.open(!1).hover(!1).draw()}),e.data.element.value.on("change."+e.container.id,function(){return e.self.focus(this.value).draw()}),e.data.element.value.on("keydown.cancel_"+e.container.id,function(){if(9!==d3.event.keyCode)return d3.event.preventDefault()})}},function(e,t){e.exports=function(e){return d3.select(window).on("keydown."+e.container.id,function(){var t,n,a,i,r,l,o,s,u,c,d,f,p;if(u=d3.event.keyCode,e.open.value||!0===e.hover.value){for(d=!0===e.hover.value?"focus":"hover",o=!1,f=e.data.filtered,l=s=0,c=f.length;s<c;l=++s)if(t=f[l],t[e.id.value]===e[d].value){o=l;break}if(9===u&&e.open.value&&(!e.search.enabled||e.search.enabled&&!d3.event.shiftKey))return e.self.open(!1).hover(!1).draw();if([38,40].indexOf(u)>=0)return!1===o?o=0:38===u?e.open.value&&(o<=0?o=e.data.filtered.length-1:o-=1):40===u&&e.open.value&&(o>=e.data.filtered.length-1?o=0:o+=1),r="boolean"!=typeof e.hover.value?e.data.filtered[o][e.id.value]:e.focus.value,e.self.hover(r).open(!0).draw();if(13===u)return"boolean"!=typeof e.hover.value?(n=e.data.filtered.filter(function(t){return t[e.id.value]===e.hover.value})[0],a=e.depth.value,a<e.id.nesting.length-1&&e.id.nesting[a+1]in n?(p=e.id.solo.value,i=function(){return e.self.depth(a).id({solo:p}).draw()},e.history.states.push(i),e.self.depth(e.depth.value+1).id({solo:[e.hover.value]}).draw()):e.self.focus(e.hover.value).hover(!0).draw()):e.self.hover(e.focus.value).open(!0).draw();if(27===u){if(e.open.value)return e.self.open(!1).hover(!0).draw();if(!0===e.hover.value)return e.self.hover(!1).draw()}}})}},function(e,t,n){var a,i,r;a={},a.version="1.9.8 - Cornflower",a.repo="https://github.com/alexandersimoes/d3plus/",a.array={comparator:n(48),contains:n(87),sort:n(13),update:n(58)},a.client={css:n(37),ie:n(24),pointer:n(5),prefix:n(27),rtl:n(28),scroll:n(45),scrollbar:n(88),touch:n(38)},a.color={legible:n(20),lighter:n(39),mix:n(49),random:n(59),scale:n(60),sort:n(89),text:n(18),validate:n(90)},a.data={bestRegress:n(165),lof:n(166),mad:n(167)},a.font={sizes:n(26),validate:n(98)},a.form=n(34),a.geom={largestRect:n(42),offset:n(51),path2poly:n(66)},a.network={cluster:n(204),distance:n(67),normalize:n(52),shortestPath:n(101),smallestGap:n(68),subgraph:n(205)},a.number={format:n(69)},a.object={merge:n(21),validate:n(2)},a.string={format:n(9),list:n(32),strip:n(25),title:n(53)},a.textwrap=n(29),a.tooltip={create:n(115),move:n(102),remove:n(19)},a.util={buckets:n(22),child:n(70),closest:n(33),copy:n(6),d3selection:n(23),dataurl:n(103),uniques:n(4)},a.viz=n(306),r=n(37),i=n(0),r("d3plus.css")&&i.warning("d3plus.css has been deprecated, you do not need to load this file.",a.repo+"releases/tag/v1.4.0"),"undefined"!=typeof window&&(window.d3plus=a),e.exports=a},function(e,t,n){window.d3=n(311),window.topojson=n(417)},function(e,t,n){var a;a=n(52),e.exports=function(e,t){var n,i,r,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N;if(v=[],null==t&&(t={}),(null==t.nodes||"object"!=typeof t.nodes)&&(E=a(e,t),e=E[0],t=E[1],null===t))return null;t.distance,O=t.nodeid,N=t.startpoint,p=t.endpoint,M=t.nodes,S={};for(g in M)S[g]={node:M[g].node,degree:0};for(k=0,z={},h=0,b=e.length;h<b;h++)f=e[h],i=O(N(f)),r=O(p(f)),i in z||(z[i]={}),r in z||(z[r]={}),r in z[i]||(z[i][r]=0,z[r][i]=0,k++,S[i].degree+=1,S[r].degree+=1);u={},n=0;for(g in S)F=S[g],u[g]={score:F.degree/(2*k),nodes:[g]};for(i in z)for(r in z[i])z[i][r]=1/(2*k)-S[i].degree*S[r].degree/(4*k*k);for(m=0;m<1e3;){d=-1,_=void 0,A=void 0;for(i in z)for(r in z[i])z[i][r]>d&&(d=z[i][r],_=i,A=r);if(d<0)break;for(y in z[_])y!==A&&(y in z[A]?z[A][y]+=z[_][y]:z[A][y]=z[_][y]-2*u[A].score*u[y].score,z[y][A]=z[A][y]),delete z[y][_];for(y in z[A])y in z[_]||y===A||(z[A][y]-=2*u[_].score*u[y].score,z[y][A]=z[A][y]);for(B=u[_].nodes,x=0,w=B.length;x<w;x++)F=B[x],u[A].nodes.push(F);u[A].score+=u[_].score,t.vdebug&&v.push({type:"merge",father:A,child:_,nodes:u[A].nodes}),delete u[_],delete z[_],n+=d,m++}return s=function(){var e;e=[];for(l in u)c=u[l],e.push([l,c.nodes.length]);return e}(),s.sort(function(e,t){return t[1]-e[1]}),C=function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)o=s[e],n.push(u[o[0]].nodes);return n}(),[C,v]}},function(e,t,n){var a;a=n(52),e.exports=function(e,t,n){var i,r,l,o,s,u,c,d,f,p,v,h;return null==n&&(n={}),n.source=t,null!=n.nodes&&"object"==typeof n.nodes||(p=a(e,n),e=p[0],null!==(n=p[1]))?(t=n.source,l=n.directed,o=n.distance,d=n.nodeid,v=n.startpoint,u=n.endpoint,i=n.K,f=n.nodes,h={},h[t]=!0,r=function(e,t){var n,a,s,c,p,g,m,x,y;for(m=f[e].outedges,y=[],c=0,p=m.length;c<p;c++)s=m[c],n=d(v(s)),a=d(u(s)),l||a!==e||(x=[a,n],n=x[0],a=x[1]),a in h?y.push(void 0):(g=t+o(s),g<=i?(h[a]=!0,y.push(r(a,g))):y.push(void 0));return y},r(t,0),{nodes:function(){var e;e=[];for(c in h)e.push(f[c].node);return e}(),edges:function(){var t,n,a;for(a=[],t=0,n=e.length;t<n;t++)s=e[t],d(v(s))in h&&d(u(s))in h&&a.push(s);return a}()}):null}},function(e,t,n){var a,i;a=n(207),i=n(210),e.exports=function(e){e.text.html.value?a(e):i(e)}},function(e,t){e.exports=function(e){var t,n,a,i,r;r=e.container.value,a=r.attr("font-family")||r.style("font-family"),t=e.align.value||r.attr("text-anchor")||r.style("text-anchor"),n=r.attr("fill")||r.style("fill"),i=r.attr("opacity")||r.style("opacity"),t="end"===t?"right":"middle"===t?"center":"left",d3.select(r.node().parentNode).append("foreignObject").attr("width",e.width.value+"px").attr("height",e.height.value+"px").attr("x","0px").attr("y","0px").append("xhtml:div").style("font-family",a).style("font-size",e.size.value[1]+"px").style("color",n).style("text-align",t).style("opacity",i).text(e.text.current)}},function(e,t){e.exports=function(e){var t,n,a,i,r,l,o,s,u,c;if(n=e.container.value,i=n.node().previousElementSibling,l=i?i.tagName.toLowerCase():"",i&&(i=d3.select(i)),e.container.x=e.x.value||parseFloat(n.attr("x"),10),e.container.y=e.y.value||parseFloat(n.attr("y"),10),i&&(e.shape.accepted.indexOf(l)>=0&&e.self.shape(l),"rect"===l?(u=parseFloat(i.attr("x"),10)||0,c=parseFloat(i.attr("y"),10)||0,!1===e.padding.value&&(t=Math.abs(u-e.container.x))&&e.self.padding(t),e.container.x||(e.container.x=u+e.padding.value),e.container.y||(e.container.y=c+e.padding.value),e.width.value||(s=parseFloat(i.attr("width")),e.self.width(s)),e.height.value||(a=parseFloat(i.attr("height")),e.self.height(a))):"circle"===l?(r=parseFloat(i.attr("r"),10),u=parseFloat(i.attr("cx"),10)||0,u-=r,c=parseFloat(i.attr("cy"),10)||0,c-=r,!1===e.padding.value&&(t=Math.abs(u-e.container.x))&&e.self.padding(t),e.container.x||(e.container.x=u+e.padding.value),e.container.y||(e.container.y=c+e.padding.value),e.width.value||e.self.width(2*r,10),e.height.value||e.self.height(2*r,10)):(e.width.value||e.self.width(500),e.height.value||e.self.height(500))),e.container.x||(e.container.x=0),e.container.y||(e.container.y=0),e.width.inner=e.width.value-2*e.padding.value,e.height.inner=e.height.value-2*e.padding.value,o=n.attr("font-size")||n.style("font-size"),o=parseFloat(o,10),e.container.fontSize=o,e.container.dy=parseFloat(n.attr("dy"),10),!e.size.value)return e.resize.value?e.self.size([4,80]):e.self.size([o/2,o])}},function(e,t){e.exports=function(e){var t;if(e.text.value||(t=e.container.value.text())&&(t.indexOf("tspan")>=0&&(t.replace(/\<\/tspan\>\<tspan\>/g," "),t.replace(/\<\/tspan\>/g,""),t.replace(/\<tspan\>/g,"")),t=t.replace(/(\r\n|\n|\r)/gm,""),t=t.replace(/^\s+|\s+$/g,""),e.self.text(t)),e.text.value instanceof Array?e.text.phrases=e.text.value.filter(function(e){return["string","number"].indexOf(typeof e)>=0}):e.text.phrases=[e.text.value+""],!e.align.value)return e.container.align=e.container.value.style("text-anchor")||e.container.value.attr("text-anchor")}},function(e,t,n){var a;a=n(28),e.exports=function(e){var t,n,i,r,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C;return f=function(t){var a;return a=!h||t?e.container.value.append("tspan"):e.container.value.insert("tspan","tspan"),a.attr("x",S+"px").attr("dy",n+"px").style("baseline-shift","0%").attr("dominant-baseline","alphabetic")},d=-90===e.rotate.value||90===e.rotate.value,F=d?e.height.inner:e.width.inner,o=d?e.width.inner:e.height.inner,t="circle"===e.shape.value?"middle":e.align.value||e.container.align||"start",E="end"===t||"start"===t&&a?F:"middle"===t?F/2:0,A=e.valign.value||"top",S=e.container.x+E,r=e.resize.value?e.size.value[1]:e.container.fontSize||e.size.value[0],n=e.container.dy||1.1*r,z=null,v=null,O=null,h=!1,C=0,"circle"===e.shape.value&&("middle"===A?C=o/n%1*n/2:"end"===A&&(C=o/n%1*n)),e.container.value.attr("text-anchor",t).attr("font-size",r+"px").style("font-size",r+"px").attr("x",e.container.x).attr("y",e.container.y),_=function(){if(z.remove(),h?(s++,z=e.container.value.select("tspan")):(s--,z=d3.select(e.container.value.node().lastChild)),!z.empty())return O=z.text().match(/[^\s-]+-?/g),i()},u=function(){var t;return"circle"===e.shape.value?(t=(s-1)*n+C,t>o/2&&(t+=n),2*Math.sqrt(t*(F/2*2-t))):F},i=function(){var t,n;return O&&O.length?(n=O.pop(),t=n.charAt(n.length-1),1===n.length&&e.text.split.value.indexOf(n)>=0?i():(e.text.split.value.indexOf(t)>=0&&(n=n.substr(0,n.length-1)),z.text(O.join(" ")+" "+n+"..."),z.node().getComputedTextLength()>u()?i():void 0)):_()},p=function(t){var n,a,i,r;if(n=z.text(),r="",h){if(" "===(r=e.text.current.charAt(e.text.current.length-v.length-1)))for(i="",a=2;" "===r;)i+=" ",r=e.text.current.charAt(e.text.current.length-v.length-a),a++;else i="";v=t+i+v,z.text(t+i+n)}else{if(" "===(r=e.text.current.charAt(v.length)))for(i="",a=1;" "===r;)i+=" ",r=e.text.current.charAt(v.length+a),a++;else i="";v+=i+t,z.text(n+i+t)}if(Math.floor(z.node().getComputedTextLength())>u()||"\n"===r)return z.text(n),n.length&&(z=f()),z.text(t),h?s--:s++},w=1,s=null,c=null,M=function(){var t,a,i,r,l,u;for(e.container.value.text("").html(""),O=e.text.words.slice(),h&&O.reverse(),v="",z=f(!0),s=w,a=0,i=O.length;a<i;a++){if(u=O[a],s*n>o){_();break}for(p(u),l=!0;l;){for(r=e.text.current.charAt(v.length),t=1;" "===r;)r=e.text.current.charAt(v.length+t),t++;l=e.text.split.value.indexOf(r)>=0,l&&p(r)}}return s*n>o&&_(),c=Math.abs(s-w)+1},M(),c=0,e.container.value.selectAll("tspan").each(function(){if(d3.select(this).text().length)return c++}),"circle"===e.shape.value&&(b=o-c*n)>n&&("middle"===A?(w=1+(b/n/2>>0),M()):"bottom"===A&&(h=!0,w=o/n>>0,M())),c=0,e.container.value.selectAll("tspan").each(function(){if(d3.select(this).text().length)return c++}),"top"===A?B=0:(l=c*n,B="middle"===A?o/2-l/2:o-l),B-=.2*n,k="translate(0,"+B+")",180===e.rotate.value||-180===e.rotate.value?(x=e.container.x+F/2,y=e.container.y+o/2):(g=e.rotate.value<0?F:o,x=e.container.x+g/2,y=e.container.y+g/2),m="rotate("+e.rotate.value+", "+x+", "+y+")",e.container.value.attr("transform",m+k)}},function(e,t,n){var a,i,r,l;a=n(206),i=n(26),l=function(e){var t;e.text.phrases.length&&(e.text.current=e.text.phrases.shift()+"",e.text.words=e.text.current.match(e.text.split.break),t=e.text.current.charAt(0),t!==e.text.words[0].charAt(0)&&(e.text.words[0]=t+e.text.words[0]),e.container.value.html(""),e.resize.value?r(e):a(e))},e.exports=l,r=function(e){var t,n,r,o,s,u,c,d,f,p,v,h,g,m,x,y,b;for(b=[],c=0;c<e.text.words.length;)t=c===e.text.words.length-1?"":" ",b.push(e.text.words[c]+t),c++;p=-90===e.rotate.value||90===e.rotate.value,x=p?e.height.inner:e.width.inner,s=p?e.width.inner:e.height.inner,v=Math.floor(e.size.value[1]),d="circle"===e.shape.value?.75*x:x,g=i(b,{"font-size":v+"px"},{parent:e.container.value}),f=d3.max(g,function(e){return e.width}),n=1.165+x/s*.11,m=d3.sum(g,function(t){var n;return n=e.container.dy||1.2*v,t.width*n})*n,o="circle"===e.shape.value?Math.PI*Math.pow(x/2,2):d*s,(f>d||m>o)&&(r=Math.sqrt(o/m),y=d/f,h=d3.min([r,y]),v=d3.max([e.size.value[0],Math.floor(v*h)])),u=Math.floor(.8*s),v>u&&(v=u),f*(v/e.size.value[1])<=d?(v!==e.size.value[1]&&e.self.size([e.size.value[0],v]),a(e)):l(e)}},function(e,t){e.exports={accepted:[!1,"start","middle","end","left","center","right"],process:function(e){var t;return t=["left","center","right"].indexOf(e),t>=0&&(e=this.accepted[t+1]),e},value:!1}},function(e,t){e.exports={accepted:[Object],objectAccess:!1,process:function(e,t){var n,a;for(n in e)a=e[n],n in t.self&&t.self[n](a);return e},value:{}}},function(e,t,n){var a;a=n(23),e.exports={accepted:[!1,Array,Object,String],element:!1,id:"default",process:function(e){return!1!==e&&(a(e)?e:e instanceof Array?d3.select(e[0][0]):(this.selector=e,d3.select(e)))},value:!1}},function(e,t){e.exports={accepted:[Boolean],value:!1}},function(e,t,n){var a,i;a=n(0),i=n(9),e.exports={accepted:[void 0],process:function(e,t){var n,r;return!1===this.initialized?e:(!1===t.container.value?(r=t.format.locale.value.dev.setContainer,a.warning(r,"container")):t.container.value.empty()?(r=t.format.locale.value.dev.noContainer,n=t.container.selector||"",a.warning(i(r,'"'+n+'"'),"container")):(t.dev.value&&a.time("total draw time"),t.container.value.call(t.self)),e)},value:void 0}},function(e,t,n){var a,i;a=n(63),i=n(21),e.exports={accepted:[Function,String],locale:{accepted:function(){return d3.keys(a)},process:function(e){var t,n;return t="en_US",n=a[t],e!==t&&(n=i(n,a[e])),this.language=e,n},value:"en_US"},process:function(e,t){if(this.initialized&&"string"==typeof e)t.self.format({locale:e});else if("function"==typeof e)return e;return this.value},value:"en_US"}},function(e,t){e.exports={accepted:[!1,Number],value:!1}},function(e,t){e.exports={accepted:[!1,Number],value:!1}},function(e,t){e.exports={accepted:[Boolean],value:!1}},function(e,t){e.exports={accepted:[-180,-90,0,90,180],value:0}},function(e,t){e.exports={accepted:["circle","square"],value:!1}},function(e,t){e.exports={accepted:[Array,!1],value:!1}},function(e,t){e.exports={accepted:[!1,Array,Number,String],html:{accepted:[Boolean],value:!1},init:function(e){var t;return t=this.split.value,this.split.break=new RegExp("[^\\s\\"+t.join("\\")+"]+\\"+t.join("?\\")+"?","g"),!1},split:{accepted:[Array],process:function(e){return this.break=new RegExp("[^\\s\\"+e.join("\\")+"]+\\"+e.join("?\\")+"?","g"),e},value:["-","/",";",":","&"]}}},function(e,t){e.exports={accepted:[!1,"top","middle","bottom"],value:!1}},function(e,t){e.exports={accepted:[!1,Number],value:!1}},function(e,t){e.exports={accepted:[!1,Number],value:!1}},function(e,t){e.exports={accepted:[!1,Number],value:!1}},function(e,t){e.exports=function(e){var t,n,a,i,r;for(e.container.value.style("position",function(){var e,t;return e=d3.select(this).style("position"),t=["absolute","fixed"].indexOf(e)>=0,t?e:"relative"}),e.container.changed&&e.container.value.html(""),i=["width","height"],n=0,a=i.length;n<a;n++)r=i[n],e[r].value||(t=function(n){var a,i;return void 0===n.tagName||["BODY","HTML"].indexOf(n.tagName)>=0?(i=window["inner"+r.charAt(0).toUpperCase()+r.slice(1)],a=document!==n&&d3.select(n),a&&("width"===r?(i-=parseFloat(a.style("margin-left"),10),i-=parseFloat(a.style("margin-right"),10),i-=parseFloat(a.style("padding-left"),10),i-=parseFloat(a.style("padding-right"),10)):(i-=parseFloat(a.style("margin-top"),10),i-=parseFloat(a.style("margin-bottom"),10),i-=parseFloat(a.style("padding-top"),10),i-=parseFloat(a.style("padding-bottom"),10))),e[r].value=i<=20?e[r].small:i):"number"==typeof(i=parseFloat(d3.select(n).style(r),10))&&i>0?e[r].value=i:"BODY"!==n.tagName?t(n.parentNode):void 0},t(e.container.value.node()),1===d3.selectAll("body > *:not(script)").size()&&d3.select("body").style("overflow","hidden"));e.container.value.style("width",e.width.value+"px").style("height",e.height.value+"px")}},function(e,t,n){var a,i,r,l;a=n(75),i=n(1),r=n(0),l=n(19),e.exports=function(e){var t,n,o;n=e.focus,!e.error.internal&&1===n.value.length&&n.value.length&&!e.small&&n.tooltip.value?(e.dev.value&&r.time("drawing focus tooltip"),t=e.data.pool.filter(function(t){return i(e,t,e.id.value)===n.value[0]}),t.length>=1?t=t[0]:(t={},t[e.id.value]=n.value[0]),o=e.labels.padding,a({anchor:"top left",arrow:!1,data:t,fullscreen:!1,id:"visualization_focus",length:"long",maxheight:e.height.viz-2*o,mouseevents:!0,offset:0,vars:e,width:e.tooltip.large,x:e.width.value-e.margin.right-o,y:e.margin.top+o}),e.width.viz-=e.tooltip.large+2*o,e.dev.value&&r.timeEnd("drawing focus tooltip")):l("visualization_focus")}},function(e,t,n){var a,i,r,l;l=n(11),i=n(42),r=n(66),a={start:{},end:{}},e.exports=function(e,t,n,o){var s,u,c,d;s=d3.svg.arc().innerRadius(0).outerRadius(function(e){return e.d3plus.r}).startAngle(function(e){return e.d3plus.startAngle}).endAngle(function(e){return e.d3plus.endAngle}),c=function(t){var n,a;return e.labels.value&&(t.d3plus.label?t.d3plus_label=t.d3plus.label:(n=r(s(t)),a=i(n,{angle:0}),a[0]?t.d3plus_label={w:a[0].width,h:a[0].height,x:a[0].cx,y:a[0].cy}:delete t.d3plus_label)),[t]},e.draw.timing?(d=d3.svg.arc().innerRadius(0).outerRadius(function(e){return e.d3plus.r}).startAngle(function(e){return void 0===a.start[e.d3plus.id]&&(a.start[e.d3plus.id]=0),isNaN(a.start[e.d3plus.id])&&(a.start[e.d3plus.id]=e.d3plus.startAngle),a.start[e.d3plus.id]}).endAngle(function(e){return void 0===a.end[e.d3plus.id]&&(a.end[e.d3plus.id]=0),isNaN(a.end[e.d3plus.id])&&(a.end[e.d3plus.id]=e.d3plus.endAngle),a.end[e.d3plus.id]}),u=function(e,t){return e.attrTween("d",function(e){var n,i,r,l;return void 0===t?(l=e.d3plus.startAngle,n=e.d3plus.endAngle):0===t&&(l=0,n=0),r=d3.interpolate(a.start[e.d3plus.id],l),i=d3.interpolate(a.end[e.d3plus.id],n),function(t){return a.start[e.d3plus.id]=r(t),a.end[e.d3plus.id]=i(t),d(e)}})},n.append("path").attr("class","d3plus_data").call(l,e).attr("d",d),t.selectAll("path.d3plus_data").data(c).transition().duration(e.draw.timing).call(l,e).call(u),o.selectAll("path.d3plus_data").transition().duration(e.draw.timing).call(u,0)):(n.append("path").attr("class","d3plus_data"),t.selectAll("path.d3plus_data").data(c).call(l,e).attr("d",s))}},function(e,t,n){var a,i,r,l,o,s,u,c;a=n(6),i=n(67),r=n(12),l=n(26),s=n(42),u=n(66),c=n(11),o={},e.exports=function(e,t,n,d){var f,p;return f=d3.geo[e.coords.projection.value](),f.center&&f.center(e.coords.center),e.zoom.scale||(e.zoom.scale=1),e.zoom.area=1/e.zoom.scale/e.zoom.scale,e.path=d3.geo.path().projection(f),e.draw.timing?t.selectAll("path.d3plus_data").attr("d",e.path).transition().duration(e.draw.timing).call(c,e):t.selectAll("path.d3plus_data").attr("d",e.path).call(c,e),n.append("path").attr("id",function(e){return e.id}).attr("class","d3plus_data").attr("d",e.path).call(c,e),p=e.old_height!==e.height.viz||e.height.changed||e.old_width!==e.width.viz||e.width.changed,e.old_height=e.height.viz,e.old_width=e.width.viz,e.coords.changed||p||e.coords.mute.changed||e.coords.solo.changed||e.type.changed||e.text.changed||e.coords.projection.changed||e.labels.changed?(e.zoom.bounds=null,e.zoom.reset=!0,e.zoom.coords={},t.each(function(t){var n,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S;if(e.coords.simplify.value&&t.geometry.coordinates.length>1){for(m=[],c=[],n=0,b=a(t),F=a(t),t.geometry.coordinates=t.geometry.coordinates.filter(function(t,a){var i;return F.geometry.coordinates=[t],(i=e.path.area(F))>0&&(c.push(i),i>n&&(b.geometry.coordinates=[t],n=i),!0)}),p=e.path.centroid(b),O=t.geometry.coordinates,x=y=0,w=O.length;y<w;x=++y)f=O[x],F.geometry.coordinates=[f],m.push(i(e.path.centroid(F),p));g=m.reduce(function(e,t,n){return t&&e.push(c[n]/t),e},[]),h=d3.quantile(g,e.coords.threshold.value),F.geometry.coordinates=t.geometry.coordinates.filter(function(e,t){var n,a;return a=m[t],n=c[t],0===a||n/a>=h}),v=b.geometry.coordinates[0],v&&"MultiPolygon"===b.geometry.type&&(v=v[0],b.geometry.coordinates[0]=v,b.geometry.type="Polygon")}else F=t,b=t,v=t.geometry.coordinates[0];return e.zoom.coords[t.d3plus.id]=F,delete t.d3plus_label,e.labels.value&&(z=r(e,t),v&&z.length&&(k=u(e.path(b)),S={"font-weight":e.labels.font.weight,"font-family":e.labels.font.family.value},_=null,1===z[0].split(" ").length&&(M=l(z[0],S)[0],_=M.width/M.height),(A=s(k,{angle:0,aspectRatio:_}))&&(A=A[0],t.d3plus_label={anchor:"middle",valign:"center",h:A.height,w:A.width,x:A.cx,y:A.cy,names:z}))),o[t.id]=t.d3plus_label,d=e.path.bounds(F),e.zoom.bounds?(e.zoom.bounds[0][0]>d[0][0]&&(e.zoom.bounds[0][0]=d[0][0]),e.zoom.bounds[0][1]>d[0][1]&&(e.zoom.bounds[0][1]=d[0][1]),e.zoom.bounds[1][0]<d[1][0]&&(e.zoom.bounds[1][0]=d[1][0]),e.zoom.bounds[1][1]<d[1][1]?e.zoom.bounds[1][1]=d[1][1]:void 0):e.zoom.bounds=d})):e.focus.value.length?void 0:(e.zoom.viewport=!1,t.each(function(e){return e.d3plus_label=o[e.id]}))}},function(e,t,n){var a,i,r,l;l=n(11),r={},a={},i={r:{},a:{}},e.exports=function(e,t,n,o){var s,u,c,d,f;c=e.id.nesting[e.depth.value+1],d=d3.svg.line.radial().interpolate("linear-closed").radius(function(e){return e.d3plus.r}).angle(function(e){return e.d3plus.a}),s=function(t){return e.labels.value&&(t.d3plus.label?t.d3plus_label=t.d3plus.label:delete t.d3plus_label),[t]},e.draw.timing?(t.each(function(t){var n,a,i,r,l;for(r=t[c],l=[],a=0,i=r.length;a<i;a++)n=r[a],l.push(n.d3plus.id=n[e.id.value]+"_"+n[c]);return l}),u=d3.svg.line.radial().interpolate("linear-closed").radius(function(e,t){return void 0===r[e.d3plus.id]&&(r[e.d3plus.id]=0),isNaN(r[e.d3plus.id])&&(r[e.d3plus.id]=e.d3plus.r),r[e.d3plus.id]}).angle(function(e,t){return void 0===a[e.d3plus.id]&&(a[e.d3plus.id]=e.d3plus.a),isNaN(a[e.d3plus.id])&&(a[e.d3plus.id]=e.d3plus.a),a[e.d3plus.id]}),f=function(e,t){return e.attrTween("d",function(e){var n,l,o,s,d,f,p;for(p=e[c],o=s=0,d=p.length;s<d;o=++s)l=p[o],n=l.d3plus.a,void 0===t?f=l.d3plus.r:0===t&&(f=0),i.a[l.d3plus.id]=d3.interpolate(a[l.d3plus.id],n),i.r[l.d3plus.id]=d3.interpolate(r[l.d3plus.id],f);return function(t){var n,s,d;for(d=e[c],o=n=0,s=d.length;n<s;o=++n)l=d[o],a[l.d3plus.id]=i.a[l.d3plus.id](t),r[l.d3plus.id]=i.r[l.d3plus.id](t);return u(e[c])}})},n.append("path").attr("class","d3plus_data").call(l,e).attr("d",function(e){return u(e[c])}),t.selectAll("path.d3plus_data").data(s).transition().duration(e.draw.timing).call(l,e).call(f),o.selectAll("path.d3plus_data").transition().duration(e.draw.timing).call(f,0)):(n.append("path").attr("class","d3plus_data"),t.selectAll("path.d3plus_data").data(s).call(l,e).attr("d",function(e){return d(e[c])}))}},function(e,t,n){var a;a=n(11),e.exports=function(e,t,n,i){var r,l,o;return r=function(t){var n,a;return e.labels.value&&!t.d3plus.label?(a=t.d3plus.r?2*t.d3plus.r:t.d3plus.width,n=t.d3plus.r?2*t.d3plus.r:t.d3plus.height,t.d3plus_label={w:a,h:n,x:0,y:0},t.d3plus_share={w:a,h:n,x:0,y:0},t.d3plus_label.shape="circle"===t.d3plus.shape?"circle":"square"):t.d3plus.label?t.d3plus_label=t.d3plus.label:delete t.d3plus_label,[t]},l=function(e){return e.attr("x",function(e){return e.d3plus.init&&"x"in e.d3plus.init?e.d3plus.init.x:e.d3plus.init&&"width"in e.d3plus.init?-e.d3plus.width/2:0}).attr("y",function(e){return e.d3plus.init&&"y"in e.d3plus.init?e.d3plus.init.y:e.d3plus.init&&"height"in e.d3plus.init?-e.d3plus.height/2:0}).attr("width",function(e){return e.d3plus.init&&"width"in e.d3plus.init?e.d3plus.init.width:0}).attr("height",function(e){return e.d3plus.init&&"height"in e.d3plus.init?e.d3plus.init.height:0})},o=function(t){return t.attr("x",function(e){return-(e.d3plus.r?2*e.d3plus.r:e.d3plus.width)/2}).attr("y",function(e){return-(e.d3plus.r?2*e.d3plus.r:e.d3plus.height)/2}).attr("width",function(e){return e.d3plus.r?2*e.d3plus.r:e.d3plus.width}).attr("height",function(e){return e.d3plus.r?2*e.d3plus.r:e.d3plus.height}).attr("rx",function(e){var t,n;return t="circle"===e.d3plus.shape,n=e.d3plus.r?2*e.d3plus.r:e.d3plus.width,t?(n+2)/2:0}).attr("ry",function(e){var t,n;return n="circle"===e.d3plus.shape,t=e.d3plus.r?2*e.d3plus.r:e.d3plus.height,n?(t+2)/2:0}).attr("transform",function(e){return"rotate"in e.d3plus?"rotate("+e.d3plus.rotate+")":""}).attr("shape-rendering",function(t){return"square"!==t.d3plus.shape||"rotate"in t.d3plus?"auto":e.shape.rendering.value})},e.draw.timing?(n.append("rect").attr("class","d3plus_data").call(l).call(a,e),t.selectAll("rect.d3plus_data").data(r).transition().duration(e.draw.timing).call(o).call(a,e),i.selectAll("rect.d3plus_data").transition().duration(e.draw.timing).call(l)):(n.append("rect").attr("class","d3plus_data"),t.selectAll("rect.d3plus_data").data(r).call(o).call(a,e))}},function(e,t){e.exports=function(e,t,n,a){var i,r,l,o,s,u,c,d,f;r=function(e){return e.d3plus.text?e.d3plus_label={w:d,h:d,x:0,y:0,background:"#fff",resize:!1,angle:["left","right"].indexOf(e.d3plus.position)>=0?90:0}:e.d3plus.label?e.d3plus_label=e.d3plus.label:delete e.d3plus_label,[e]},f=function(t){return t.style("stroke-width",e.data.stroke.width).style("stroke","#444").attr("fill","none").attr("shape-rendering",e.shape.rendering.value)},l=function(e){return e.attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0)},c=function(e){return e.attr("x1",function(e){var t,n;return["top","bottom"].indexOf(e.d3plus.position)>=0?0:(t=e.d3plus.offset||0,n=e.d3plus.width||0,(t<0?-n:n)+t)}).attr("x2",function(e){return["top","bottom"].indexOf(e.d3plus.position)>=0?0:e.d3plus.offset||0}).attr("y1",function(e){var t,n;return["left","right"].indexOf(e.d3plus.position)>=0?0:(n=e.d3plus.offset||0,t=e.d3plus.height||0,(n<0?-t:t)+n)}).attr("y2",function(e){return["left","right"].indexOf(e.d3plus.position)>=0?0:e.d3plus.offset||0}).attr("marker-start","url(#d3plus_whisker_marker)")},o=e.defs.selectAll("#d3plus_whisker_marker").data([0]),o.enter().append("marker").attr("id","d3plus_whisker_marker").attr("markerUnits","userSpaceOnUse").style("overflow","visible").append("line"),i=t.datum(),i?(u=i.d3plus.position,s=["top","bottom"].indexOf(u)>=0?"horizontal":"vertical",d="horizontal"===s?i.d3plus.width:i.d3plus.height):(s="horizontal",d=0),o.select("line").attr("x1","horizontal"===s?-d/2:0).attr("x2","horizontal"===s?d/2:0).attr("y1","vertical"===s?-d/2:0).attr("y2","vertical"===s?d/2:0).call(f).style("stroke-width",2*e.data.stroke.width),e.draw.timing?(n.append("line").attr("class","d3plus_data").call(f).call(l),t.selectAll("line.d3plus_data").data(r).transition().duration(e.draw.timing).call(f).call(c),a.selectAll("line.d3plus_data").transition().duration(e.draw.timing).call(l)):(n.append("line").attr("class","d3plus_data"),t.selectAll("line.d3plus_data").data(r).call(f).call(c))}},function(e,t,n){var a;a=n(0),e.exports=function(e){var t,n,i,r,l,o,s,u,c,d;if(e.group=e.g.apps[e.type.value],e.mouse.viz=!1,e.edges.path=!1,d=e.types[e.type.value],u=d.requirements||[],i=u.indexOf("data")>=0,r=!i||i&&e.data.viz.length,!e.error.internal&&r){for(t=e.format.locale.value.visualization[e.type.value],e.dev.value&&a.time("running "+t),s=e.data.viz,l=0,o=s.length;l<o;l++)n=s[l],n.d3plus&&(delete n.d3plus.shape,delete n.d3plus.label,delete n.d3plus.rotate,delete n.d3plus.share);c=d(e),e.dev.value&&a.timeEnd("running "+t)}else c=null;e.returned={nodes:[],edges:null},c instanceof Array?e.returned.nodes=c:c&&(c.nodes&&(e.returned.nodes=c.nodes),c.edges&&(e.returned.edges=c.edges))}},function(e,t,n){var a,i,r,l;a=n(5),i=n(39),r=n(0),l=n(37),e.exports=function(e){var t,n,o,s,u,c,d,f,p,v,h,g,m,x;return!e.small&&e.history.states.length>0?(e.dev.value&&r.time("drawing back button"),t=e.container.value.selectAll("div#d3plus_back_button").data(["d3plus_back_button"]).style("position","relative").style("z-index",1900),f=e.title.sub.font.size,n=e.title.sub.font.color,s=e.title.sub.font.family.value,x=e.title.sub.font.weight,d=e.title.sub.padding,h=!1,e.title.sub.value&&["start","left"].indexOf(e.title.sub.font.align)<0?h="sub":e.title.total.value&&["start","left"].indexOf(e.title.total.font.align)<0?h="total":e.title.value&&["start","left"].indexOf(e.title.font.align)<0&&(h="title"),h?(p=function(e){var t;return t=e.attr("transform").match(/translate\(([^a-z]+)\)/gi)[0],t=t.replace(/([^a-z])\s([^a-z])/gi,"$1,$2"),t=t.split(","),t=t[t.length-1],parseFloat(t.substring(0,t.length-1))},g=e.svg.select(".d3plus_title."+h),m=p(g)+p(g.select("text"))):(m=e.margin.top-e.title.padding,c=f+2*d,e.margin.top+=c),o=parseFloat(e.container.value.style("padding-top"),10),m+=o,o=parseFloat(e.container.value.style("padding-left"),10),u=e.margin.left+f/2+o,v=function(e){return e.style("position","absolute").style("left",u+"px").style("top",m+"px").style("color",n).style("font-family",s).style("font-weight",x).style("font-size",f+"px")},t.enter().append("div").attr("id","d3plus_back_button").style("opacity",0).call(v).html(function(){var t;return l("font-awesome")&&0===e.icon.back.value.indexOf("fa-")?(t="<i class='fa "+e.icon.back.value,t+="' style='margin-top:2px;margin-right:4px;'></i>"):t=e.icon.back.value+" ",t+e.format.value(e.format.locale.value.ui.back)}),t.on(a.over,function(){if(!e.small&&e.history.states.length>0)return d3.select(this).style("cursor","pointer").transition().duration(e.timing.mouseevents).style("color",i(n,.25))}).on(a.out,function(){if(!e.small&&e.history.states.length>0)return d3.select(this).style("cursor","auto").transition().duration(e.timing.mouseevents).style("color",n)}).on(a.click,function(){return e.history.back()}).transition().duration(e.draw.timing).style("opacity",1).call(v),e.dev.value?r.timeEnd("drawing back button"):void 0):e.container.value.selectAll("div#d3plus_back_button").transition().duration(e.draw.timing).style("opacity",0).remove()}},function(e,t,n){var a,i,r,l,o,s,u,c,d;a=n(33),i=n(37),n(26),r=n(5),l=n(49),s=n(27),u=n(0),c=n(18),d=n(93),o=!1,e.exports=function(e){var t,n,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q,V,I,P,R,T,L,H,U,$,W,J,G,K,Y,X,Z,Q,ee,te,ne,ae,ie,re,le;if(!e.timeline.value||e.error.internal&&e.data.missing||e.small||!e.data.time||!(e.data.time.values.length>1))return e.g.timeline.transition().duration(e.draw.timing).attr("transform","translate(0,"+e.height.value+")");if(e.dev.value&&u.time("drawing timeline"),$={"font-weight":e.ui.font.weight,"font-family":e.ui.font.family.value,"font-size":e.ui.font.size+"px","text-anchor":"middle"},le=e.data.time.ticks.map(function(e){return new Date(e)}),Y=d(e,{values:le,style:$}),te=Y.values.map(Number),K=Y.format,e.time.solo.value.length)for(w=d3.extent(e.time.solo.value),b=z=0,A=w.length;z<A;b=++z)m=w[b],m.constructor!==Date&&(m+="",4===m.length&&parseInt(m)+""===m&&(m+="/01/01"),m=new Date(m),w[b]=m);else w=d3.extent(le);if(re=le.slice(),ae=d3.max(Y.sizes.map(function(e){return e.height})),k=1+~~d3.max(Y.sizes.map(function(e){return e.width})),k+=2*e.ui.padding,Z=e.timeline.height.value||ae+2*e.ui.padding,ee=k*le.length,q=Z,L=Z-2*e.ui.padding>=ae,t=e.width.value-2*e.ui.padding,L&&e.timeline.play.value&&(t-=q+e.ui.padding),!L||te.length<le.length||t<k*te.length){for(S=k,k=(t-k)/le.length,ee=k*le.length,Q=1,J=1+~~(S/(ee/te.length));J<te.length-1&&(te.length-1)%J!=0;)J++;te=te.filter(function(e,t){return t%J==0})}else Q=0,O=new Date(le[0]),R=e.data.time.stepType,O["set"+R](O["get"+R]()+le.length),re.push(O);return I=new Date(w[0]),I=a(re,I),x=new Date(w[1]),Q||x["set"+e.data.time.stepType](x["get"+e.data.time.stepType]()+1),x=a(re,x),ie=re.map(Number),M=ie.indexOf(+I),F=ie.indexOf(+x),p=[I,x],P="start"===e.timeline.align?e.ui.padding:"end"===e.timeline.align?e.width.value-e.ui.padding-ee:e.width.value/2-ee/2,L&&e.timeline.play.value&&(P+=(q+e.ui.padding)/2),T=function(){return clearInterval(o),o=!1,B.call(C,"icon")},h=function(){var e,t,n;if(null!==d3.event.sourceEvent){if(o&&T(),p=f.extent(),n=a(re,p[0]),t=a(re,p[1]),n===t&&(M=ie.indexOf(+n),n<p[0]||0===M?t=re[M+1]:n=re[M-1]),M=ie.indexOf(+n),(F=ie.indexOf(+t))-M>=1)e=[n,t];else if(M+1<=le.length)e=[n,re[M+1]];else{for(e=[n],b=1;b<=1;)M+b<=le.length?e.push(re[M+b]):e.unshift(re[M-(M+b-le.length)]),b++;e=[e[0],e[e.length-1]]}return p=e,H.attr("fill",U),d3.select(this).call(f.extent(e))}},V=function(){var t;return F-M==le.length-Q?t=[]:(t=ie.filter(function(e,t){return t>=M&&t<F+Q}),t=t.map(function(e){return new Date(e)})),j(),e.self.time({solo:t}).draw()},g=function(){var t,n,i,r;if(null!==d3.event.sourceEvent&&(e.time.solo.value.length?(r=d3.extent(e.time.solo.value),i=ie.indexOf(+a(re,r[0])),n=ie.indexOf(+a(re,r[1])),t=i!==M||n!==F):t=F-M!=le.length-Q,t))return V()},E=e.g.timeline.selectAll("rect.d3plus_timeline_play").data(L&&e.timeline.play.value?[0]:[]),D=function(t){return t.attr("width",q+1).attr("height",Z+1).attr("fill",e.ui.color.primary.value).attr("stroke",e.ui.color.primary.value).attr("stroke-width",1).attr("x",P-q-1-e.ui.padding).attr("y",e.ui.padding)},E.enter().append("rect").attr("class","d3plus_timeline_play").attr("shape-rendering","crispEdges").attr("opacity",0).call(D),E.transition().duration(e.draw.timing).call(D),E.exit().transition().duration(e.draw.timing).attr("opacity",0).remove(),B=e.g.timeline.selectAll("text.d3plus_timeline_playIcon").data(L&&e.timeline.play.value?[0]:[]),C=function(t,n){var a;return n=e.timeline.play[n],i("font-awesome")?(n=n.awesome,a="FontAwesome"):(n=n.fallback,a="inherit"),t.style("font-family",a).text(n)},N=function(t){var n;return n=Z/2+e.ui.padding+1,t.attr("fill",c(e.ui.color.primary.value)).attr("stroke","none").attr($).attr("x",P-(q-1)/2-e.ui.padding).attr("y",n).attr("dy","0.5ex").call(C,o?"pause":"icon")},B.enter().append("text").attr("class","d3plus_timeline_playIcon").call(N).style("pointer-events","none").attr("opacity",0),B.call(N).transition().duration(e.draw.timing).attr("opacity",1),B.exit().transition().duration(e.draw.timing).attr("opacity",0).remove(),j=function(){return F-M==le.length-Q?(E.on(r.hover,null).on(r.click,null).transition().duration(e.draw.timing).attr("opacity",.3),B.transition().duration(e.draw.timing).attr("opacity",.3)):(E.on(r.over,function(){return d3.select(this).style("cursor","pointer")}).on(r.out,function(){return d3.select(this).style("cursor","auto")}).on(r.click,function(){return o?T():(B.call(C,"pause"),F===le.length?(F-=M,M=0):(M++,F++),V(),o=setInterval(function(){return F===le.length-Q?T():(M++,F++,V())},e.timeline.play.timing.value))}).transition().duration(e.draw.timing).attr("opacity",1),B.transition().duration(e.draw.timing).attr("opacity",1))},j(),U=function(t){var n,a,i;return a=Q?t<=p[1]:t<p[1],t>=p[0]&&a?(i=1,n=c(e.ui.color.secondary.value)):(i=.5,n=c(e.ui.color.primary.value)),Q&&e.background.value&&"none"!==e.background.value&&(n=d3.rgb(c(e.background.value))),n=d3.rgb(n),"rgba("+n.r+","+n.g+","+n.b+","+i+")"},n=e.g.timeline.selectAll("rect.d3plus_timeline_background").data(["background"]),n.enter().append("rect").attr("class","d3plus_timeline_background").attr("shape-rendering","crispEdges").attr("width",ee+2).attr("height",Z+2).attr("fill",e.ui.color.primary.value).attr("x",P-1).attr("y",e.ui.padding),n.transition().duration(e.draw.timing).attr("width",ee+2).attr("height",Z+2).attr("fill",e.ui.color.primary.value).attr("x",P-1).attr("y",e.ui.padding),G=e.g.timeline.selectAll("g#ticks").data(["ticks"]),G.enter().append("g").attr("id","ticks").attr("transform","translate("+e.width.value/2+","+e.ui.padding+")"),v=e.g.timeline.selectAll("g#brush").data(["brush"]),v.enter().append("g").attr("id","brush"),_=e.g.timeline.selectAll("g#labels").data(["labels"]),_.enter().append("g").attr("id","labels"),H=_.selectAll("text").data(le,function(e,t){return t}),H.enter().append("text").attr("stroke","none").attr("y",0).attr("dy","0.5ex").attr("x",0),ne=d3.time.scale().domain(d3.extent(re)).rangeRound([0,ee]),H.order().attr($).text(function(e,t){return te.indexOf(+e)>=0?K(e):""}).attr("opacity",function(t,n){return e.data.time.dataSteps.indexOf(n)>=0?1:.4}).attr("fill",U).attr("transform",function(t,n){var a,i;return a=P+ne(t),Q||(a+=k/2),i=Z/2+e.ui.padding+1,Q&&(i+=Z/2+ae),"translate("+Math.round(a)+","+Math.round(i)+")"}),H.exit().transition().duration(e.draw.timing).attr("opacity",0).remove(),f=d3.svg.brush().x(ne).extent(p).on("brush",h).on("brushend",g),W=e.axes.discrete&&e[e.axes.discrete].value===e.time.value?e[e.axes.discrete].ticks.color:e.x.ticks.color,G.attr("transform","translate("+P+","+(e.ui.padding+1)+")").transition().duration(e.draw.timing).call(d3.svg.axis().scale(ne).orient("top").ticks(function(){return re}).tickFormat("").tickSize(-Z).tickPadding(0)).selectAll("line").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("stroke",function(t){return te.indexOf(+t)>=0?W:l(W,e.background.value,.4,1)}),G.selectAll("path").attr("fill","none"),v.attr("transform","translate("+P+","+(e.ui.padding+1)+")").attr("opacity",1).call(f),H.attr("pointer-events","none"),v.selectAll("rect.background").attr("fill","none").style("visibility","visible").attr("height",Z).attr("shape-rendering","crispEdges").on(r.move,function(){var t;return t=e.timeline.hover.value,["grab","grabbing"].indexOf(t)>=0&&(t=s()+t),d3.select(this).style("cursor",t)}),v.selectAll("rect.extent").attr("opacity",.75).attr("height",Z).attr("fill",e.ui.color.secondary.value).attr("shape-rendering","crispEdges").on(r.move,function(){var t;return t=e.timeline.hover.value,["grab","grabbing"].indexOf(t)>=0&&(t=s()+t),d3.select(this).style("cursor",t)}),e.timeline.handles.value?(y=v.selectAll("g.resize").selectAll("rect.d3plus_handle").data(["d3plus_handle"]),y.enter().insert("rect","rect").attr("class","d3plus_handle"),y.attr("fill",e.timeline.handles.color).attr("transform",function(t){return"translate("+("resize e"===this.parentNode.className.baseVal?-e.timeline.handles.size:0)+",0)"}).attr("width",e.timeline.handles.size).style("visibility","visible").attr("shape-rendering","crispEdges").attr("opacity",e.timeline.handles.opacity),v.selectAll("g.resize").selectAll("rect").attr("height",Z)):v.selectAll("g.resize").remove(),X=e.g.timeline.node().getBBox(),0===e.margin.bottom&&(e.margin.bottom+=e.ui.padding),e.margin.bottom+=X.height+X.y,e.g.timeline.transition().duration(e.draw.timing).attr("transform","translate(0,"+Math.round(e.height.value-e.margin.bottom-e.ui.padding/2)+")"),e.margin.bottom+=e.ui.padding,e.dev.value?u.time("drawing timeline"):void 0}},function(e,t,n){var a,i;a=n(71),i=n(107),e.exports=function(e,t,n){var r,l,o,s,u,c,d,f,p;return t||(t=e.zoom.bounds),"number"!=typeof n&&(n=e.timing.transitions),e.zoom.size={height:t[1][1]-t[0][1],width:t[1][0]-t[0][0]},p=e.types[e.type.value],o=e.coords.fit.value,r="auto"===o||p.requirements.indexOf("coords")<0?d3.max([e.zoom.size.width/e.width.viz,e.zoom.size.height/e.height.viz]):e.zoom.size[o]/e["app_"+o],u=d3.min([e.width.viz,e.height.viz]),c=p.zoom?2*e.coords.padding:0,d=(u-c)/u/r,l=e.zoom.behavior.scaleExtent(),l[0]!==l[1]&&t!==e.zoom.bounds||e.zoom.behavior.scaleExtent([d,16*d]),s=e.zoom.behavior.scaleExtent()[1],d>s&&(d=s),e.zoom.scale=d,f=[e.width.viz/2-e.zoom.size.width*d/2-t[0][0]*d,e.height.viz/2-e.zoom.size.height*d/2-t[0][1]*d],e.zoom.translate=f,e.zoom.behavior.translate(f).scale(d),e.zoom.size={height:e.zoom.bounds[1][1]-e.zoom.bounds[0][1],width:e.zoom.bounds[1][0]-e.zoom.bounds[0][0]},e.zoom.reset=!1,(e.labels.value||e.labels.changed)&&a(e),i(e,n)}},function(e,t,n){var a,i,r;a=n(71),i=n(19),r=n(107),e.exports=function(e){var t,n,l,o,s,u,c,d,f,p,v;return n=d3.event.sourceEvent?d3.event.sourceEvent.type:null,s=d3.event.translate,o=d3.event.scale,l=e.zoom.bounds,d=(e.width.viz-e.zoom.size.width*o)/2,c=d>0?d:0,u=d>0?e.width.viz-d:e.width.viz,v=(e.height.viz-e.zoom.size.height*o)/2,p=v>0?v:0,f=v>0?e.height.viz-v:e.height.viz,s[0]+l[0][0]*o>c?s[0]=-l[0][0]*o+c:s[0]+l[1][0]*o<u&&(s[0]=u-l[1][0]*o),s[1]+l[0][1]*o>p?s[1]=-l[0][1]*o+p:s[1]+l[1][1]*o<f&&(s[1]=f-l[1][1]*o),e.zoom.behavior.translate(s).scale(o),e.zoom.translate=s,e.zoom.scale=o,"wheel"===n&&i(e.type.value),(e.labels.value||e.labels.changed)&&("wheel"===n?(t=e.draw.timing?100:250,clearTimeout(e.zoom.wheel),e.zoom.wheel=setTimeout(function(){return a(e)},t)):a(e)),"dblclick"===n?r(e,e.timing.transitions):r(e,0)}},function(e,t,n){var a;a=n(8),e.exports={accepted:[!1,Function,Object,String],deprecates:"active_var",mute:a(!0),solo:a(!0),spotlight:{accepted:[Boolean],deprecates:"spotlight",value:!1},value:!1}},function(e,t){e.exports={accepted:[Object],deprecated:"nesting_aggs",objectAccess:!1,value:{}}},function(e,t,n){var a;a=n(31),e.exports={accepted:[!1,Array,Object,String],delimiter:{accepted:String,value:"|"},filetype:{accepted:[!1,"json","xml","html","csv","dsv","tsv","txt"],value:!1},keys:{},process:a,value:!1}},function(e,t,n){var a,i;a=n(50),i=n(65),e.exports={background:{color:"#fafafa",rendering:i(),stroke:{color:"#ccc",width:1}},margin:{accepted:[Number,Object,String],process:function(e){var t;return void 0===e&&(e=this.value),t=e,a(e,this),t},value:10},mirror:{accepted:[Boolean],deprecates:["mirror_axis","mirror_axes"],value:!1},ticks:{accepted:[Boolean],value:!0}}},function(e,t){e.exports={accepted:[String],value:"#ffffff"}},function(e,t){e.exports={accepted:[Function,String],value:!1}},function(e,t,n){var a,i;a=n(8),i=n(60),e.exports={accepted:[!1,Array,Function,Object,String],deprecates:"color_var",domain:{accepted:[!1,Array],value:!1},focus:"#444444",heatmap:["#282F6B","#419391","#AFD5E8","#EACE3F","#B35C1E","#B22200"],missing:"#eeeeee",mute:a(!0),primary:"#d74b03",range:["#B22200","#FFEE8D","#759143"],scale:{accepted:[Array,Function,"d3plus","category10","category20","category20b","category20c"],process:function(e){return e instanceof Array?d3.scale.ordinal().range(e):"d3plus"===e?i:"string"==typeof e?d3.scale[e]():e},value:"d3plus"},solo:a(!0),secondary:"#e5b3bb",value:!1}},function(e,t){e.exports={accepted:[Object],objectAccess:!1,process:function(e,t){var n,a;for(n in e)a=e[n],n in t.self&&t.self[n](a);return e},value:{}}},function(e,t,n){var a;a=n(23),e.exports={accepted:[!1,Array,Object,String],id:"default",process:function(e,t){return!1!==e&&("default"===t.container.id&&t.self.container({id:"d3plus_"+ +new Date}),a(e)?e.append("div"):e instanceof Array?d3.select(e[0][0]).append("div"):(this.selector=e,d3.select(e).append("div")))},value:!1}},function(e,t,n){var a,i;a=n(8),i=n(31),e.exports={accepted:[!1,Array,Function,Object,String],center:[0,0],filetype:{accepted:["json"],value:"json"},fit:{accepted:["auto","height","width"],value:"auto"},key:!1,mute:a(!1),padding:20,process:i,projection:{accepted:["albers","albersUsa","azimuthalEqualArea","azimuthalEquidistant","conicConformal","conicEqualArea","conicEquidistant","equirectangular","gnomonic","mercator","orthographic","stereographic","transverseMercator",Function],value:"mercator"},simplify:{accepted:[Boolean],value:!0},solo:a(!1),threshold:{accepted:[Number],value:.9},value:!1}},function(e,t,n){var a,i,r;a=n(1),i=n(24),r=n(25),e.exports={accepted:[void 0,!0,Array,String],chainable:!1,data:[],process:function(e,t){var n,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q,V,I,P,R;if(void 0===t.returned)return[];if(e=e||t.cols.value,e instanceof Array?s=e:"string"==typeof e&&(s=[e]),c=[],P=[],t.title.value?(I=t.title.value,"function"==typeof I&&(I=I(t.self)),I=r(I),M=250,I=I.substr(0,M)):I="D3plus Visualization Data",!0===e)for(s=d3.keys(t.data.keys),c.push(s),D=t.data.value,h=0,x=D.length;h<x;h++){for(d=D[h],V=[],g=0,y=s.length;g<y;g++)l=s[g],R=d[l],"string"===t.data.keys[l]&&(R='"'+R+'"'),V.push(R);c.push(V)}else{for(s||(s=[t.id.value],t.time.value&&s.push(t.time.value),t.size.value&&s.push(t.size.value),t.text.value&&s.push(t.text.value)),m=0,b=s.length;m<b;m++)l=s[m],P.push(t.format.value(l));for(c.push(P),j=t.returned.nodes,O=0,w=j.length;O<w;O++)if(E=j[O],null!=E.values&&E.values instanceof Array)for(q=E.values,S=0,z=q.length;S<z;S++){for(R=q[S],V=[],B=0,k=s.length;B<k;B++)o=s[B],R=a(t,R,o),"string"==typeof R&&(R='"'+R+'"'),V.push(R);c.push(V)}else{for(V=[],C=0,_=s.length;C<_;C++)o=s[C],V.push(a(t,E,o));c.push(V)}}for(u="data:text/csv;charset=utf-8,",v=N=0,A=c.length;N<A;v=++N)l=c[v],f=l.join(","),u+=v<c.length?f+"\n":f;return i?(n=new Blob([u],{type:"text/csv;charset=utf-8;"}),navigator.msSaveBlob(n,I+".csv")):(p=encodeURI(u),F=document.createElement("a"),F.setAttribute("href",p),F.setAttribute("download",I+".csv"),F.click()),this.data=c,s},value:void 0}},function(e,t,n){var a;a=n(31),e.exports={accepted:[!1,Array,Function,String],cache:{},delimiter:{accepted:[String],value:"|"},donut:{size:.35},filetype:{accepted:[!1,"json","xml","html","csv","dsv","tsv","txt"],value:!1},filters:[],keys:{},mute:[],large:400,opacity:.9,padding:{accepted:[Number],value:1},process:function(e,t){return a(e,t,this)},solo:[],stroke:{width:1},value:!1}},function(e,t){e.exports={accepted:[Function,Number],value:0}},function(e,t){e.exports={accepted:[!1,Function,Object],value:!1}},function(e,t){e.exports={accepted:[Boolean],value:!1}},function(e,t){e.exports={accepted:[Boolean,String],value:!1}},function(e,t){e.exports={accepted:[!1,Array,Function,Number,String],deprecates:"highlight",process:function(e){return!1===e?[]:e instanceof Array?e:[e]},tooltip:{accepted:[Boolean],value:!0},value:[]}},function(e,t,n){var a,i,r,l;a=n(41),i=n(17),r=n(10),l=n(15),e.exports={align:a(),color:"#444444",decoration:i(),family:r(),secondary:{align:a(),color:"#444444",decoration:i(),family:r(),size:12,spacing:0,transform:l(),weight:200},size:12,spacing:0,transform:l(),weight:200}},function(e,t,n){var a,i,r;i=n(10),a=n(17),r=n(15),e.exports={accepted:[!1,Number,String],font:{align:"center",color:"#444",decoration:a(),family:i(),size:11,transform:r(),weight:200},link:!1,padding:0,position:"bottom",value:!1}},function(e,t,n){var a,i,r,l;a=n(69),i=n(63),r=n(21),l=n(53),e.exports={accepted:[Function,String],affixes:{accepted:[Object],objectAccess:!1,value:{}},deprecates:["number_format","text_format"],locale:{accepted:function(){return d3.keys(i)},process:function(e){var t,n;return t="en_US",n=i[t],e!==t&&(n=r(n,i[e])),this.language=e,n},value:"en_US"},number:{accepted:[!1,Function],value:!1},process:function(e,t){if("string"==typeof e)t.self.format({locale:e});else if("function"==typeof e)return e;return this.value},text:{accepted:[!1,Function],value:!1},value:function(e,t){var n,i;return t||(t={}),t.locale||(t.locale=this.locale.value),i=t.vars||{},i.time&&i.time.value&&t.key===i.time.value?(n=e.constructor===Date?e:new Date(e),i.data.time.format(n)):"number"==typeof e?(this.number.value||a)(e,t):"string"==typeof e?(this.text.value||l)(e,t):JSON.stringify(e)}}},function(e,t){e.exports={accepted:[!1,Number],max:600,secondary:!1,small:200,value:!1}},function(e,t,n){var a,i,r,l,o,s,u,c;a=n(41),i=n(17),r=n(10),l=n(8),s=n(163),u=n(65),c=n(15),o={x:"bottom",x2:"top",y:"left",y2:"right"},e.exports=function(e){return{accepted:[Array,Boolean,Function,Object,String],affixes:{accepted:[Boolean],separator:{accepted:[Boolean,Array],value:!0},value:!1},axis:{accepted:[Boolean],color:"#444",font:{color:!1,decoration:i(!1),family:r(""),size:!1,spacing:0,transform:c(!1),weight:!1},rendering:u(),value:!0},dataFilter:!0,deprecates:[e+"axis",e+"axis_val",e+"axis_var"],domain:{accepted:[!1,Array],value:!1},grid:{accepted:[Boolean],color:"#ccc",rendering:u(),value:!0},label:{accepted:[Boolean,String],fetch:function(t){return!0===this.value?t.format.value(t[e].value,{key:e,vars:t}):this.value},font:{color:"#444",decoration:i(),family:r(),size:12,spacing:0,transform:c(),weight:200},padding:3,value:!0},lines:{accept:[!1,Array,Number,Object],dasharray:{accepted:[Array,String],process:function(e){return e instanceof Array&&(e=e.filter(function(e){return!isNaN(e)}),e=e.length?e.join(", "):"none"),e},value:"10, 10"},color:"#888",font:{align:a("right"),color:"#444",background:{accepted:[Boolean],value:!0},decoration:i(),family:r(),padding:{accepted:[Number],value:10},position:s("middle"),size:12,transform:c(),weight:200},process:Array,rendering:u(),width:1,value:[]},mouse:{accept:[Boolean],dasharray:{accepted:[Array,String],process:function(e){return e instanceof Array&&(e=e.filter(function(e){return!isNaN(e)}),e=e.length?e.join(", "):"none"),e},value:"none"},rendering:u(),width:2,value:!0},mute:l(!0),orient:{accepted:["top","right","bottom","left"],value:o[e]},padding:{accepted:[Number],value:.1},persist:{position:{accepted:[Boolean],value:!1},size:{accepted:[Boolean],value:!0}},range:{accepted:[!1,Array],value:!1},scale:{accepted:["linear","log","discrete","share"],deprecates:["layout","unique_axis",e+"axis_scale"],process:function(t,n){var a,i,r,l;for(r=["log","discrete","share"],a=0,i=r.length;a<i;a++)l=r[a],l===t?n.axes[l]=e:n.axes[l]===e&&(n.axes[l]=!1);return"discrete"===t&&(n.axes.opposite=0===e.indexOf("x")?"y":"x"),t},value:"linear"},solo:l(!0),stacked:{accepted:[Boolean],process:function(t,n){return t||n.axes.stacked!==e?t&&(n.axes.stacked=e):n.axes.stacked=!1,t},value:!1},ticks:{accepted:[!1,Array],color:"#ccc",font:{color:"#666",decoration:i(),family:r(),size:10,spacing:0,transform:c(),weight:200},labels:{accepted:[Boolean,Array],value:!0},rendering:u(),size:10,width:1,value:!1},value:!1,zerofill:{accepted:[Boolean],value:!1}}}},function(e,t){e.exports={accepted:[Boolean],back:function(){if(this.states.length)return this.states.pop()()},chain:[],reset:function(){var e;for(e=[];this.states.length;)e.push(this.states.pop()());return e},states:[],value:!0}},function(e,t,n){var a;a=n(95),e.exports={accepted:[!1,Array,Function,Object,String],back:{accepted:[!1,String],fallback:"&#x276e;",opacity:1,process:a,rotate:0,value:"fa-angle-left"},deprecates:"icon_var",style:{accepted:[Object,String],deprecates:"icon_style",value:"default"},value:!1}},function(e,t,n){var a;a=n(8),e.exports={accepted:[Array,String],dataFilter:!0,deprecates:["id_var","nesting"],grouping:{accepted:[Boolean],value:!0},mute:a(!0),nesting:["id"],solo:a(!0),value:"id"}},function(e,t,n){var a,i,r;a=n(17),i=n(10),r=n(15),e.exports={accepted:[Boolean],align:{accepted:["start","middle","end","left","center","right"],process:function(e){var t;return t=["left","center","right"].indexOf(e),t>=0&&(e=this.accepted[t]),e},value:"middle"},color:{accepted:[!1,String],value:!1},font:{decoration:a(),family:i(),size:11,transform:r(),weight:200},padding:7,resize:{accepted:[Boolean],value:!0},text:{accepted:[!1,Function,String],value:!1},segments:2,valign:{accepted:[!1,"top","middle","bottom"],value:"middle"},value:!0}},function(e,t,n){var a;a=n(10),e.exports={accepted:[Boolean],align:"middle",data:{accepted:[Boolean],value:!0},filters:{accepted:[Boolean],value:!1},font:{align:"middle",color:"#444444",family:a(),size:[8,14],weight:200},gradient:{height:10},icons:{accepted:[Boolean],value:!0},labels:{accepted:[Boolean],value:!0},order:{accepted:["color","id","size","text",Function],sort:{accepted:["asc","desc"],value:"asc"},value:"color"},size:[8,30],tooltip:{accepted:[Boolean],value:!0},text:{accepted:[!1,Function,String],value:!1},title:{accepted:[!1,Function,String],value:!1},value:!0}},function(e,t,n){var a,i,r;a=n(17),i=n(10),r=n(15),e.exports={font:{color:"#444444",decoration:a(),family:i(),transform:r(),weight:200},hover:{color:"#444444",decoration:a(),family:i(),transform:r(),weight:200}}},function(e,t,n){var a;a=n(50),e.exports={accepted:[Number,Object,String],process:function(e){var t;return void 0===e&&(e=this.value),t=e,a(e,this),t},value:0}},function(e,t,n){var a,i,r;a=n(17),i=n(10),r=n(15),e.exports={accepted:[Boolean,String],background:{accepted:[!1,String],value:!1},branding:{accepted:[Boolean],image:{dark:"http://d3plus.org/assets/img/icon-transparent-invert.png",light:"http://d3plus.org/assets/img/icon-transparent.png"},value:!1},font:{color:"#444",decoration:a(),family:i(),size:16,transform:r(),weight:200},padding:5,style:{accepted:[!1,"small","large"],value:!1},value:!0}},function(e,t){e.exports={accepted:[Boolean],click:{accepted:[Boolean,Function],value:!0},move:{accepted:[Boolean,Function],value:!0},out:{accepted:[Boolean,Function],value:!0},over:{accepted:[Boolean,Function],value:!0},value:!0}},function(e,t,n){var a;a=n(31),e.exports={accepted:[!1,Array,Function,String],delimiter:{accepted:[String],value:"|"},filetype:{accepted:[!1,"json","xml","html","csv","dsv","tsv","txt"],value:!1},overlap:.6,process:a,value:!1}},function(e,t){e.exports={accepted:[Boolean,Function,String],agg:{accepted:[!1,Function,"sum","min","max","mean","median"],value:!1},deprecates:["sort"],sort:{accepted:["asc","desc"],value:"desc"},value:!1}},function(e,t){e.exports={accepted:[Boolean],value:!1,timeout:400,process:function(e,t){var n,a;return!!e&&(n=null,a=function(){var e,n,a;if(n=t.container.value.node().parentNode.getBoundingClientRect(),a=n.width,e=n.height,t.self.width(a),t.self.height(e),t.width.changed||t.height.changed)return t.self.draw()},d3.select(window).on("resize."+t.container.id,function(e){return function(t){return clearTimeout(n),n=setTimeout(a,e.timeout)}}(this)),e)}}},function(e,t,n){var a;a=n(65),e.exports={accepted:function(e){var t;return t=e.types[e.type.value].shapes,!t||t instanceof Array||(t=[t]),t.length?t:["square"]},interpolate:{accepted:["basis","basis-open","cardinal","cardinal-open","linear","monotone","step","step-before","step-after"],deprecates:"stack_type",value:"linear"},rendering:a(),value:!1}},function(e,t,n){var a;a=n(8),e.exports={accepted:[!1,Function,Number,Object,String],dataFilter:!0,deprecates:["value","value_var"],mute:a(!0),scale:{accepted:[Function],deprecates:"size_scale",domain:{min:{accepted:[!1,Number],value:!1},max:{accepted:[!1,Number],value:!1}},range:{max:{accepted:[Function,Number],value:function(e){return Math.floor(d3.max([d3.min([e.width.viz,e.height.viz])/15,6]))}},min:{accepted:[Function,Number],value:3}},value:d3.scale.sqrt()},solo:a(!0),threshold:{accepted:[Boolean,Function,Number],value:!1},value:!1}},function(e,t){e.exports={value:!1}},function(e,t,n){var a;a=n(8),e.exports={accepted:[!1,Function,Object,String],deprecates:["else_var","else"],mute:a(!0),solo:a(!0),value:!1}},function(e,t,n){var a;a=n(8),e.exports={accepted:[Array,Boolean,Function,Object,String],deprecates:["name_array","text_var"],nesting:!0,mute:a(!0),solo:a(!0),value:!1}},function(e,t,n){var a;a=n(8),e.exports={accepted:[Array,Boolean,Function,Object,String],dataFilter:!0,deprecates:["year","year_var"],fixed:{accepted:[Boolean],deprecates:["static_axis","static_axes"],value:!0},format:{accepted:[!1,Array,Function,String],value:!1},mute:a(!1),solo:a(!1),value:!1}},function(e,t){e.exports={accepted:[Boolean],align:"middle",hover:{accepted:["all-scroll","col-resize","crosshair","default","grab","grabbing","move","pointer"],value:"pointer"},handles:{accepted:[Boolean],color:"#666",opacity:1,size:3,stroke:"#666",value:!0},height:{accepted:[!1,Number],value:!1},play:{accepted:[Boolean],icon:{accepted:[!1,String],awesome:"",fallback:"►"},pause:{accepted:[!1,String],awesome:"",fallback:"❚❚"},timing:{accepted:[Number],value:1500},value:!0},value:!0}},function(e,t){e.exports={mouseevents:60,transitions:600,ui:200}},function(e,t,n){var a,i,r,l;a=n(17),i=n(10),l=n(15),r=n(25),e.exports={accepted:[!1,Function,String],font:{align:"center",color:"#444444",decoration:a(),family:i(),size:16,transform:l(),weight:400},height:!1,link:!1,padding:2,position:"top",process:function(e,t){var n;return 0===t.container.id.indexOf("default")&&e&&(n=r(e).toLowerCase(),t.self.container({id:n})),e},sub:{accepted:[!1,Function,String],deprecates:"sub_title",font:{align:"center",color:"#444444",decoration:a(),family:i(),size:12,transform:l(),weight:200},link:!1,padding:1,position:"top",value:!1},total:{accepted:[Boolean,Object],deprecates:"total_bar",font:{align:"center",color:"#444444",decoration:a(),family:i(),size:12,transform:l(),weight:200,value:!1},link:!1,padding:1,position:"top",value:!1},width:!1,value:!1}},function(e,t,n){var a,i;a=n(10),i=n(15),e.exports={accepted:[Boolean,Array,Function,Object,String],anchor:"top center",background:"#ffffff",children:{accepted:[Boolean,Number],value:!0},connections:{accepted:[Boolean],value:!0},curtain:{color:"#ffffff",opacity:.8},deprecates:"tooltip_info",extent:{accepted:[Boolean],value:!0},font:{color:"#444",family:a(),size:12,transform:i(),weight:200},fullscreen:{accepted:[Boolean],value:!1},html:{accepted:[!1,Function,Object,String],deprecates:"click_function",value:!1},iqr:{accepted:[Boolean],value:!0},large:250,share:{accepted:[Boolean],value:!0},size:{accepted:[Boolean],value:!0},small:225,stacked:{accepted:[Boolean],value:!1},sub:{accepted:[!1,Function,String],value:!1},value:!0}},function(e,t,n){var a;a=n(8),e.exports={accepted:[!1,Function,Object,String],deprecates:["total_var"],mute:a(!0),solo:a(!0),value:!1}},function(e,t){e.exports={accepted:function(e){return d3.keys(e.types)},mode:{accepted:function(e){return e.types[e.type.value].modes||[!1]},value:!1},value:"tree_map"}},function(e,t,n){var a,i,r,l;r=n(10),a=n(41),i=n(17),l=n(15),e.exports={accepted:[Array,Boolean],align:a("center"),border:1,color:{primary:{process:function(e,t){var n;return n=this.value,t.ui.color.secondary.value||(t.ui.color.secondary.value=d3.rgb(n).darker(.75).toString()),e},value:"#ffffff"},secondary:{value:!1}},display:{acceped:["block","inline-block"],value:"inline-block"},font:{align:"center",color:"#444",decoration:i(),family:r(),size:11,transform:l(),weight:200},margin:5,padding:5,position:{accepted:["top","right","bottom","left"],value:"bottom"},value:!1}},function(e,t){e.exports={accepted:[!1,Number],secondary:!1,small:200,value:!1}},function(e,t,n){var a,i,r,l,o,s,u,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=n(22),r=n(1),l=n(44),o=n(72),s=n(73),u=n(4),a=function(e){var t,n,a,o,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q,V,I,P,R,T,L,H,U,$,W;if(f=e.axes.discrete,g="x"===f?"height":"width",U="x"===f?"width":"height",q=e.axes.opposite,a="x"===f?"left":"top",B="x"===f?"top":"left",l(e,{buffer:!0,zero:q}),h=e.x.domain.viz.concat(e.y.domain.viz),h.indexOf(void 0)>=0)return[];if(S=e.data.viz,e.axes.stacked)for(y=0,z=S.length;y<z;y++)P=S[y],s(e,P.values);for(L=e.axes[U]/e[e.axes.discrete].ticks.values.length,I=e[e.axes.discrete].padding.value,I<1&&(I*=L),2*I>L&&(I=.1*L),O=L-2*I,e.axes.stacked||(e[f].persist.position.value?(R=e[f].value,v=c.call(e.id.nesting,R)>=0?d3.max(S,function(e){return e.values.length}):u(S,e.id.value,r,e).length,O/=v,C=L/2-O/2-I,$=d3.scale.ordinal(),1===v?$.domain([0]).range([0]):$.domain([0,v-1]).range([-C,C])):$=d3.scale.linear()),d=[],D=e[q],N=D.scale.viz.domain().slice(),0===q.indexOf("y")&&(N=N.reverse()),N[0]<=0&&N[1]>=0?W=0:N[0]<0?W(d3.max(N)):W=d3.min(N),e[f].persist.position.value&&!e.axes.stacked&&(x=u(d3.merge(S.map(function(e){return e.values})),e.id.value,r,e,e.id.value,!1),$.domain(x),1===x.length?$.range([0]):$.range(i($.range(),x.length))),F=d3.max(S,function(e){return e.values.length}),b=0,k=S.length;b<k;b++)for(V=S[b],e.axes.stacked?(t=1,E=O):e[f].persist.position.value?(t=v,E=O):(t=V.values.length,e[f].persist.size.value?(E=O/F,C=L/2-E/2*(F-t)-E/2-I):(E=O/t,C=L/2-E/2-I),$.domain([0,t-1]),$.range([-C,C])),T=V.values,m=w=0,_=T.length;w<_;m=++w){if(o=T[m],M=e.axes.stacked?0:$(e[f].persist.position.value?r(e,o,e.id.value):m%t),e.axes.stacked)H=o.d3plus[q],n=o.d3plus[q+"0"];else{if(j=r(e,o,D.value),null===j&&(D=e[q+"2"],j=r(e,o,D.value)),0===j)continue;"log"===D.scale.value&&(W=j<0?-1:1),H=D.scale.viz(j),n=D.scale.viz(W)}p=r(e,o,e[f].value),o.d3plus[f]=e[f].scale.viz(p),o.d3plus[f]+=e.axes.margin.viz[a]+M,A=n-H,o.d3plus[q]=n-A/2,e.axes.stacked||(o.d3plus[q]+=e.axes.margin.viz[B]),delete o.d3plus.r,o.d3plus[U]=E,o.d3plus[g]=Math.abs(A),o.d3plus.init={},o.d3plus.init[q]=D.scale.viz(W),o.d3plus.init[q]-=o.d3plus[q],o.d3plus.init[q]+=e.axes.margin.viz[B],o.d3plus.init[U]=o.d3plus[U],e.text.value?delete o.d3plus.label:o.d3plus.label=!1,d.push(o)}return d},a.filter=function(e,t){return o(e,t,e[e.axes.discrete].value)},a.requirements=["data","x","y"],a.setup=function(e){var t,n,a;return e.axes.discrete||(t=e.time.value===e.y.value?"y":"x",e.self[t]({scale:"discrete"})),a=e[e.axes.opposite],n=e.size,!a.value&&n.value||n.changed&&n.previous===a.value?e.self[e.axes.opposite](n.value):!n.value&&a.value||a.changed&&a.previous===n.value?e.self.size(a.value):void 0},a.shapes=["square"],e.exports=a},function(e,t,n){var a,i,r,l,o,s;i=n(1),r=n(44),l=n(9),o=n(25),s=n(4),a=function(e){var t,n,a,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M;return r(e,{buffer:!0}),u=e.x.domain.viz.concat(e.y.domain.viz),u.indexOf(void 0)>=0?[]:(a=e.axes.discrete,b=e.axes.opposite,n="x"===a?e.axes.margin.viz.left:e.axes.margin.viz.top,y="x"===b?e.axes.margin.viz.left:e.axes.margin.viz.top,c="x"===a?"height":"width",M="x"===a?"width":"height",F=e.axes[M]/e[a].ticks.values.length,A=e.size.value,A="number"==typeof A?A:100,F=d3.min([F-2*e.labels.padding,A]),m=e.type.mode.value,m instanceof Array||(m=[m,m]),h=function(t){var n,a,r;a={};for(n in e.data.keys)r=s(t,n,i,e),a[n]=1===r.length?r[0]:r;return a},x=!1,p=[],d=e.format.value(e.format.locale.value.ui.iqr),f=e.format.value(e.format.locale.value.ui.max),g=e.format.value(e.format.locale.value.ui.min),w=e.format.value(e.format.locale.value.ui.percentile),t=e.format.value(e.format.locale.value.ui.tukey_bottom),O=e.format.value(e.format.locale.value.ui.tukey_top),z=e.format.value(e.format.locale.value.ui.quartile_first),k=e.format.value(e.format.locale.value.ui.quartile_third),v=e.format.value(e.format.locale.value.ui.median),_=[],d3.nest().key(function(t){return i(e,t,e[a].value)}).rollup(function(r){var u,A,S,E,B,C,N,D,j,q,V,I,P,R,T,L,H,U,$,W,J,G,K,Y,X,Z,Q,ee,te,ne,ae;for(G=e[b].scale.viz,te=r.map(function(t){return i(e,t,e[b].value)}),te.sort(function(e,t){return e-t}),s(te),D=d3.quantile(te,.25),L=d3.quantile(te,.5),K=d3.quantile(te,.75),Y={},"tukey"===m[1]?(q=D-K,X=K-1.5*q,Z=O):"extent"===m[1]?(X=d3.max(te),Z=f):"number"==typeof m[1]&&(X=d3.quantile(te,(100-m[1])/100),Z=l(w,m[1])),X=d3.min([d3.max(te),X]),e.tooltip.extent.value&&(Y[Z]={key:e[b].value,value:X}),e.tooltip.iqr.value&&(Y[k]={key:e[b].value,value:K},Y[v]={key:e[b].value,value:L},Y[z]={key:e[b].value,value:D}),"tukey"===m[0]?(q=D-K,u=D+1.5*q,A=t):"extent"===m[0]?(u=d3.min(te),A=g):"number"==typeof m[0]&&(u=d3.quantile(te,m[0]/100),Z=l(w,m[0])),u=d3.max([d3.min(te),u]),e.tooltip.extent.value&&(Y[A]={key:e[b].value,value:u}),E=[],S=[],Q=[],J=[],j=0,R=r.length;j<R;j++)B=r[j],ee=i(e,B,e[b].value),ee>=D&&ee<=K?E.push(B):ee>=u&&ee<D?S.push(B):ee<=X&&ee>K?Q.push(B):J.push(B);for(I=i(e,r[0],e[a].value),ne=e[a].scale.viz(I),ne+=n,P=e.format.value(I,{key:e[a].value,vars:e}),I.constructor===Date&&(I=I.getTime()),I=o(I),E=h(E),E.d3plus={color:"white",id:"box_"+I,init:{},label:!1,shape:"square",stroke:"#444",text:l(d,P)},E.d3plus[M]=F,E.d3plus.init[M]=F,E.d3plus[c]=Math.abs(G(D)-G(K)),E.d3plus[a]=ne,ae=d3.min([G(D),G(K)])+E.d3plus[c]/2,ae+=y,E.d3plus[b]=ae,E.d3plus.tooltip=Y,_.push(E),U={d3plus:{id:"median_line_"+I,position:"height"===c?"top":"right",shape:"whisker",static:!0}},W=e.format.value(L,{key:e[b].value,vars:e}),P={background:"#fff",names:[W],padding:0,resize:!1,x:0,y:0},C=Math.abs(G(L)-G(D)),N=Math.abs(G(L)-G(K)),$=2*d3.min([C,N]),H=2*e.data.stroke.width+2*e.labels.padding,P["width"===M?"w":"h"]=F-H,P["width"===c?"w":"h"]=$-H,U.d3plus.label=P,U.d3plus[M]=F,U.d3plus[a]=ne,U.d3plus[b]=G(L)+y,_.push(U),S=h(S),S.d3plus={id:"bottom_whisker_line_"+I,offset:E.d3plus[c]/2,position:"height"===c?"bottom":"left",shape:"whisker",static:!0},"x"===b&&(S.d3plus.offset*=-1),S.d3plus[c]=Math.abs(G(u)-G(D)),S.d3plus[M]=F,S.d3plus[a]=ne,S.d3plus[b]=ae,_.push(S),Q=h(Q),Q.d3plus={id:"top_whisker_line_"+I,offset:E.d3plus[c]/2,position:"height"===c?"top":"right",shape:"whisker",static:!0},"y"===b&&(Q.d3plus.offset*=-1),Q.d3plus[c]=Math.abs(G(X)-G(K)),Q.d3plus[M]=F,Q.d3plus[a]=ne,Q.d3plus[b]=ae,_.push(Q),V=0,T=J.length;V<T;V++)B=J[V],B.d3plus[a]=ne,B.d3plus[b]=G(i(e,B,e.y.value)),B.d3plus[b]+=y,B.d3plus.r=4,B.d3plus.shape=e.shape.value;return x=!J.length&&X-u==0,p.push(L),_=_.concat(J),r}).entries(e.data.viz),x&&1===s(p).length?[]:_)},a.modes=["tukey","extent",Array,Number],a.requirements=["data","x","y"],a.shapes=["circle","check","cross","diamond","square","triangle","triangle_up","triangle_down"],a.setup=function(e){var t;if(!e.axes.discrete)return t=e.time.value===e.y.value?"y":"x",e.self[t]({scale:"discrete"})},e.exports=a},function(e,t,n){var a,i,r,l,o,s,u;a=n(13),o=n(1),r=n(14),l=n(12),u=n(20),s=n(61),i=function(e){var t,n,i,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q,V,I,P,R,T,L,H;if(m=s(e,e.data.viz),m=a(m,null,null,null,e),f=m.length,f<4?(i=f,E=1):(B=e.width.viz/e.height.viz,i=Math.ceil(Math.sqrt(f*B)),E=Math.ceil(Math.sqrt(f/B))),f>0)for(;(E-1)*i>=f;)E--;for(n=e.width.viz/i,t=e.height.viz/E,e.size.value?(I=e.size.scale.domain.min.value,V=e.size.scale.domain.max.value,h="number"==typeof I?I:d3.min(e.data.viz,function(t){return o(e,t,e.size.value,e.id.value,"min")}),v="number"==typeof V?V:d3.max(e.data.viz,function(t){return o(e,t,e.size.value,e.id.value)}),p=[h,v]):p=[0,0],M=5,N=d3.min([n,t])/2-2*M,z=e.labels.value&&!e.small&&N>=40?d3.max([20,d3.min([.25*N,50])]):0,N-=z,D=d3.min([N,e.size.scale.range.min.value]),C=e.size.scale.value.domain(p).rangeRound([D,N]),O=d3.layout.pack().children(function(e){return e.values}).padding(M).radius(function(e){return C(e)}).size([n-2*M,t-2*M-z]).value(function(e){return e.value}),d=[],S=0,x=y=0,k=m.length;y<k;x=++y){for(c=m[x],q=O.nodes(c),R=n*x%e.width.viz,H=t*S,b=0,_=q.length;b<_;b++)j=q[b],j.children?(F={d3plus:{}},F[e.id.value]=j.key):F=j.d3plus,F.d3plus.depth=e.id.grouping.value?j.depth:e.depth.value,F.d3plus.x=j.x,F.d3plus.xOffset=R,F.d3plus.y=j.y,F.d3plus.yOffset=H+z,F.d3plus.r=j.r,d.push(F);(x+1)%i==0&&S++}for(g=N/d3.max(d,function(e){return e.d3plus.r}),P=O.size()[0]/2,L=O.size()[1]/2,w=0,A=d.length;w<A;w++)c=d[w],c.d3plus.x=(c.d3plus.x-P)*g+P+c.d3plus.xOffset,c.d3plus.y=(c.d3plus.y-L)*g+L+c.d3plus.yOffset,c.d3plus.r=c.d3plus.r*g,delete c.d3plus.xOffset,delete c.d3plus.yOffset,c.d3plus.static=c.d3plus.depth<e.depth.value&&e.id.grouping.value,!z||0!==c.d3plus.depth&&!1!==e.id.grouping.value?delete c.d3plus.label:(c.d3plus.text=l(e,c[e.id.value],c.d3plus.depth),T=z>3*e.labels.padding?e.labels.padding:0,c.d3plus.label={x:0,y:-(N+T+z/2),w:2*N,h:z-T,padding:0,resize:!0,color:u(r(e,c,c.d3plus.depth)),force:!0});return d.sort(function(e,t){return e.d3plus.depth-t.d3plus.depth})},i.fill=!0,i.requirements=["data"],i.scale=1.05,i.shapes=["circle","donut"],e.exports=i},function(e,t,n){var a,i;i=n(0),a=function(e){var t,n;n={circle:"scatter",donut:"scatter",line:"line",square:"scatter",area:"stacked"},t=n[e.shape.value],i.warning('The "chart" visualization type has been deprecated and will be removed in version 2.0. Please use the "'+t+'" visualization type.'),e.self.type(t).draw()},a.shapes=["circle","donut","line","square","area"],e.exports=a},function(e,t){var n;n=function(e){var t,n,a,i,r,l;return t=e.coords.value,a=e.coords.key||d3.keys(t.objects)[0],l=topojson.feature(t,t.objects[a]),n=l.features,r=e.coords.solo.value,i=e.coords.mute.value,n=n.filter(function(t){return t[e.id.value]=t.id,r.length?r.indexOf(t.id)>=0:!i.length||i.indexOf(t.id)<0})},n.libs=["topojson"],n.nesting=!1,n.requirements=["coords"],n.scale=1,n.shapes=["coordinates"],n.zoom=!0,e.exports=n},function(e,t,n){var a,i,r;a=n(14),i=n(20),r=n(0),e.exports=function(e){var t,n,l,o,s,u,c,d,f,p,v,h;for(t=e.axes,c=e.axes.margin.viz,o=t.stacked||!t.ticks.value?[]:e.data.viz,h=2*o.length>e.data.large?0:e.draw.timing,f=function(n,r){return 0===r.indexOf("y")?n.attr("x1",-2).attr("x2",-8).attr("y1",function(e){return e.d3plus.y-c.top}).attr("y2",function(e){return e.d3plus.y-c.top}):n.attr("x1",function(e){return e.d3plus.x-c.left}).attr("x2",function(e){return e.d3plus.x-c.left}).attr("y1",t.height+2).attr("y2",t.height+8),n.style("stroke",function(t){return i(a(e,t))}).style("stroke-width",e.data.stroke.width).attr("shape-rendering",e.shape.rendering.value)},e.dev.value&&r.time("creating axis tick groups"),v=e.group.select("g#d3plus_graph_plane").selectAll("g.d3plus_data_tick").data(o,function(n){var a;return a=t.discrete?"_"+n.d3plus[t.discrete]:"","tick_"+n[e.id.value]+"_"+n.d3plus.depth+a}),v.enter().append("g").attr("class","d3plus_data_tick").attr("opacity",0),e.dev.value&&r.timeEnd("creating axis tick groups"),d=["x","y"],s=0,u=d.length;s<u;s++)n=d[s],e.dev.value&&h&&r.time("creating "+n+" ticks"),l=h&&n!==t.discrete?o:[],p=v.selectAll("line.d3plus_data_"+n).data(l,function(t){return"tick_"+t[e.id.value]+"_"+t.d3plus.depth}),e.dev.value&&h&&r.timeEnd("creating "+n+" ticks"),e.dev.value&&h&&r.time("styling "+n+" ticks"),h>0?p.transition().duration(h).call(f,n):p.call(f,n),p.enter().append("line").attr("class","d3plus_data_"+n).call(f,n),e.dev.value&&h&&r.timeEnd("styling "+n+" ticks");h>0?(v.transition().duration(h).attr("opacity",1),v.exit().transition().duration(h).attr("opacity",0).remove()):(v.attr("opacity",1),v.exit().remove())}},function(e,t,n){var a,i,r,l,o,s,u,c,d,f,p,v;a=n(13),l=n(109),r=n(22),s=n(74),u=n(1),f=n(0),v=n(4),e.exports=function(e,t){var n,a,r,s,h,g,m,x,y,b,w,z;for(r=o(e),!r&&e.axes.dataset||(e.axes.dataset=c(e)),e.axes.scale=!(!t.buffer||!0===t.buffer)&&p(e,t.buffer),n=e.width.viz>e.height.viz?["y","y2","x","x2"]:["x","x2","y","y2"],h=0,m=n.length;h<m;h++)a=n[h],y=0===a.indexOf("x")?"y":"x",w=e.order.changed||e.order.sort.changed||!0===e.order.value&&e[y].changed,e[a].value&&(!e[a].ticks.values||r||w||e[a].value===e.time.value&&e.time.fixed.value)&&(e.dev.value&&f.time("calculating "+a+" axis"),e[a].reset=!0,e[a].ticks.values=!1,a===e.axes.discrete&&e[a].value!==e.time.value&&(e[a].ticks.values=v(e.axes.dataset,e[a].value,u,e)),z=!0===t.zero||0===a.indexOf(t.zero),b=i(e,a,z),0===a.indexOf("y")&&(b=b.reverse()),e[a].scale.viz=d(e,a,b),e[a].domain.viz=b,e.dev.value&&f.timeEnd("calculating "+a+" axis"));if(e.axes.mirror.value&&(s=d3.extent(e.y.domain.viz.concat(e.x.domain.viz)),e.x.domain.viz=s,e.x.scale.viz.domain(s),s=s.slice().reverse(),e.y.domain.viz=s,e.y.scale.viz.domain(s)),t.buffer)for(g=0,x=n.length;g<x;g++)(a=n[g])!==e.axes.discrete&&l(e,a,t.buffer)},o=function(e){var t,n,a,i,r,l,o,s,u,c,d,f,p;if(n=!e.time.fixed.value&&(e.time.solo.changed||e.time.mute.changed),n||(n=e.id.solo.changed||e.id.mute.changed),n)return n;for(a=["data","time","id","depth","type","width","height","x","y","x2","y2"],i=0,s=a.length;i<s;i++)if(l=a[i],e[l].changed){n=!0;break}if(n)return n;for(p=["mute","range","scale","solo","stacked","zerofill"],d=["x","y","x2","y2"],r=0,u=d.length;r<u;r++)for(t=d[r],o=0,c=p.length;o<c;o++)if(f=p[o],e[t][f].changed){n=!0;break}return n},c=function(e){var t,n;return e.time.fixed.value?(n=d3.range(0,e.id.nesting.length),d3.merge(d3.merge([function(){var a,i,r;for(r=[],a=0,i=n.length;a<i;a++)t=n[a],r.push(s(e,"all",t));return r}()]))):e.data.viz},i=function(e,t,n,i){var r,l,o,s,c,d,f,p,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j;if(A=0===t.indexOf("x")?"y":"x",e[t].range.value&&2===e[t].range.value.length)return e[t].range.value.slice();if("share"===e[t].scale.value)return e[t].ticks.values=d3.range(0,1.1,.1),[0,1];if(e[t].stacked.value){for(C=[],F=e.axes.dataset,h=0,y=F.length;h<y;h++)f=F[h],f.values?C=C.concat(f.values):C.push(f);return c=d3.nest().key(function(t){return u(e,t,e[A].value)}).rollup(function(n){var a,i;return i=d3.sum(n,function(n){var a;return a=u(e,n,e[t].value),a>0?a:0}),a=d3.sum(n,function(n){var a;return a=u(e,n,e[t].value),a<0?a:0}),[a,i]}).entries(C),j=d3.merge(c.map(function(e){return e.values})),d3.extent(j)}if(e[t].value===e.time.value)return e.time.solo.value.length?d3.extent(e.time.solo.value).map(function(e){return e.constructor!==Date?(e+="",4===e.length&&parseInt(e)+""===e&&(e+="/01/01"),new Date(e)):e}):d3.extent(e.data.time.ticks);for(j=[],O=e.axes.dataset,g=0,b=O.length;g<b;g++)f=O[g],D=u(e,f,e[t].value),D instanceof Array?j=j.concat(D):j.push(D);if(j=j.filter(function(e){return null!==e}),t===e.axes.discrete){if(B=!0===e.order.value?e[A].value:e.order.value){for(E=e.order.sort.value,r=e.order.agg.value||e.aggs.value[B]||"max",l=typeof r,d=j.reduce(function(e,t){return e[t]=[],e},{}),M=e.axes.dataset,x=0,w=M.length;x<w;x++)if(f=M[x],f.values)for(S=f.values,k=0,z=S.length;k<z;k++)N=S[k],p=u(e,N,e[t].value),d[p].push(u(e,N,B));else p=u(e,f,e[t].value),d[p].push(u(e,f,B));for(m in d)N=d[m],"string"===l?d[m]=d3[r](N):"function"===l&&(d[m]=r(N,B));return d=a(d3.entries(d),"value",E),d=d.reduce(function(e,t){return e.push(t.key),e},[])}return j[0].constructor===String?v(j).sort(function(e,t){return""+e.localeCompare(""+t)}):v(j).sort(function(e,t){return e-t})}return j.sort(function(e,t){return e-t}),"log"===e[t].scale.value&&(0===j[0]&&(j[0]=1),0===j[j.length-1]&&(j[j.length-1]=-1)),n&&(s=j.every(function(e){return e>0}),o=j.every(function(e){return e<0}),(s||o)&&(_=s?1:-1,j.push("log"===e[t].scale.value?_:0))),d3.extent(j)},d=function(e,t,n){var a,i,l,o,s;return i=0===t.indexOf("x")?e.width.viz:e.height.viz,o=e[t].scale.value,["discrete","share"].indexOf(o)>=0&&(o="linear"),s=10,"string"==typeof n[0]?(o="ordinal",a=r([0,i],n.length)):(a=[0,i],"linear"===e[t].scale.value&&(s=Math.floor(i/(4*e[t].ticks.font.size)))),e[t].scale.ticks=s,l=d3.scale[o]().domain(n).range(a),"clamp"in l&&l.clamp(!0),l},p=function(e,t){var n,a,i;return!0===t&&(t="size"),t in e&&(t=e[t].value),i=e.size.scale.range.min.value,"function"==typeof i&&(i=i(e)),a=e.size.scale.range.max.value,"function"==typeof a&&(a=a(e)),!1===t?e.size.scale.value.domain([0,1]).rangeRound([a,a]):"number"==typeof t?e.size.scale.value.domain([0,1]).rangeRound([t,t]):t?(e.dev.value&&f.time("calculating buffer scale"),n=d3.extent(e.axes.dataset,function(n){return u(e,n,t)||0}),n[0]===n[1]&&(i=a),e.dev.value&&f.timeEnd("calculating buffer scale"),e.size.scale.value.domain(n).rangeRound([i,a])):void 0}},function(e,t,n){var a,i,r,l,o;n(6),a=n(5),i=n(14),r=n(1),l=n(20),o=n(18),e.exports=function(e,t){var n,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A;return n=d3.event.type===a.click&&(t.tooltip.value.long||t.tooltip.html.value),u=[a.over,a.move].indexOf(d3.event.type)>=0,_=e.d3plus.x,A=e.d3plus.y,m=e.d3plus.r||0,b=t.types[t.type.value].scale||1,m*=b,c=t.axes,g=t.axes.margin.viz,k=t.draw.timing?t.timing.mouseevents:0,!n&&u?(s=l(i(t,e)),d=["x","y","x2","y2"].filter(function(n){var a;return(a=r(t,e,t[n].value))&&!(a instanceof Array)&&n!==t.axes.stacked&&t[n].mouse.value})):d=[],f=function(e){return e.attr("x1",function(e){return 0===e.indexOf("x")?_:_-m}).attr("y1",function(e){return 0===e.indexOf("y")?A:A+m}).attr("x2",function(e){return 0===e.indexOf("x")?_:_-m}).attr("y2",function(e){return 0===e.indexOf("y")?A:A+m}).attr("opacity",0)},p=function(e){return e.style("stroke",function(e){return"area"===t.shape.value?"white":s}).attr("stroke-dasharray",function(e){return t[e].mouse.dasharray.value}).attr("shape-rendering",function(e){return t[e].mouse.rendering.value}).style("stroke-width",function(e){return t[e].mouse.width})},v=function(n){return n.attr("x1",function(e){return 0===e.indexOf("x")?_:_-m}).attr("y1",function(e){return 0===e.indexOf("y")?A:A+m}).attr("x2",function(n){return 0===n.indexOf("x")?_:e.d3plus.x0?e.d3plus.x0:"y"===n?g.left-t[n].ticks.size:g.left+c.width+t[n].ticks.size}).attr("y2",function(n){return 0===n.indexOf("y")?A:e.d3plus.y0?e.d3plus.y0:"x"===n?c.height+g.top+t[n].ticks.size:g.top-t[n].ticks.size}).style("opacity",1)},h=t.g.labels.selectAll("line.d3plus_mouse_axis_label").data(d),k?(h.enter().append("line").attr("class","d3plus_mouse_axis_label").attr("pointer-events","none").call(f).call(p),h.transition().duration(k).call(v).call(p),h.exit().transition().duration(k).call(f).remove()):(h.call(v).call(p),h.enter().append("line").attr("class","d3plus_mouse_axis_label").attr("pointer-events","none").call(f).call(p),h.exit().remove()),w=function(n){return n.attr("font-size",function(e){return t[e].ticks.font.size+"px"}).attr("font-family",function(e){return t[e].ticks.font.family.value}).attr("font-weight",function(e){return t[e].ticks.font.weight}).attr("x",function(e){return 0===e.indexOf("x")?_:"y"===e?g.left-5-t[e].ticks.size:g.left+c.width+5+t[e].ticks.size}).attr("y",function(n){return 0===n.indexOf("y")?A:e.d3plus.y0?e.d3plus.y+(e.d3plus.y0-e.d3plus.y)/2+g.top-6:"x"===n?c.height+g.top+5+t[n].ticks.size:g.top-5-t[n].ticks.size-1.35*t[n].ticks.font.size}).attr("fill","area"===t.shape.value?"white":o(s))},z=t.g.labels.selectAll("text.d3plus_mouse_axis_label").data(d),z.enter().append("text").attr("class","d3plus_mouse_axis_label").attr("id",function(e){return e+"_d3plusmouseaxislabel"}).attr("dy",function(e){return 0===e.indexOf("y")?.35*t[e].ticks.font.size:t[e].ticks.font.size}).style("text-anchor",function(e){return"y"===e?"end":"y2"===e?"start":"middle"}).attr("opacity",0).attr("pointer-events","none").call(w),z.text(function(n){var a,i;return a=t.axes.stacked||n,i=r(t,e,t[a].value),t.format.value(i,{key:t[a].value,vars:t,labels:t[a].affixes.value})}),k?(z.transition().duration(k).delay(k).attr("opacity",1).call(w),z.exit().transition().duration(k).attr("opacity",0).remove()):(z.attr("opacity",1).call(w),z.exit().remove()),x=function(n){var a;return a=function(e){var t;return t=d3.select("text#"+e+"_d3plusmouseaxislabel"),t.size()?t.node().getBBox():{width:0,height:0}},n.attr("x",function(e){var n;return n=a(e).width,0===e.indexOf("x")?_-n/2-5:"y"===e?g.left-t[e].ticks.size-n-10:g.left+c.width+t[e].ticks.size}).attr("y",function(n){var i;return i=a(n).height,0===n.indexOf("y")?A-(i/2+5):e.d3plus.y0?e.d3plus.y+(e.d3plus.y0-e.d3plus.y)/2+g.top-(i/2+5):"x"===n?c.height+g.top+t[n].ticks.size:g.top-t[n].ticks.size-i-10}).attr("width",function(e){return a(e).width+10}).attr("height",function(e){return a(e).height+10}).style("stroke","area"===t.shape.value?"transparent":s).attr("fill",s).attr("shape-rendering",function(e){return t[e].mouse.rendering.value}).style("stroke-width",function(e){return t[e].mouse.width})},y=t.g.labels.selectAll("rect.d3plus_mouse_axis_label").data(d),k?(y.enter().insert("rect","text.d3plus_mouse_axis_label").attr("class","d3plus_mouse_axis_label").attr("pointer-events","none").attr("opacity",0).call(x),y.transition().duration(k).delay(k).attr("opacity",1).call(x),y.exit().transition().duration(k).attr("opacity",0).remove()):(y.attr("opacity",1).call(x),y.enter().insert("rect","text.d3plus_mouse_axis_label").attr("class","d3plus_mouse_axis_label").attr("pointer-events","none").call(x),y.exit().remove())}},function(e,t,n){var a,i,r,l,o,s,u,c,d,f;a=n(22),i=n(109),l=n(1),o=n(26),d=n(29),f=n(93),n(4),e.exports=function(e,t){var n,a,o,s,c,d,p,v,h,g,m,x,y,b,w,z,k,_,A,F;for(e.axes.margin.viz={top:e.axes.margin.top,right:e.axes.margin.right,bottom:e.axes.margin.bottom,left:e.axes.margin.left},e.axes.height=e.height.viz,e.axes.width=e.width.viz,n=e.width.viz>e.height.viz?["y","y2","x","x2"]:["x","x2","y","y2"],c=0,v=n.length;c<v;c++)if(a=n[c],e[a].value){if(!1===e[a].ticks.values)if(e[a].value===e.time.value){for(_=e.time.solo.value,_=_.length?_.map(function(e){return e.constructor!==Date&&(e+="",4===e.length&&parseInt(e)+""===e&&(e+="/01/01"),e=new Date(e)),e}):e.data.time.values,s=d3.extent(_),w=e.data.time.stepType,_=[s[0]],k=s[0];k<s[1];)m=new Date(k),k=new Date(m["set"+w](m["get"+w]()+1)),_.push(k);e[a].ticks.values=_}else 1===a.indexOf("2")?(y=e[a.slice(0,1)].scale.viz,b=e[a].scale.viz,_=e[a.slice(0,1)].scale.ticks,e[a].ticks.values=y.ticks(_).map(function(e){return parseFloat(d3.format(".5f")(b.invert(y(e))))})):e[a].ticks.values=e[a].scale.viz.ticks(e[a].scale.ticks);e[a].ticks.values.length||(F=l(e,e.data.viz,e[a].value),F instanceof Array||(F=[F]),e[a].ticks.values=F),x=0===a.indexOf("x")?"y":"x",(1===e[a].ticks.values.length||t.buffer&&t.buffer!==x&&a===e.axes.discrete&&!0===e[a].reset)&&i(e,a,t.buffer),e[a].reset=!1,e[a].value===e.time.value?(o={"font-family":e[a].ticks.font.family.value,"font-weight":e[a].ticks.font.weight,"font-size":e[a].ticks.font.size+"px","text-transform":e[a].ticks.font.transform.value,"letter-spacing":e[a].ticks.font.spacing+"px"},A=f(e,{values:e[a].ticks.values,limit:e.width.viz,style:o}),e[a].ticks.value?e[a].ticks.visible=e[a].ticks.value.map(Number):e[a].ticks.labels.value.constructor===Array?e[a].ticks.visible=e[a].ticks.labels.value.map(Number):e[a].ticks.visible=A.values.map(Number),e[a].ticks.format=A.format):e[a].ticks.value?(e[a].ticks.values=e[a].ticks.value,e[a].ticks.labels.value.constructor===Array?e[a].ticks.visible=e[a].ticks.labels.value:e[a].ticks.visible=e[a].ticks.value):e[a].ticks.labels.value.constructor===Array?e[a].ticks.visible=e[a].ticks.labels.value:"log"===e[a].scale.value?(_=e[a].ticks.values,z=_.filter(function(e){return"1"===Math.abs(e).toString().charAt(0)}),z.length<3?e[a].ticks.visible=_:e[a].ticks.visible=z):e[a].ticks.visible=e[a].ticks.values,e[a].value===e.time.value&&(e[a].ticks.visible=e[a].ticks.visible.map(function(e){return e.constructor===Number&&(""+e).length>4?e:(e+="",4===e.length&&parseInt(e)+""===e&&(e+="/01/01"),new Date(e).getTime())}))}if(e.small)for(e.axes.width-=e.axes.margin.viz.left+e.axes.margin.viz.right,e.axes.height-=e.axes.margin.viz.top+e.axes.margin.viz.bottom,d=0,h=n.length;d<h;d++)a=n[d],e[a].label.height=0;else e.small||u(e);for(p=0,g=n.length;p<g;p++)a=n[p],e[a].axis.svg=r(e,a)},u=function(e){var t,n,i,r,l,u,c,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D;for(b=e.x.scale.viz.domain(),E=e.y.scale.viz.domain(),e.x2.value&&(g=e.x2.scale.viz.domain()),e.y2.value&&(O=e.y2.scale.viz.domain()),f=["y","y2"],n=0,l=f.length;n<l;n++)t=f[n],e[t].value&&(c="y"===t?"left":"right",M={"font-size":e[t].ticks.font.size+"px","font-family":e[t].ticks.font.family.value,"font-weight":e[t].ticks.font.weight,"text-transform":e[t].ticks.font.transform.value,"letter-spacing":e[t].ticks.font.spacing+"px"},D=e[t].ticks.visible,"log"===e[t].scale.value?N=D.map(function(e){return s(e)}):"share"===e[t].scale.value?N=D.map(function(n){return e.format.value(100*n,{key:"share",vars:e,output:t})}):e[t].value===e.time.value?N=D.map(function(n,a){return e[t].ticks.format(new Date(n))}):("string"==typeof D[0]&&(D=e[t].scale.viz.domain().filter(function(e){return 0!==e.indexOf("d3plus_buffer_")})),N=D.map(function(n){return e.format.value(n,{key:e[t].value,vars:e,labels:e[t].affixes.value,output:t})})),e[t].ticks.labels.value?(e[t].ticks.hidden=!1,(S=d3.max(o(N,M),function(e){return e.width}))&&(S=Math.ceil(S+e.labels.padding),e.axes.margin.viz[c]+=S)):e[t].ticks.hidden=!0,B=e[t].label.fetch(e),B?(C={"font-family":e[t].label.font.family.value,"font-weight":e[t].label.font.weight,"font-size":e[t].label.font.size+"px","text-transform":e[t].label.font.transform.value,"letter-spacing":e[t].label.font.spacing+"px"},e[t].label.height=o([B],C)[0].height):e[t].label.height=0,e[t].label.value&&(e.axes.margin.viz[c]+=e[t].label.height,e.axes.margin.viz[c]+=2*e[t].label.padding));for(e.axes.width-=e.axes.margin.viz.left+e.axes.margin.viz.right,e.x.scale.viz.range(a([0,e.axes.width],b.length)),g&&e.x2.scale.viz.range(a([0,e.axes.width],g.length)),p=["x","x2"],i=0,u=p.length;i<u;i++)t=p[i],e[t].value&&(c="x"===t?"bottom":"top",e[t].ticks.labels.value?(e[t].ticks.hidden=!1,m={"font-size":e[t].ticks.font.size+"px","font-family":e[t].ticks.font.family.value,"font-weight":e[t].ticks.font.weight,"text-transform":e[t].ticks.font.transform.value,"letter-spacing":e[t].ticks.font.spacing+"px"},F=e[t].ticks.visible,"log"===e[t].scale.value?A=F.map(function(e){return s(e)}):"share"===e[t].scale.value?A=F.map(function(n){return e.format.value(100*n,{key:"share",vars:e,output:t})}):e[t].value===e.time.value?A=F.map(function(n,a){return e[t].ticks.format(new Date(n))}):("string"==typeof F[0]&&(F=e[t].scale.viz.domain().filter(function(e){return 0!==e.indexOf("d3plus_buffer_")})),A=F.map(function(n){return e.format.value(n,{key:e[t].value,vars:e,labels:e[t].affixes.value,output:t})})),_=o(A,m),y=d3.max(_,function(e){return e.width}),x=d3.max(_,function(e){return e.height}),1===F.length?k=e.axes.width:(k=e[t].scale.viz(F[1])-e[t].scale.viz(F[0]),k=Math.abs(k)),y>k&&A.join("").indexOf(" ")>0?(e[t].ticks.wrap=!0,_=o(A,m,{mod:function(t){return d().container(d3.select(t)).height(e.axes.height/2).width(k).draw()}}),y=d3.max(_,function(e){return e.width}),x=d3.max(_,function(e){return e.height})):e[t].ticks.wrap=!1,e[t].ticks.baseline="auto",y<=k?e[t].ticks.rotate=0:y<e.axes.height/2?(_=o(A,m,{mod:function(t){return d().container(d3.select(t)).width(e.axes.height/2).height(k).draw()}}),x=d3.max(_,function(e){return e.width}),y=d3.max(_,function(e){return e.height}),e[t].ticks.rotate=-90):(y=0,x=0),y&&x||(e[t].ticks.hidden=!0,e[t].ticks.rotate=0),y=Math.ceil(y),x=Math.ceil(x),e[t].ticks.maxHeight=x,e[t].ticks.maxWidth=y,x&&(e.axes.margin.viz[c]+=x+e.labels.padding),r=e[t].ticks.visible[e[t].ticks.visible.length-1],v=e[t].scale.viz(r),(v+=y/2+e.axes.margin.viz.left)>e.width.value&&(h=v-e.width.value+e.axes.margin.viz.right,e.axes.width-=h,e.axes.margin.viz.right+=h)):e[t].ticks.hidden=!0,w=e[t].label.fetch(e),w?(z={"font-family":e[t].label.font.family.value,"font-weight":e[t].label.font.weight,"font-size":e[t].label.font.size+"px","text-transform":e[t].label.font.transform.value,"letter-spacing":e[t].label.font.spacing+"px"},e[t].label.height=o([w],z)[0].height):e[t].label.height=0,e[t].label.value&&(e.axes.margin.viz[c]+=e[t].label.height,e.axes.margin.viz[c]+=2*e[t].label.padding));if(e.axes.height-=e.axes.margin.viz.top+e.axes.margin.viz.bottom,e.x.scale.viz.range(a([0,e.axes.width],b.length)),g&&e.x2.scale.viz.range(a([0,e.axes.width],g.length)),e.y.scale.viz.range(a([0,e.axes.height],E.length)),O)return e.y2.scale.viz.range(a([0,e.axes.height],O.length))},r=function(e,t){return d3.svg.axis().tickSize(e[t].ticks.size).tickPadding(5).orient(e[t].orient.value).scale(e[t].scale.viz).tickValues(e[t].ticks.values).tickFormat(function(n,a){var i,r;return e[t].ticks.hidden?null:(r=e[t].scale.value,i=n.constructor===Date?+n:n,e[t].ticks.visible.indexOf(i)>=0?"share"===r?e.format.value(100*n,{key:"share",vars:e,labels:e[t].affixes.value,output:t}):n.constructor===Date?e[t].ticks.format(n):"log"===r?s(n):e.format.value(n,{key:e[t].value,vars:e,labels:e[t].affixes.value,output:t}):null)})},c="⁰¹²³⁴⁵⁶⁷⁸⁹",s=function(e){var t,n,a;return n=Math.round(Math.log(Math.abs(e))/Math.LN10),a=Math.abs(e).toString().charAt(0),t="10 "+(n+"").split("").map(function(e){return c[e]}).join(""),"1"!==a&&(t=a+" x "+t),e<0?"-"+t:t}},function(e,t,n){var a,i,r;a=n(49),i=n(29),r=n(2),e.exports=function(e){var t,n,l,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q,V,I,P,R,T,L,H,U,$,W,J,G,K,Y,X,Z,Q,ee,te,ne,ae,ie,re,le,oe,se,ue;if(v=e.x.domain.viz.concat(e.y.domain.viz),v.indexOf(void 0)>=0)return null;for(d={width:e.axes.width,height:e.axes.height,fill:e.axes.background.color,stroke:e.axes.background.stroke.color,"stroke-width":e.axes.background.stroke.width,"shape-rendering":e.axes.background.rendering.value},n={left:"start",center:"middle",right:"end"},o=e.small?[]:[0],re=function(t,n){return t.attr("x1",function(t){return 0===n.indexOf("x")?e.x.scale.viz(t):0}).attr("x2",function(t){return 0===n.indexOf("x")?e.x.scale.viz(t):e.axes.width}).attr("y1",function(t){return 0===n.indexOf("y")?e.y.scale.viz(t):0}).attr("y2",function(t){return 0===n.indexOf("y")?e.y.scale.viz(t):e.axes.height})},le=function(t,n,i){var r,l,o;return r=i?e[n].grid.color:e[n].ticks.color,l="log"===e[n].scale.value,o=e[n].ticks.visible||[],t.attr("stroke",function(t){var s;return 0===t?e[n].axis.color:(t.constructor===Date&&(t=+t),s=o.indexOf(t)>=0,!s||l&&"1"!==Math.abs(t).toString().charAt(0)?i&&"transparent"!==e.axes.background.color?a(r,e.axes.background.color,.4,1):"transparent"!==e.background.value?a(r,e.background.value,.4,1):a(r,"white",.4,1):r)}).attr("stroke-width",e[n].ticks.width).attr("shape-rendering",e[n].ticks.rendering.value)},h=function(t,n,a){var i;return i=0===n?"axis":"ticks",n=e[t][i].font[a],n&&(n.length||"number"==typeof n)?n:e[t].ticks.font[a]},ie=function(t,n){var i;return i="log"===e[n].scale.value,t.attr("font-size",function(e){return h(n,e,"size")+"px"}).attr("stroke","none").attr("fill",function(t){var r;return r=h(n,t,"color"),i&&"1"!==Math.abs(t).toString().charAt(0)?a(r,e.background.value,.4,1):r}).attr("font-family",function(e){return h(n,e,"family").value}).attr("font-weight",function(e){return h(n,e,"weight")}).style("text-transform",function(e){return h(n,e,"transform").value}).style("letter-spacing",function(e){return h(n,e,"spacing")+"px"})},j=function(t,n){var a,i;return a=0===n.indexOf("x")?"height":"width",i=0===n.indexOf("x")?"y":"x",t.attr(i+"1",0).attr(i+"2",e.axes[a]).attr(n+"1",function(e){return e.coords.line}).attr(n+"2",function(e){return e.coords.line}).attr("stroke",function(t){return t.color||e[n].lines.color}).attr("stroke-width",e[n].lines.width).attr("shape-rendering",e[n].lines.rendering.value).attr("stroke-dasharray",e[n].lines.dasharray.value)},C=function(t,a){var i;return i=0===a.indexOf("x")?"y":"x",t.attr(i,function(e){return e.coords.text[i]+"px"}).attr(a,function(e){return e.coords.text[a]+"px"}).attr("dy",e[a].lines.font.position.value).attr("text-anchor",n[e[a].lines.font.align.value]).attr("transform",function(e){return e.transform}).attr("font-size",e[a].lines.font.size+"px").attr("fill",function(t){return t.color||e[a].lines.color}).attr("font-family",e[a].lines.font.family.value).attr("font-weight",e[a].lines.font.weight)},H="translate("+e.axes.margin.viz.left+","+e.axes.margin.viz.top+")",L=e.group.selectAll("g#d3plus_graph_plane").data([0]),L.transition().duration(e.draw.timing).attr("transform",H),L.enter().append("g").attr("id","d3plus_graph_plane").attr("transform",H),c=L.selectAll("rect#d3plus_graph_background").data([0]),c.transition().duration(e.draw.timing).attr(d),c.enter().append("rect").attr("id","d3plus_graph_background").attr("x",0).attr("y",0).attr(d),P=L.selectAll("path#d3plus_graph_mirror").data([0]),P.enter().append("path").attr("id","d3plus_graph_mirror").attr("fill","#000").attr("fill-opacity",.03).attr("stroke-width",1).attr("stroke","#ccc").attr("stroke-dasharray","10,10").attr("opacity",0),P.transition().duration(e.draw.timing).attr("opacity",function(){return e.axes.mirror.value?1:0}).attr("d",function(){var e,t;return t=d.width,e=d.height,"M "+t+" "+e+" L 0 "+e+" L "+t+" 0 Z"}),Z=0!==e.x.ticks.rotate,se=function(t,n){var a,r;return r="x"===n?e.axes.height:0,a=t.attr("transform","translate(0,"+r+")").call(e[n].axis.svg.scale(e[n].scale.viz)).selectAll("g.tick"),a.selectAll("line").attr("y2",function(t){var a;return t.constructor===Date&&(t=+t),a=d3.select(this).attr("y2"),e[n].ticks.visible.indexOf(t)>=0?a:a/2}),a.select("text").style("text-anchor",Z&&"x"===n?"end":Z?"start":"middle").call(ie,n).each(function(t){if(d3.select(this).attr("dy","0px").attr("font-size",function(e){return h(n,e,"size")+"px"}),t.constructor===Date&&(t=+t),!e[n].ticks.hidden&&e[n].ticks.visible.indexOf(t)>=0)return i().container(d3.select(this)).rotate(e[n].ticks.rotate).align(Z?"end":"center").valign(Z?"middle":"x"===n?"top":"bottom").width(e[n].ticks.maxWidth+2).height(e[n].ticks.maxHeight).padding(0).x(-e[n].ticks.maxWidth/2).y("x2"===n?-(e[n].ticks.maxHeight+2*e.labels.padding):0).draw()})},ue=function(t,n){var a,i;return i="y2"===n?e.axes.width:0,a=t.attr("transform","translate("+i+", 0)").call(e[n].axis.svg.scale(e[n].scale.viz)).selectAll("g.tick"),a.selectAll("line").attr("y2",function(t){var n;return t.constructor===Date&&(t=+t),n=d3.select(this).attr("y2"),e.x.ticks.visible.indexOf(t)>=0?n:n/2}),a.select("text").call(ie,n)},G=["x","x2","y","y2"],y=0,A=G.length;y<A;y++)l=G[y],ee=0===l.indexOf("x")?se:ue,$=o.length&&e[l].value?[0]:[],s=L.selectAll("g#d3plus_graph_"+l+"ticks").data($),s.transition().duration(e.draw.timing).call(ee,l),s.selectAll("line").transition().duration(e.draw.timing).call(le,l),x=s.enter().append("g").attr("id","d3plus_graph_"+l+"ticks").call(ee,l),x.selectAll("path").attr("fill","none").attr("stroke","none"),x.selectAll("line").call(le,l),s.exit().transition().duration(e.data.timing).attr("opacity",0).remove();for(_=function(t,n){return t.attr("x",0===n.indexOf("x")?e.width.viz/2:-(e.axes.height/2+e.axes.margin.viz.top)).attr("y","x"===n?e.height.viz-e[n].label.height/2-e[n].label.padding:"y2"===n?e.width.viz-e[n].label.height/2-e[n].label.padding:e[n].label.height/2+e[n].label.padding).attr("transform",0===n.indexOf("y")?"rotate(-90)":null).attr("font-family",e[n].label.font.family.value).attr("font-weight",e[n].label.font.weight).attr("font-size",e[n].label.font.size+"px").attr("fill",e[n].label.font.color).style("text-anchor","middle").attr("dominant-baseline","central").style("text-transform",e[n].label.font.transform.value).style("letter-spacing",e[n].label.font.spacing+"px")},K=["x","y"],b=0,F=K.length;b<F;b++)l=K[b],e[l].grid.value?m=e[l].ticks.value?e[l].ticks.value:e[l].ticks.values:(m=[],T="x"===l?"y":"x",e[l].ticks.values.indexOf(0)>=0&&e[T].axis.value&&(m=[0])),e[l].value===e.time.value&&(m=m.map(function(e){return e+="",4===e.length&&parseInt(e)+""===e&&(e+="/01/01"),new Date(e).getTime()})),g=L.selectAll("g#d3plus_graph_"+l+"grid").data([0]),g.enter().append("g").attr("id","d3plus_graph_"+l+"grid"),q=g.selectAll("line").data(m,function(e,t){return e.constructor===Date?e.getTime():e}),q.transition().duration(e.draw.timing).call(re,l).call(le,l,!0),q.enter().append("line").style("opacity",0).call(re,l).call(le,l,!0).transition().duration(e.draw.timing).delay(e.draw.timing/2).style("opacity",1),q.exit().transition().duration(e.draw.timing/2).style("opacity",0).remove();for(Y=["x","x2","y","y2"],w=0,O=Y.length;w<O;w++)l=Y[w],e[l].value?(u=e[l].label.fetch(e),k=o&&u&&!e.small?[0]:[],t=e.format.affixes.value[e[l].value],u&&!e[l].affixes.value&&t&&(Q=e[l].affixes.separator.value,!0===Q?Q=["[","]"]:!1===Q&&(Q=["",""]),u+=" "+Q[0]+t[0]+" "+t[1]+Q[1])):(u="",k=[]),z=e.group.selectAll("text#d3plus_graph_"+l+"label").data(k),z.text(u).transition().duration(e.draw.timing).call(_,l),z.enter().append("text").attr("stroke","none").attr("id","d3plus_graph_"+l+"label").text(u).call(_,l),z.exit().transition().duration(e.data.timing).attr("opacity",0).remove();for(X=["x","y","x2","y2"],I=0,M=X.length;I<M;I++)if(l=X[I],e[l].value){for(N=L.selectAll("g#d3plus_graph_"+l+"_userlines").data([0]),N.enter().append("g").attr("id","d3plus_graph_"+l+"_userlines"),p=e[l].scale.viz.domain(),0===l.indexOf("y")&&(p=p.slice().reverse()),te=[],B=[],oe=e[l].lines.value||[],R=0,S=oe.length;R<S;R++)E=oe[R],f=r(E)?E.position:E,(l===e.axes.discrete?p.indexOf(f)>=0:f>=p[0]&&f<=p[1])&&(f=r(E)?E:{position:f},f.coords={line:e[l].scale.viz(f.position)},B.push(f),f.text&&(f.axis=l,f.padding=.5*e[l].lines.font.padding.value,f.align=e[l].lines.font.align.value,U=e[l].lines.font.position.text,ne="middle"===U?0:2*f.padding,"top"===U&&(ne=-ne),0===l.indexOf("x")?(ae="left"===f.align?e.axes.height:"center"===f.align?e.axes.height/2:0,"left"===f.align&&(ae-=2*f.padding),"right"===f.align&&(ae+=2*f.padding)):(ae="left"===f.align?0:"center"===f.align?e.axes.width/2:e.axes.width,"right"===f.align&&(ae-=2*f.padding),"left"===f.align&&(ae+=2*f.padding)),f.coords.text={},f.coords.text[0===l.indexOf("x")?"y":"x"]=ae,f.coords.text[l]=e[l].scale.viz(f.position)+ne,f.transform=0===l.indexOf("x")?"rotate(-90,"+f.coords.text.x+","+f.coords.text.y+")":null,te.push(f)));q=N.selectAll("line.d3plus_graph_"+l+"line").data(B,function(e){return e.position}),q.enter().append("line").attr("class","d3plus_graph_"+l+"line").attr("opacity",0).call(j,l),q.transition().duration(e.draw.timing).attr("opacity",1).call(j,l),q.exit().transition().duration(e.draw.timing).attr("opacity",0).remove(),V=N.selectAll("text.d3plus_graph_"+l+"line_text").data(te,function(e){return e.position}),V.enter().append("text").attr("class","d3plus_graph_"+l+"line_text").attr("id",function(e){var t;return t=e.position+"",t=t.replace("-","neg"),t=t.replace(".","p"),"d3plus_graph_"+l+"line_text_"+t}).attr("opacity",0).call(C,l),V.text(function(e){return e.text}).transition().duration(e.draw.timing).attr("opacity",1).call(C,l),V.exit().transition().duration(e.draw.timing).attr("opacity",0).remove(),J=function(t){var n;return n=function(e){var t;return t=e.position+"",t=t.replace("-","neg"),t=t.replace(".","p"),L.select("text#d3plus_graph_"+e.axis+"line_text_"+t).node().getBBox()},t.attr("x",function(e){return n(e).x-e.padding}).attr("y",function(e){return n(e).y-e.padding}).attr("transform",function(e){return e.transform}).attr("width",function(e){return n(e).width+2*e.padding}).attr("height",function(e){return n(e).height+2*e.padding}).attr("fill","transparent"!==e.axes.background.color?e.axes.background.color:"white")},W=e[l].lines.font.background.value?te:[],D=N.selectAll("rect.d3plus_graph_"+l+"line_rect").data(W,function(e){return e.position}),D.enter().insert("rect","text.d3plus_graph_"+l+"line_text").attr("class","d3plus_graph_"+l+"line_rect").attr("pointer-events","none").attr("opacity",0).call(J),D.transition().delay(e.draw.timing).each("end",function(t){return d3.select(this).transition().duration(e.draw.timing).attr("opacity",1).call(J)}),D.exit().transition().duration(e.draw.timing).attr("opacity",0).remove()}}},function(e,t,n){var a,i,r,l,o,s;a=n(1),i=n(44),l=n(72),o=n(13),s=n(73),r=function(e){var t,n,r,l,u,c,d,f,p,v,h;if(i(e,{buffer:e.axes.opposite,mouse:!0}),r=e.x.domain.viz.concat(e.y.domain.viz),r.indexOf(void 0)>=0)return[];for(n=o(e.data.viz,null,null,null,e),l=0,c=n.length;l<c;l++)for(f=n[l],p=f.values,u=0,d=p.length;u<d;u++)t=p[u],v=a(e,t,e.x.value),null!==v?(t.d3plus.x2=!1,t.d3plus.x=e.x.scale.viz(v)):(t.d3plus.x2=!0,t.d3plus.x=e.x2.scale.viz(a(e,t,e.x2.value))),t.d3plus.x+=e.axes.margin.viz.left,h=a(e,t,e.y.value),null!==h?(t.d3plus.y2=!1,t.d3plus.y=e.y.scale.viz(h)):(t.d3plus.y2=!0,t.d3plus.y=e.y2.scale.viz(a(e,t,e.y2.value))),t.d3plus.y+=e.axes.margin.viz.top;return e.axes.stacked?s(e,n):n},r.filter=function(e,t){return l(e,t)},r.requirements=["data","x","y"],r.setup=function(e){var t;e.axes.discrete||(t=e.time.value===e.y.value?"y":"x",e.self[t]({scale:"discrete"}))},r.shapes=["line"],r.tooltip="static",e.exports=r},function(e,t,n){var a,i,r,l,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=n(101),a=n(1),r=n(4),l=function(e){var t,n,i,r,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q,V,I,P,R,T,L,H,U,$,W,J,G,K,Y,X,Z,Q,ee,te,ne,ae,ie,re,le,oe,se,ue,ce,de,fe;for(v=[],$={},$[e.focus.value[0]]=0,$[e.focus.value[1]]=0,W={all:[[e.focus.value[0]],[e.focus.value[1]]]},Y=l.paths,U=m=0,k=Y.length;m<k;U=++m)for(H=Y[U],v=v.concat(H.edges),z=e.focus.value[0],W[U]=[z],X=H.edges,p=x=0,_=X.length;x<_;p=++x)f=X[p],f[e.edges.source]=e.data.viz.filter(function(t){return f[e.edges.source][e.id.value]===t[e.id.value]})[0],f[e.edges.target]=e.data.viz.filter(function(t){return f[e.edges.target][e.id.value]===t[e.id.value]})[0],V=f[e.edges.source][e.id.value]===z?"target":"source",I=f[e.edges[V]][e.id.value],void 0===$[I]&&($[I]=U),W[U].push(I),z=I;re=0;for(U in W)if(H=W[U],"all"!==U){for(j=0,h=y=0,A=H.length;y<A;h=++y)if(g=H[h],0!==h&&h!==H.length-1&&$[g]===parseFloat(U)){for(j=1,J=H[h-1],q=H[h+1],G=null,P=null,Z=W.all,u=B=0,F=Z.length;B<F;u=++B)s=Z[u],o.call(s,J)>=0&&(G=u),o.call(s,q)>=0&&(P=u);null!==G&&null===P?G+1===W.all.length-1?W.all.splice(G+1,0,[g]):W.all[G+1].push(g):P-G==1?W.all.splice(P,0,[g]):P-G>1&&W.all[P-1].push(g)}re+=j}for(ie=Math.floor(e.height.viz/re),fe=[],h=0;h<re;)h%2==0?fe.push(h):fe.unshift(h),h++;for(b=e.size.value&&!e.small?30:0,de=d3.scale.ordinal().domain(fe).range(d3.range(ie/2-b,e.height.viz+ie/2-b,(e.height.viz-ie)/(re-1))),d=W.all.length,c=Math.floor(e.width.viz/d),ue=d3.scale.linear().domain([0,d-1]).rangeRound([c/2,e.width.viz-c/2]),N=5,C=.4*d3.min([c,ie-b]),oe=d3.extent(e.data.viz,function(t){return a(e,t,e.size.value)||0}),le=e.size.scale.value.domain(oe).rangeRound([N,C]),Q=e.data.viz,D=0,O=Q.length;D<O;D++){for(R=Q[D],null==R.d3plus&&(R.d3plus={}),ee=W.all,u=T=0,M=ee.length;T<M;u=++T)s=ee[u],te=R[e.id.value],o.call(s,te)>=0&&(R.d3plus.x=ue(u));R.d3plus.y=de($[R[e.id.value]]),e.size.value?(se=a(e,R,e.size.value),R.d3plus.r=se?le(se):N):R.d3plus.r=C,R.d3plus.r<.1*c&&!e.small?R.d3plus.label={x:0,y:R.d3plus.r+2*e.labels.padding,w:.6*c,h:b+C-R.d3plus.r,resize:!1}:delete R.d3plus.label}for(ne=l.paths,U=L=0,S=ne.length;L<S;U=++L)for(H=ne[U],z=e.focus.value[0],ae=H.edges,p=K=0,E=ae.length;K<E;p=++K)f=ae[p],V=f[e.edges.source][e.id.value]===z?"target":"source",w="target"===V?"source":"target",I=f[e.edges[V]][e.id.value],$[z]!==$[I]?(f.d3plus={spline:!0},null==(t=f[e.edges.source]).d3plus&&(t.d3plus={}),null==(n=f[e.edges.source].d3plus).edges&&(n.edges={}),null==(i=f[e.edges.target]).d3plus&&(i.d3plus={}),null==(r=f[e.edges.target].d3plus).edges&&(r.edges={}),ce=f[V].d3plus.x-f[w].d3plus.x,f[w].d3plus.edges[f[V][e.id.value]]={angle:Math.PI,radius:c/2},f[V].d3plus.edges[f[w][e.id.value]]={angle:0,radius:c/2,offset:ce-c}):delete f.d3plus,z=I;return{nodes:e.data.viz,edges:v}},l.filter=function(e,t){var n,o,s,u,c,d,f,p,v,h,g,m,x,y,b,w,z,k,_;for(u=e.edges.filtered||e.edges.value,l.paths=i(u,e.focus.value[0],{target:e.focus.value[1],distance:e.edges.size.value||void 0,nodeid:e.id.value,startpoint:e.edges.source,endpoint:e.edges.target,K:e.edges.limit.value||5}),l.nodes=[],n=[],b=l.paths,f=0,h=b.length;f<h;f++)for(y=b[f],w=y.edges,p=0,g=w.length;p<g;p++)s=w[p],k=s[e.edges.source],_=s[e.edges.target],n.indexOf(k[e.id.value])<0&&(l.nodes.push(k),n.push(k[e.id.value])),n.indexOf(_[e.id.value])<0&&(l.nodes.push(_),n.push(_[e.id.value]));for(d=r(l.nodes,e.id.value,a,e),z=[],v=0,m=d.length;v<m;v++)c=d[v],o=t.filter(function(t){return t[e.id.value]===c}),o[0]?z.push(o[0]):(x={d3plus:{}},x[e.id.value]=c,z.push(x));return z},l.nesting=!1,l.requirements=[function(e){return{status:2===e.focus.value.length,text:e.format.locale.value.method.focus+" x 2"}},"edges"],l.scale=1,l.shapes=["circle","square","donut"],l.tooltip="static",e.exports=l},function(e,t,n){var a,i,r,l;a=n(48),i=n(54),r=n(61),l=function(e){var t,n,i,l,o,s,u,c,d;for(u=d3.layout.pie().value(function(e){return e.value}).sort(function(t,n){return e.order.value?a(t.d3plus,n.d3plus,[e.order.value],e.order.sort.value,[],e):e.id.nesting.length>1?a(t.d3plus,n.d3plus,e.id.nesting.concat([e.size.value]),void 0,[],e):a(t.d3plus,n.d3plus,[e.size.value],"desc",[],e)}),n=r(e,e.data.viz,[]),s=u(n),d=[],c=d3.min([e.width.viz,e.height.viz])/2-2*e.labels.padding,i=0,o=s.length;i<o;i++)t=s[i],l=t.data.d3plus,l.d3plus.startAngle=t.startAngle,l.d3plus.endAngle=t.endAngle,l.d3plus.r=c,l.d3plus.x=e.width.viz/2,l.d3plus.y=e.height.viz/2,l.d3plus.share=(t.endAngle-t.startAngle)/(2*Math.PI),d.push(l);return d},l.filter=i,l.requirements=["data","size"],l.shapes=["arc"],l.threshold=function(e){return 1600/(e.width.viz*e.height.viz)},e.exports=l},function(e,t,n){var a,i,r,l,o,s,u,c;n(48),n(13),n(54),i=n(12),r=n(1),l=n(26),o=n(51),u=n(29),a=n(22),c=n(4),s=function(e){var t,n,s,d,f,p,v,h,g,m,x,y,b,w,z,k,_,A,F,O,M,S,E,B,C,N,D,j,q,V,I,P,R,T,L,H,U,$,W,J,G,K,Y,X,Z,Q,ee,te,ne,ae,ie,re,le,oe;for(m=e.data.viz,H=e.depth.value+1,U=e.id.nesting[H],h=function(){var e,t,n;for(n=[],e=0,t=m.length;e<t;e++)g=m[e],n.push(g[U]);return n}(),re=function(){var t,n,a;for(a=[],t=0,n=m.length;t<n;t++)g=m[t],a.push(c(m,U,r,e,H));return a}(),re=c(d3.merge(re)).length,d=2*Math.PI/re,T=d3.min([e.width.viz,e.height.viz])/2,E=0,N=0,D=function(){var t,n,a;for(a=[],t=0,n=h.length;t<n;t++)p=h[t],a.push(i(e,p,H)[0]);return a}(),D=c(d3.merge(D)),e.labels.value&&(x=o(Math.PI/2,T),ee=o(d+Math.PI/2,T),E=x.x-ee.x-2*e.labels.padding,ae={fill:e.x.ticks.font.color,"font-family":e.x.ticks.font.family.value,"font-weight":e.x.ticks.font.weight,"font-size":e.x.ticks.font.size+"px"},te=l(D,ae,{mod:function(t){return u().container(d3.select(t)).width(e.height.viz/8).height(E).draw()}}),N=d3.max(te,function(e){return e.width}),T-=N,T-=2*e.labels.padding),R=function(){var t,n,a;for(a=[],t=0,n=h.length;t<n;t++)p=h[t],a.push(function(){var t,n,a;for(a=[],t=0,n=p.length;t<n;t++)g=p[t],a.push(r(e,g,e.size.value));return a}());return a}(),R=d3.max(d3.merge(R)),J=d3.scale.linear().domain([0,R]).range([0,T]),k=function(){var t,n,a;for(a=[],t=0,n=h.length;t<n;t++)p=h[t],a.push(r(e,p,U));return a}(),k=c(d3.merge(k)),z=d3.scale.ordinal().domain(k).range(d3.range(0,k.length)),A=0,j=m.length;A<j;A++)for(g=m[A],g.d3plus.x=e.width.viz/2+e.margin.top,g.d3plus.y=e.height.viz/2+e.margin.left,G=g[U],w=F=0,q=G.length;F<q;w=++F)t=G[w],t.d3plus||(t.d3plus={}),t.d3plus.r=J(r(e,t,e.size.value)),t.d3plus.a=z(r(e,t,U))*d;for(_=1,K=[10,5,4,2],P=0,V=K.length;P<V;P++)if(w=K[P],T/w>=20){_=w;break}for(X=a([T/_,T],_-1).reverse(),X.length===_&&X.shift(),Q=e.group.selectAll(".d3plus_radar_rings").data(X,function(e,t){return t}),Z=function(t){return t.attr("fill",function(t,n){return 0===n?e.axes.background.color:"transparent"}).attr("cx",e.width.viz/2+e.margin.top).attr("cy",e.height.viz/2+e.margin.left).attr("stroke",e.x.grid.value?e.x.grid.color:"transparent")},Q.enter().append("circle").attr("class","d3plus_radar_rings").call(Z).attr("r",0),Q.transition().duration(e.draw.timing).call(Z).attr("r",function(e){return e}),Q.exit().transition().duration(e.draw.timing).attr("opacity",0).remove(),B=d3.scale.ordinal().domain(D).range(d3.range(0,D.length)),M=[],L=0,I=D.length;L<I;L++)O=D[L],n=d*B(O)-Math.PI/2,t=n*(180/Math.PI),t<-90||t>90?(t-=180,f=-(T+2*e.labels.padding+N),s="end"):(f=T+2*e.labels.padding,s="start"),ie=n<0||n>Math.PI,Y=n<Math.PI/2,W=T,e.labels.value&&(W+=e.labels.padding),$=o(n,W),le=$.x,oe=$.y,Y||(le-=N),ie&&(oe-=E),v=[0,Math.PI].indexOf(d*B(O))>=0,v&&(le-=N/2),M.push({text:O,angle:t,x:f,anchor:s,offset:$});return S=e.group.selectAll("g.d3plus_radar_label_group").data([0]),S.enter().append("g").attr("class","d3plus_radar_label_group").attr("transform","translate("+e.width.viz/2+","+e.height.viz/2+")"),S.transition().duration(e.draw.timing).attr("transform","translate("+e.width.viz/2+","+e.height.viz/2+")"),ne=S.selectAll(".d3plus_radar_labels").data(e.labels.value?M:[],function(e,t){return t}),C=function(e){return e.attr(ae).each(function(e,t){return u().container(d3.select(this)).height(E).width(N).align(e.anchor).text(e.text).padding(0).valign("middle").x(e.x).y(-E/2).draw()}).attr("transform",function(e){var t;return t=d3.select(this).attr("transform")||"",t.length&&(t=t.split(")").slice(-3).join(")")),"rotate("+e.angle+")"+t})},ne.call(C),ne.enter().append("text").attr("class","d3plus_radar_labels").attr("opacity",0).call(C).transition().duration(e.draw.timing).attr("opacity",1),ne.exit().transition().duration(e.draw.timing).attr("opacity",0).remove(),y=e.group.selectAll(".d3plus_radar_lines").data(M,function(e,t){return t}),b=function(t){return t.attr("stroke",e.x.grid.color).attr("x1",e.width.viz/2+e.margin.left).attr("y1",e.height.viz/2+e.margin.top)},y.enter().append("line").attr("class","d3plus_radar_lines").call(b).attr("x2",e.width.viz/2+e.margin.left).attr("y2",e.height.viz/2+e.margin.top),y.transition().duration(e.draw.timing).call(b).attr("x2",function(t){return e.width.viz/2+e.margin.left+t.offset.x}).attr("y2",function(t){return e.height.viz/2+e.margin.top+t.offset.y}),y.exit().transition().duration(e.draw.timing).attr("opacity",0).remove(),e.mouse.viz={click:!1},m},s.requirements=["data","size"],s.shapes=["radial"],e.exports=s},function(e,t,n){var a,i,r,l;a=n(372),i=n(5),r=n(19),n(4),l=function(e){var t,n,l,o,s,u,c,d,f,p,v,h,g,m,x;for(o=e.focus.value[0],h=2*e.data.stroke.width,x=e.size.value.constructor===Number?e.size.value:20,l=e.edges.connections(o,e.id.value).filter(function(t){return t[e.edges.source][e.id.value]!==o||t[e.edges.target][e.id.value]!==o}),v=[],g=[],l=l.map(function(t){var n,a;return t[e.edges.target][e.id.value]===o?(n={id:"left_"+t[e.edges.source][e.id.value],dupe:"left",data:t[e.edges.source],value:t[e.edges.strength.value]},a=t[e.edges.target]):(n=t[e.edges.source],a={id:"right_"+t[e.edges.target][e.id.value],dupe:"right",data:t[e.edges.target],value:t[e.edges.strength.value]}),g.indexOf(n.id)<0&&v.push(n),g.indexOf(a.id)<0&&v.push(a),g.push(n.id),g.push(a.id),{source:n,target:a,value:t[e.edges.strength.value]||1}}),c=a().nodeWidth(x).nodePadding(e.data.padding.value).size([e.width.viz-2*h,e.height.viz-2*h]).nodes(v).links(l).layout(2),m=[],s=0,d=v.length;s<d;s++)p=v[s],t=p.data||p,t={id:t[e.id.value]},t.d3plus={x:p.x+p.dx/2+h,y:p.y+p.dy/2+h,width:p.dx,height:p.dy,suffix:p.dupe},t.id!==o&&(t[e.edges.strength.value]=p.value),m.push(t);for(e.edges.path=c.link(),u=0,f=l.length;u<f;u++)n=l[u],n.d3plus={x:h,y:h};return e.mouse.viz={},e.mouse.viz[i.click]=function(t){var n;if(t[e.id.value]!==e.focus.value[0])return r(e.type.value),n=e.focus.value[0],e.history.states.push(function(){return e.self.focus(n).draw()}),e.self.focus(t[e.id.value]).draw()},{nodes:m,edges:l}},l.requirements=["edges","focus","nodes"],l.shapes=["square"],e.exports=l},function(e,t,n){var a,i,r,l,o;a=n(1),i=n(44),n(0),l=n(13),o=n(294),r=function(e){var t,n,r,s,u;if(i(e,{buffer:"size",mouse:!0}),n=e.x.domain.viz.concat(e.y.domain.viz),n.indexOf(void 0)>=0)return[];for(u=e.data.viz,r=0,s=u.length;r<s;r++)t=u[r],t.d3plus.x=e.x.scale.viz(a(e,t,e.x.value)),t.d3plus.x+=e.axes.margin.viz.left,t.d3plus.y=e.y.scale.viz(a(e,t,e.y.value)),t.d3plus.y+=e.axes.margin.viz.top,"number"!=typeof e.size.value&&e.size.value?t.d3plus.r=e.axes.scale(a(e,t,e.size.value)):t.d3plus.r=e.axes.scale(0);return o(e),l(e.data.viz,e.order.value||e.size.value||e.id.value,"desc"===e.order.sort.value?"asc":"desc",e.color.value||[],e)},r.fill=!0,r.requirements=["data","x","y"],r.scale=1.1,r.setup=function(e){if(e.time.value&&!e.axes.discrete&&(e.time.value===e.x.value&&e.self.x({scale:"discrete"}),e.time.value===e.y.value))return e.self.y({scale:"discrete"})},r.shapes=["circle","square","donut"],r.tooltip="static",e.exports=r},function(e,t,n){var a,i,r,l;a=n(54),i=n(61),r=n(21),l=function(e){var t,n,a,l,o,s,u;if(a=i(e,e.data.viz),n=d3.layout.treemap().mode(e.type.mode.value).round(!0).size([e.width.viz,e.height.viz]).children(function(e){return e.values}).padding(e.data.padding.value).sort(function(e,t){var n;return n=e.value-t.value,0===n?e.id<t.id:n}).nodes({name:"root",values:a}).filter(function(e){return!e.values&&e.area}),n.length){for(u=n[0];u.parent;)u=u.parent;for(s=[],l=0,o=n.length;l<o;l++)t=n[l],t.d3plus.d3plus=r(t.d3plus.d3plus,{x:t.x+t.dx/2,y:t.y+t.dy/2,width:t.dx,height:t.dy,share:t.value/u.value}),s.push(t.d3plus)}return s},l.filter=a,l.modes=["squarify","slice","dice","slice-dice"],l.requirements=["data","size"],l.shapes=["square"],l.threshold=function(e){return 1600/(e.width.viz*e.height.viz)},e.exports=l},function(e,t,n){var a,i,r,l,o,s;a=n(64),i=n(262),l=n(116),o=n(343),s=n(0),r=n(229),n(2),e.exports=function(){var e;return e={g:{apps:{}},types:{area:n(108),bar:n(289),bubbles:n(291),box:n(290),chart:n(292),geo_map:n(293),line:n(299),network:n(370),paths:n(300),pie:n(301),radar:n(302),rings:n(371),sankey:n(303),scatter:n(304),stacked:n(108),table:n(373),tree_map:n(305)}},e.self=function(t){return t.each(function(){var t,n,a,i,u,c,d;e.draw.frozen=!0,e.error.internal=null,"timing"in e.draw||(e.draw.timing=e.timing.transitions),e.error.value&&(e.draw.timing=0),r(e),c=e.width.value<=e.width.small,u=e.height.value<=e.height.small,e.small=c||u,e.width.viz=e.width.value,e.height.viz=e.height.value,t=!1,n=function(){d.length?i():e.dev.value&&(s.groupEnd(),s.timeEnd("total draw time"),s.log("\n"))},a=function(t,a){a=a||"function",t[a]instanceof Array?t[a].forEach(function(t){t(e,n)}):"function"==typeof t[a]&&t[a](e,n),t.wait||n()},i=function(){var i,r,o,u;u=d.shift(),o=e.g.message&&t===u.message,r=!("check"in u)||u.check,"function"==typeof r&&(r=r(e)),r?o?a(u):(e.dev.value&&(!1!==t&&s.groupEnd(),s.group(u.message)),"string"==typeof e.messages.value?(t=e.messages.value,i=e.messages.value):(t=u.message,i=e.format.value(u.message)),e.draw.update?(l(e,i),e.error.value?a(u):setTimeout(function(){return a(u)},10)):a(u)):"otherwise"in u?e.error.value?a(u,"otherwise"):setTimeout(function(){return a(u,"otherwise")},10):n()},e.messages.style.backup=e.group&&"1"===e.group.attr("opacity")?"small":"large",d=o(e),i()}),e.self},a(e,{active:n(241),aggs:n(242),attrs:n(243),axes:n(244),background:n(245),class:n(246),color:n(247),cols:n(366),config:n(248),container:n(249),coords:n(250),csv:n(251),data:n(252),depth:n(253),descs:n(254),dev:n(255),draw:n(367),edges:n(368),error:n(256),focus:n(257),font:n(258),footer:n(259),format:n(260),height:n(261),history:n(263),icon:n(264),id:n(265),labels:n(266),legend:n(267),links:n(268),margin:n(269),messages:n(270),mouse:n(271),nodes:n(272),order:n(273),resize:n(274),shape:n(275),size:n(276),style:n(277),temp:n(278),text:n(279),time:n(280),timeline:n(281),timing:n(282),title:n(283),tooltip:n(284),total:n(285),type:n(286),ui:n(287),width:n(288),x:i("x"),x2:i("x2"),y:i("y"),y2:i("y2"),zoom:n(369)}),e.self}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function a(e){n(396)}var i=n(47)(n(154),n(426),a,"data-v-7b6b0704",null);e.exports=i.exports},function(e,t,n){function a(e){n(397)}var i=n(47)(n(155),n(427),a,"data-v-a8c4fb64",null);e.exports=i.exports},function(e,t,n){function a(e){n(393)}var i=n(47)(n(156),n(423),a,null,null);e.exports=i.exports},function(e,t,n){function a(e){n(395)}var i=n(47)(n(157),n(425),a,"data-v-4d8bbc87",null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"searchbox"},[n("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"Search accession number",icon:"search","on-icon-click":e.handleIconClick},on:{select:e.handleSelect},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"searchpanel"},[n("el-input",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],attrs:{icon:"search","on-icon-click":e.handleIconClick},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e._v(" "),[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.record,"show-header":!1,height:.8*e.vh,"empty-text":"No result for "+e.query}},[n("el-table-column",{attrs:{prop:"key",label:"屬性",width:"80px"}}),e._v(" "),n("el-table-column",{attrs:{prop:"val",label:"值","min-width":"200px"}})],1)]],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("searchpanel",{attrs:{query:e.query,id:"searchpanel"},on:{"newVizTask:query":e.vizTaskHandler}}),e._v(" "),n("rings",{attrs:{focus:e.focus,id:"rings"},on:{"newFatchTask:focus":e.fatchTaskHandler}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rings"},[n("div",{attrs:{id:"canvas"}})])}]}}],[152]);
//# sourceMappingURL=app.0bc8dbe6f2703026a286.js.map